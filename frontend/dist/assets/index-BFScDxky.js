(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const v of h)if(v.type==="childList")for(const y of v.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function d(h){const v={};return h.integrity&&(v.integrity=h.integrity),h.referrerPolicy&&(v.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?v.credentials="include":h.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function c(h){if(h.ep)return;h.ep=!0;const v=d(h);fetch(h.href,v)}})();function mo(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kc={exports:{}},oi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function lv(){if(cm)return oi;cm=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(c,h,v){var y=null;if(v!==void 0&&(y=""+v),h.key!==void 0&&(y=""+h.key),"key"in h){v={};for(var x in h)x!=="key"&&(v[x]=h[x])}else v=h;return h=v.ref,{$$typeof:r,type:c,key:y,ref:h!==void 0?h:null,props:v}}return oi.Fragment=o,oi.jsx=d,oi.jsxs=d,oi}var om;function iv(){return om||(om=1,Kc.exports=lv()),Kc.exports}var l=iv(),Jc={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function sv(){if(um)return je;um=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,L={};function R(N,V,se){this.props=N,this.context=V,this.refs=L,this.updater=se||Q}R.prototype.isReactComponent={},R.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function O(){}O.prototype=R.prototype;function ee(N,V,se){this.props=N,this.context=V,this.refs=L,this.updater=se||Q}var T=ee.prototype=new O;T.constructor=ee,C(T,R.prototype),T.isPureReactComponent=!0;var Y=Array.isArray,_={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function F(N,V,se,ae,fe,ge){return se=ge.ref,{$$typeof:r,type:N,key:V,ref:se!==void 0?se:null,props:ge}}function E(N,V){return F(N.type,V,void 0,void 0,void 0,N.props)}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function te(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return V[se]})}var I=/\/+/g;function G(N,V){return typeof N=="object"&&N!==null&&N.key!=null?te(""+N.key):V.toString(36)}function re(){}function ce(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(re,re):(N.status="pending",N.then(function(V){N.status==="pending"&&(N.status="fulfilled",N.value=V)},function(V){N.status==="pending"&&(N.status="rejected",N.reason=V)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function le(N,V,se,ae,fe){var ge=typeof N;(ge==="undefined"||ge==="boolean")&&(N=null);var he=!1;if(N===null)he=!0;else switch(ge){case"bigint":case"string":case"number":he=!0;break;case"object":switch(N.$$typeof){case r:case o:he=!0;break;case b:return he=N._init,le(he(N._payload),V,se,ae,fe)}}if(he)return fe=fe(N),he=ae===""?"."+G(N,0):ae,Y(fe)?(se="",he!=null&&(se=he.replace(I,"$&/")+"/"),le(fe,V,se,"",function(Oe){return Oe})):fe!=null&&(P(fe)&&(fe=E(fe,se+(fe.key==null||N&&N.key===fe.key?"":(""+fe.key).replace(I,"$&/")+"/")+he)),V.push(fe)),1;he=0;var et=ae===""?".":ae+":";if(Y(N))for(var De=0;De<N.length;De++)ae=N[De],ge=et+G(ae,De),he+=le(ae,V,se,ge,fe);else if(De=D(N),typeof De=="function")for(N=De.call(N),De=0;!(ae=N.next()).done;)ae=ae.value,ge=et+G(ae,De++),he+=le(ae,V,se,ge,fe);else if(ge==="object"){if(typeof N.then=="function")return le(ce(N),V,se,ae,fe);throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return he}function k(N,V,se){if(N==null)return N;var ae=[],fe=0;return le(N,ae,"","",function(ge){return V.call(se,ge,fe++)}),ae}function H(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var ne=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function xe(){}return je.Children={map:k,forEach:function(N,V,se){k(N,function(){V.apply(this,arguments)},se)},count:function(N){var V=0;return k(N,function(){V++}),V},toArray:function(N){return k(N,function(V){return V})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},je.Component=R,je.Fragment=d,je.Profiler=h,je.PureComponent=ee,je.StrictMode=c,je.Suspense=g,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,je.__COMPILER_RUNTIME={__proto__:null,c:function(N){return _.H.useMemoCache(N)}},je.cache=function(N){return function(){return N.apply(null,arguments)}},je.cloneElement=function(N,V,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ae=C({},N.props),fe=N.key,ge=void 0;if(V!=null)for(he in V.ref!==void 0&&(ge=void 0),V.key!==void 0&&(fe=""+V.key),V)!z.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(ae[he]=V[he]);var he=arguments.length-2;if(he===1)ae.children=se;else if(1<he){for(var et=Array(he),De=0;De<he;De++)et[De]=arguments[De+2];ae.children=et}return F(N.type,fe,void 0,void 0,ge,ae)},je.createContext=function(N){return N={$$typeof:y,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:v,_context:N},N},je.createElement=function(N,V,se){var ae,fe={},ge=null;if(V!=null)for(ae in V.key!==void 0&&(ge=""+V.key),V)z.call(V,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(fe[ae]=V[ae]);var he=arguments.length-2;if(he===1)fe.children=se;else if(1<he){for(var et=Array(he),De=0;De<he;De++)et[De]=arguments[De+2];fe.children=et}if(N&&N.defaultProps)for(ae in he=N.defaultProps,he)fe[ae]===void 0&&(fe[ae]=he[ae]);return F(N,ge,void 0,void 0,null,fe)},je.createRef=function(){return{current:null}},je.forwardRef=function(N){return{$$typeof:x,render:N}},je.isValidElement=P,je.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:H}},je.memo=function(N,V){return{$$typeof:f,type:N,compare:V===void 0?null:V}},je.startTransition=function(N){var V=_.T,se={};_.T=se;try{var ae=N(),fe=_.S;fe!==null&&fe(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(xe,ne)}catch(ge){ne(ge)}finally{_.T=V}},je.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},je.use=function(N){return _.H.use(N)},je.useActionState=function(N,V,se){return _.H.useActionState(N,V,se)},je.useCallback=function(N,V){return _.H.useCallback(N,V)},je.useContext=function(N){return _.H.useContext(N)},je.useDebugValue=function(){},je.useDeferredValue=function(N,V){return _.H.useDeferredValue(N,V)},je.useEffect=function(N,V,se){var ae=_.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(N,V)},je.useId=function(){return _.H.useId()},je.useImperativeHandle=function(N,V,se){return _.H.useImperativeHandle(N,V,se)},je.useInsertionEffect=function(N,V){return _.H.useInsertionEffect(N,V)},je.useLayoutEffect=function(N,V){return _.H.useLayoutEffect(N,V)},je.useMemo=function(N,V){return _.H.useMemo(N,V)},je.useOptimistic=function(N,V){return _.H.useOptimistic(N,V)},je.useReducer=function(N,V,se){return _.H.useReducer(N,V,se)},je.useRef=function(N){return _.H.useRef(N)},je.useState=function(N){return _.H.useState(N)},je.useSyncExternalStore=function(N,V,se){return _.H.useSyncExternalStore(N,V,se)},je.useTransition=function(){return _.H.useTransition()},je.version="19.1.0",je}var dm;function ho(){return dm||(dm=1,Jc.exports=sv()),Jc.exports}var m=ho();const Os=mo(m);var Wc={exports:{}},ui={},Pc={exports:{}},Ic={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function rv(){return fm||(fm=1,function(r){function o(k,H){var ne=k.length;k.push(H);e:for(;0<ne;){var xe=ne-1>>>1,N=k[xe];if(0<h(N,H))k[xe]=H,k[ne]=N,ne=xe;else break e}}function d(k){return k.length===0?null:k[0]}function c(k){if(k.length===0)return null;var H=k[0],ne=k.pop();if(ne!==H){k[0]=ne;e:for(var xe=0,N=k.length,V=N>>>1;xe<V;){var se=2*(xe+1)-1,ae=k[se],fe=se+1,ge=k[fe];if(0>h(ae,ne))fe<N&&0>h(ge,ae)?(k[xe]=ge,k[fe]=ne,xe=fe):(k[xe]=ae,k[se]=ne,xe=se);else if(fe<N&&0>h(ge,ne))k[xe]=ge,k[fe]=ne,xe=fe;else break e}}return H}function h(k,H){var ne=k.sortIndex-H.sortIndex;return ne!==0?ne:k.id-H.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;r.unstable_now=function(){return v.now()}}else{var y=Date,x=y.now();r.unstable_now=function(){return y.now()-x}}var g=[],f=[],b=1,A=null,D=3,Q=!1,C=!1,L=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function Y(k){for(var H=d(f);H!==null;){if(H.callback===null)c(f);else if(H.startTime<=k)c(f),H.sortIndex=H.expirationTime,o(g,H);else break;H=d(f)}}function _(k){if(L=!1,Y(k),!C)if(d(g)!==null)C=!0,z||(z=!0,G());else{var H=d(f);H!==null&&le(_,H.startTime-k)}}var z=!1,F=-1,E=5,P=-1;function te(){return R?!0:!(r.unstable_now()-P<E)}function I(){if(R=!1,z){var k=r.unstable_now();P=k;var H=!0;try{e:{C=!1,L&&(L=!1,ee(F),F=-1),Q=!0;var ne=D;try{t:{for(Y(k),A=d(g);A!==null&&!(A.expirationTime>k&&te());){var xe=A.callback;if(typeof xe=="function"){A.callback=null,D=A.priorityLevel;var N=xe(A.expirationTime<=k);if(k=r.unstable_now(),typeof N=="function"){A.callback=N,Y(k),H=!0;break t}A===d(g)&&c(g),Y(k)}else c(g);A=d(g)}if(A!==null)H=!0;else{var V=d(f);V!==null&&le(_,V.startTime-k),H=!1}}break e}finally{A=null,D=ne,Q=!1}H=void 0}}finally{H?G():z=!1}}}var G;if(typeof T=="function")G=function(){T(I)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ce=re.port2;re.port1.onmessage=I,G=function(){ce.postMessage(null)}}else G=function(){O(I,0)};function le(k,H){F=O(function(){k(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(k){switch(D){case 1:case 2:case 3:var H=3;break;default:H=D}var ne=D;D=H;try{return k()}finally{D=ne}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ne=D;D=k;try{return H()}finally{D=ne}},r.unstable_scheduleCallback=function(k,H,ne){var xe=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?xe+ne:xe):ne=xe,k){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ne+N,k={id:b++,callback:H,priorityLevel:k,startTime:ne,expirationTime:N,sortIndex:-1},ne>xe?(k.sortIndex=ne,o(f,k),d(g)===null&&k===d(f)&&(L?(ee(F),F=-1):L=!0,le(_,ne-xe))):(k.sortIndex=N,o(g,k),C||Q||(C=!0,z||(z=!0,G()))),k},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(k){var H=D;return function(){var ne=D;D=H;try{return k.apply(this,arguments)}finally{D=ne}}}}(Ic)),Ic}var mm;function cv(){return mm||(mm=1,Pc.exports=rv()),Pc.exports}var eo={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function ov(){if(hm)return pt;hm=1;var r=ho();function o(g){var f="https://react.dev/errors/"+g;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)f+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var c={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},h=Symbol.for("react.portal");function v(g,f,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:A==null?null:""+A,children:g,containerInfo:f,implementation:b}}var y=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(g,f){if(g==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,pt.createPortal=function(g,f){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(o(299));return v(g,f,null,b)},pt.flushSync=function(g){var f=y.T,b=c.p;try{if(y.T=null,c.p=2,g)return g()}finally{y.T=f,c.p=b,c.d.f()}},pt.preconnect=function(g,f){typeof g=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,c.d.C(g,f))},pt.prefetchDNS=function(g){typeof g=="string"&&c.d.D(g)},pt.preinit=function(g,f){if(typeof g=="string"&&f&&typeof f.as=="string"){var b=f.as,A=x(b,f.crossOrigin),D=typeof f.integrity=="string"?f.integrity:void 0,Q=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;b==="style"?c.d.S(g,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:A,integrity:D,fetchPriority:Q}):b==="script"&&c.d.X(g,{crossOrigin:A,integrity:D,fetchPriority:Q,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},pt.preinitModule=function(g,f){if(typeof g=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var b=x(f.as,f.crossOrigin);c.d.M(g,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&c.d.M(g)},pt.preload=function(g,f){if(typeof g=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var b=f.as,A=x(b,f.crossOrigin);c.d.L(g,b,{crossOrigin:A,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},pt.preloadModule=function(g,f){if(typeof g=="string")if(f){var b=x(f.as,f.crossOrigin);c.d.m(g,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else c.d.m(g)},pt.requestFormReset=function(g){c.d.r(g)},pt.unstable_batchedUpdates=function(g,f){return g(f)},pt.useFormState=function(g,f,b){return y.H.useFormState(g,f,b)},pt.useFormStatus=function(){return y.H.useHostTransitionStatus()},pt.version="19.1.0",pt}var pm;function uv(){if(pm)return eo.exports;pm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),eo.exports=ov(),eo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function dv(){if(vm)return ui;vm=1;var r=cv(),o=ho(),d=uv();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(v(e)!==e)throw Error(c(188))}function g(e){var t=e.alternate;if(!t){if(t=v(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===a)return x(i),e;if(s===n)return x(i),t;s=s.sibling}throw Error(c(188))}if(a.return!==n.return)a=i,n=s;else{for(var u=!1,p=i.child;p;){if(p===a){u=!0,a=i,n=s;break}if(p===n){u=!0,n=i,a=s;break}p=p.sibling}if(!u){for(p=s.child;p;){if(p===a){u=!0,a=s,n=i;break}if(p===n){u=!0,n=s,a=i;break}p=p.sibling}if(!u)throw Error(c(189))}}if(a.alternate!==n)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function f(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=f(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),T=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case R:return"Profiler";case L:return"StrictMode";case _:return"Suspense";case z:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case T:return(e.displayName||"Context")+".Provider";case ee:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}var le=Array.isArray,k=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},xe=[],N=-1;function V(e){return{current:e}}function se(e){0>N||(e.current=xe[N],xe[N]=null,N--)}function ae(e,t){N++,xe[N]=e.current,e.current=t}var fe=V(null),ge=V(null),he=V(null),et=V(null);function De(e,t){switch(ae(he,t),ae(ge,e),ae(fe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Uf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Uf(t),e=kf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}se(fe),ae(fe,e)}function Oe(){se(fe),se(ge),se(he)}function Pt(e){e.memoizedState!==null&&ae(et,e);var t=fe.current,a=kf(t,e.type);t!==a&&(ae(ge,e),ae(fe,a))}function gt(e){ge.current===e&&(se(fe),se(ge)),et.current===e&&(se(et),li._currentValue=ne)}var It=Object.prototype.hasOwnProperty,sa=r.unstable_scheduleCallback,Mt=r.unstable_cancelCallback,ra=r.unstable_shouldYield,S=r.unstable_requestPaint,W=r.unstable_now,ie=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,We=r.unstable_UserBlockingPriority,yt=r.unstable_NormalPriority,ca=r.unstable_LowPriority,gi=r.unstable_IdlePriority,Bs=r.log,Hs=r.unstable_setDisableYieldValue,Aa=null,ft=null;function Qt(e){if(typeof Bs=="function"&&Hs(e),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Aa,e)}catch{}}var rt=Math.clz32?Math.clz32:xi,hl=Math.log,yi=Math.LN2;function xi(e){return e>>>=0,e===0?32:31-(hl(e)/yi|0)|0}var Wa=256,Pa=4194304;function ea(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bn(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var p=n&134217727;return p!==0?(n=p&~s,n!==0?i=ea(n):(u&=p,u!==0?i=ea(u):a||(a=p&~e,a!==0&&(i=ea(a))))):(p=n&~s,p!==0?i=ea(p):u!==0?i=ea(u):a||(a=n&~e,a!==0&&(i=ea(a)))),i===0?0:t!==0&&t!==i&&(t&s)===0&&(s=i&-i,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:i}function Ia(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qs(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X(){var e=Wa;return Wa<<=1,(Wa&4194048)===0&&(Wa=256),e}function oe(){var e=Pa;return Pa<<=1,(Pa&62914560)===0&&(Pa=4194304),e}function Se(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wt(e,t,a,n,i,s){var u=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,j=e.expirationTimes,B=e.hiddenUpdates;for(a=u&~a;0<a;){var Z=31-rt(a),J=1<<Z;p[Z]=0,j[Z]=-1;var q=B[Z];if(q!==null)for(B[Z]=null,Z=0;Z<q.length;Z++){var $=q[Z];$!==null&&($.lane&=-536870913)}a&=~J}n!==0&&ct(e,n,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(u&~t))}function ct(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-rt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Ve(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-rt(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function jn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bi(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:am(e.type))}function Zm(e,t){var a=H.p;try{return H.p=e,t()}finally{H.p=a}}var Ca=Math.random().toString(36).slice(2),mt="__reactFiber$"+Ca,bt="__reactProps$"+Ca,Nn="__reactContainer$"+Ca,$s="__reactEvents$"+Ca,Fm="__reactListeners$"+Ca,Km="__reactHandles$"+Ca,No="__reactResources$"+Ca,pl="__reactMarker$"+Ca;function Ys(e){delete e[mt],delete e[bt],delete e[$s],delete e[Fm],delete e[Km]}function En(e){var t=e[mt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Nn]||a[mt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=$f(e);e!==null;){if(a=e[mt])return a;e=$f(e)}return t}e=a,a=e.parentNode}return null}function _n(e){if(e=e[mt]||e[Nn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function vl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function wn(e){var t=e[No];return t||(t=e[No]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[pl]=!0}var Eo=new Set,_o={};function en(e,t){An(e,t),An(e+"Capture",t)}function An(e,t){for(_o[e]=t,e=0;e<t.length;e++)Eo.add(t[e])}var Jm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ao={};function Wm(e){return It.call(Ao,e)?!0:It.call(wo,e)?!1:Jm.test(e)?Ao[e]=!0:(wo[e]=!0,!1)}function ji(e,t,a){if(Wm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Si(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function oa(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Gs,Co;function Cn(e){if(Gs===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Gs=t&&t[1]||"",Co=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+e+Co}var Xs=!1;function Qs(e,t){if(!e||Xs)return"";Xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch($){var q=$}Reflect.construct(e,[],J)}else{try{J.call()}catch($){q=$}e.call(J.prototype)}}else{try{throw Error()}catch($){q=$}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),u=s[0],p=s[1];if(u&&p){var j=u.split(`
`),B=p.split(`
`);for(i=n=0;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;for(;i<B.length&&!B[i].includes("DetermineComponentFrameRoot");)i++;if(n===j.length||i===B.length)for(n=j.length-1,i=B.length-1;1<=n&&0<=i&&j[n]!==B[i];)i--;for(;1<=n&&0<=i;n--,i--)if(j[n]!==B[i]){if(n!==1||i!==1)do if(n--,i--,0>i||j[n]!==B[i]){var Z=`
`+j[n].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=n&&0<=i);break}}}finally{Xs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Cn(a):""}function Pm(e){switch(e.tag){case 26:case 27:case 5:return Cn(e.type);case 16:return Cn("Lazy");case 13:return Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return Qs(e.type,!1);case 11:return Qs(e.type.render,!1);case 1:return Qs(e.type,!0);case 31:return Cn("Activity");default:return""}}function To(e){try{var t="";do t+=Pm(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Do(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Im(e){var t=Do(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){n=""+u,s.call(this,u)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ni(e){e._valueTracker||(e._valueTracker=Im(e))}function Ro(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Do(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var eh=/[\n"\\]/g;function Ut(e){return e.replace(eh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vs(e,t,a,n,i,s,u,p){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?Zs(e,u,Lt(t)):a!=null?Zs(e,u,Lt(a)):n!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Lt(p):e.removeAttribute("name")}function Oo(e,t,a,n,i,s,u,p){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;a=a!=null?""+Lt(a):"",t=t!=null?""+Lt(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=p?e.checked:!!n,e.defaultChecked=!!n,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u)}function Zs(e,t,a){t==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Tn(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Lt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function zo(e,t,a){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Lt(a):""}function Mo(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(c(92));if(le(n)){if(1<n.length)throw Error(c(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Lt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Dn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||th.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Uo(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&Lo(e,i,n)}else for(var s in t)t.hasOwnProperty(s)&&Lo(e,s,t[s])}function Fs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _i(e){return nh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ks=null;function Js(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rn=null,On=null;function ko(e){var t=_n(e);if(t&&(e=t.stateNode)){var a=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vs(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[bt]||null;if(!i)throw Error(c(90));Vs(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Ro(n)}break e;case"textarea":zo(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Tn(e,!!a.multiple,t,!1)}}}var Ws=!1;function Bo(e,t,a){if(Ws)return e(t,a);Ws=!0;try{var n=e(t);return n}finally{if(Ws=!1,(Rn!==null||On!==null)&&(us(),Rn&&(t=Rn,e=On,On=Rn=null,ko(t),e)))for(t=0;t<e.length;t++)ko(e[t])}}function gl(e,t){var a=e.stateNode;if(a===null)return null;var n=a[bt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(ua)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{Ps=!1}var Ta=null,Is=null,wi=null;function Ho(){if(wi)return wi;var e,t=Is,a=t.length,n,i="value"in Ta?Ta.value:Ta.textContent,s=i.length;for(e=0;e<a&&t[e]===i[e];e++);var u=a-e;for(n=1;n<=u&&t[a-n]===i[s-n];n++);return wi=i.slice(e,1<n?1-n:void 0)}function Ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function qo(){return!1}function jt(e){function t(a,n,i,s,u){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(s):s[p]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ci:qo,this.isPropagationStopped=qo,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=jt(tn),xl=b({},tn,{view:0,detail:0}),lh=jt(xl),er,tr,bl,Di=b({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bl&&(bl&&e.type==="mousemove"?(er=e.screenX-bl.screenX,tr=e.screenY-bl.screenY):tr=er=0,bl=e),er)},movementY:function(e){return"movementY"in e?e.movementY:tr}}),$o=jt(Di),ih=b({},Di,{dataTransfer:0}),sh=jt(ih),rh=b({},xl,{relatedTarget:0}),ar=jt(rh),ch=b({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=jt(ch),uh=b({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dh=jt(uh),fh=b({},tn,{data:0}),Yo=jt(fh),mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ph[e])?!!t[e]:!1}function nr(){return vh}var gh=b({},xl,{key:function(e){if(e.key){var t=mh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(e){return e.type==="keypress"?Ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yh=jt(gh),xh=b({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=jt(xh),bh=b({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),jh=jt(bh),Sh=b({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nh=jt(Sh),Eh=b({},Di,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_h=jt(Eh),wh=b({},tn,{newState:0,oldState:0}),Ah=jt(wh),Ch=[9,13,27,32],lr=ua&&"CompositionEvent"in window,jl=null;ua&&"documentMode"in document&&(jl=document.documentMode);var Th=ua&&"TextEvent"in window&&!jl,Xo=ua&&(!lr||jl&&8<jl&&11>=jl),Qo=" ",Vo=!1;function Zo(e,t){switch(e){case"keyup":return Ch.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function Dh(e,t){switch(e){case"compositionend":return Fo(t);case"keypress":return t.which!==32?null:(Vo=!0,Qo);case"textInput":return e=t.data,e===Qo&&Vo?null:e;default:return null}}function Rh(e,t){if(zn)return e==="compositionend"||!lr&&Zo(e,t)?(e=Ho(),wi=Is=Ta=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xo&&t.locale!=="ko"?null:t.data;default:return null}}var Oh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Oh[e.type]:t==="textarea"}function Jo(e,t,a,n){Rn?On?On.push(n):On=[n]:Rn=n,t=vs(t,"onChange"),0<t.length&&(a=new Ti("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Sl=null,Nl=null;function zh(e){Rf(e,0)}function Ri(e){var t=vl(e);if(Ro(t))return e}function Wo(e,t){if(e==="change")return t}var Po=!1;if(ua){var ir;if(ua){var sr="oninput"in document;if(!sr){var Io=document.createElement("div");Io.setAttribute("oninput","return;"),sr=typeof Io.oninput=="function"}ir=sr}else ir=!1;Po=ir&&(!document.documentMode||9<document.documentMode)}function eu(){Sl&&(Sl.detachEvent("onpropertychange",tu),Nl=Sl=null)}function tu(e){if(e.propertyName==="value"&&Ri(Nl)){var t=[];Jo(t,Nl,e,Js(e)),Bo(zh,t)}}function Mh(e,t,a){e==="focusin"?(eu(),Sl=t,Nl=a,Sl.attachEvent("onpropertychange",tu)):e==="focusout"&&eu()}function Lh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ri(Nl)}function Uh(e,t){if(e==="click")return Ri(t)}function kh(e,t){if(e==="input"||e==="change")return Ri(t)}function Bh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Bh;function El(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!It.call(t,i)||!At(e[i],t[i]))return!1}return!0}function au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nu(e,t){var a=au(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=au(a)}}function lu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ei(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ei(e.document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Hh=ua&&"documentMode"in document&&11>=document.documentMode,Mn=null,cr=null,_l=null,or=!1;function su(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;or||Mn==null||Mn!==Ei(n)||(n=Mn,"selectionStart"in n&&rr(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_l&&El(_l,n)||(_l=n,n=vs(cr,"onSelect"),0<n.length&&(t=new Ti("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Mn)))}function an(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ln={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionrun:an("Transition","TransitionRun"),transitionstart:an("Transition","TransitionStart"),transitioncancel:an("Transition","TransitionCancel"),transitionend:an("Transition","TransitionEnd")},ur={},ru={};ua&&(ru=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);function nn(e){if(ur[e])return ur[e];if(!Ln[e])return e;var t=Ln[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ru)return ur[e]=t[a];return e}var cu=nn("animationend"),ou=nn("animationiteration"),uu=nn("animationstart"),qh=nn("transitionrun"),$h=nn("transitionstart"),Yh=nn("transitioncancel"),du=nn("transitionend"),fu=new Map,dr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dr.push("scrollEnd");function Vt(e,t){fu.set(e,t),en(t,[e])}var mu=new WeakMap;function kt(e,t){if(typeof e=="object"&&e!==null){var a=mu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:To(t)},mu.set(e,t),t)}return{value:e,source:t,stack:To(t)}}var Bt=[],Un=0,fr=0;function Oi(){for(var e=Un,t=fr=Un=0;t<e;){var a=Bt[t];Bt[t++]=null;var n=Bt[t];Bt[t++]=null;var i=Bt[t];Bt[t++]=null;var s=Bt[t];if(Bt[t++]=null,n!==null&&i!==null){var u=n.pending;u===null?i.next=i:(i.next=u.next,u.next=i),n.pending=i}s!==0&&hu(a,i,s)}}function zi(e,t,a,n){Bt[Un++]=e,Bt[Un++]=t,Bt[Un++]=a,Bt[Un++]=n,fr|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function mr(e,t,a,n){return zi(e,t,a,n),Mi(e)}function kn(e,t){return zi(e,null,null,t),Mi(e)}function hu(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,s=e.return;s!==null;)s.childLanes|=a,n=s.alternate,n!==null&&(n.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-rt(a),e=s.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),s):null}function Mi(e){if(50<Jl)throw Jl=0,xc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Bn={};function Gh(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,a,n){return new Gh(e,t,a,n)}function hr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function da(e,t){var a=e.alternate;return a===null?(a=Ct(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function pu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Li(e,t,a,n,i,s){var u=0;if(n=e,typeof e=="function")hr(e)&&(u=1);else if(typeof e=="string")u=Qp(e,a,fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=Ct(31,a,t,i),e.elementType=P,e.lanes=s,e;case C:return ln(a.children,i,s,t);case L:u=8,i|=24;break;case R:return e=Ct(12,a,t,i|2),e.elementType=R,e.lanes=s,e;case _:return e=Ct(13,a,t,i),e.elementType=_,e.lanes=s,e;case z:return e=Ct(19,a,t,i),e.elementType=z,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:case T:u=10;break e;case ee:u=9;break e;case Y:u=11;break e;case F:u=14;break e;case E:u=16,n=null;break e}u=29,a=Error(c(130,e===null?"null":typeof e,"")),n=null}return t=Ct(u,a,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ln(e,t,a,n){return e=Ct(7,e,n,t),e.lanes=a,e}function pr(e,t,a){return e=Ct(6,e,null,t),e.lanes=a,e}function vr(e,t,a){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hn=[],qn=0,Ui=null,ki=0,Ht=[],qt=0,sn=null,fa=1,ma="";function rn(e,t){Hn[qn++]=ki,Hn[qn++]=Ui,Ui=e,ki=t}function vu(e,t,a){Ht[qt++]=fa,Ht[qt++]=ma,Ht[qt++]=sn,sn=e;var n=fa;e=ma;var i=32-rt(n)-1;n&=~(1<<i),a+=1;var s=32-rt(t)+i;if(30<s){var u=i-i%5;s=(n&(1<<u)-1).toString(32),n>>=u,i-=u,fa=1<<32-rt(t)+i|a<<i|n,ma=s+e}else fa=1<<s|a<<i|n,ma=e}function gr(e){e.return!==null&&(rn(e,1),vu(e,1,0))}function yr(e){for(;e===Ui;)Ui=Hn[--qn],Hn[qn]=null,ki=Hn[--qn],Hn[qn]=null;for(;e===sn;)sn=Ht[--qt],Ht[qt]=null,ma=Ht[--qt],Ht[qt]=null,fa=Ht[--qt],Ht[qt]=null}var xt=null,Xe=null,Re=!1,cn=null,ta=!1,xr=Error(c(519));function on(e){var t=Error(c(418,""));throw Cl(kt(t,e)),xr}function gu(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[mt]=e,t[bt]=n,a){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(a=0;a<Pl.length;a++)we(Pl[a],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Oo(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Ni(t);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Mo(t,n.value,n.defaultValue,n.children),Ni(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Lf(t.textContent,a)?(n.popover!=null&&(we("beforetoggle",t),we("toggle",t)),n.onScroll!=null&&we("scroll",t),n.onScrollEnd!=null&&we("scrollend",t),n.onClick!=null&&(t.onclick=gs),t=!0):t=!1,t||on(e)}function yu(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 13:ta=!1;return;case 27:case 3:ta=!0;return;default:xt=xt.return}}function wl(e){if(e!==xt)return!1;if(!Re)return yu(e),Re=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Lc(e.type,e.memoizedProps)),a=!a),a&&Xe&&on(e),yu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Xe=Ft(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Xe=null}}else t===27?(t=Xe,Qa(e.type)?(e=Hc,Hc=null,Xe=e):Xe=t):Xe=xt?Ft(e.stateNode.nextSibling):null;return!0}function Al(){Xe=xt=null,Re=!1}function xu(){var e=cn;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),cn=null),e}function Cl(e){cn===null?cn=[e]:cn.push(e)}var br=V(null),un=null,ha=null;function Da(e,t,a){ae(br,t._currentValue),t._currentValue=a}function pa(e){e._currentValue=br.current,se(br)}function jr(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Sr(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var u=i.child;s=s.firstContext;e:for(;s!==null;){var p=s;s=i;for(var j=0;j<t.length;j++)if(p.context===t[j]){s.lanes|=a,p=s.alternate,p!==null&&(p.lanes|=a),jr(s.return,a,e),n||(u=null);break e}s=p.next}}else if(i.tag===18){if(u=i.return,u===null)throw Error(c(341));u.lanes|=a,s=u.alternate,s!==null&&(s.lanes|=a),jr(u,a,e),u=null}else u=i.child;if(u!==null)u.return=i;else for(u=i;u!==null;){if(u===e){u=null;break}if(i=u.sibling,i!==null){i.return=u.return,u=i;break}u=u.return}i=u}}function Tl(e,t,a,n){e=null;for(var i=t,s=!1;i!==null;){if(!s){if((i.flags&524288)!==0)s=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var u=i.alternate;if(u===null)throw Error(c(387));if(u=u.memoizedProps,u!==null){var p=i.type;At(i.pendingProps.value,u.value)||(e!==null?e.push(p):e=[p])}}else if(i===et.current){if(u=i.alternate,u===null)throw Error(c(387));u.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(li):e=[li])}i=i.return}e!==null&&Sr(t,e,a,n),t.flags|=262144}function Bi(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function dn(e){un=e,ha=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return bu(un,e)}function Hi(e,t){return un===null&&dn(e),bu(e,t)}function bu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ha===null){if(e===null)throw Error(c(308));ha=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ha=ha.next=t;return a}var Xh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Qh=r.unstable_scheduleCallback,Vh=r.unstable_NormalPriority,tt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nr(){return{controller:new Xh,data:new Map,refCount:0}}function Dl(e){e.refCount--,e.refCount===0&&Qh(Vh,function(){e.controller.abort()})}var Rl=null,Er=0,$n=0,Yn=null;function Zh(e,t){if(Rl===null){var a=Rl=[];Er=0,$n=wc(),Yn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Er++,t.then(ju,ju),t}function ju(){if(--Er===0&&Rl!==null){Yn!==null&&(Yn.status="fulfilled");var e=Rl;Rl=null,$n=0,Yn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fh(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Su=k.S;k.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zh(e,t),Su!==null&&Su(e,t)};var fn=V(null);function _r(){var e=fn.current;return e!==null?e:qe.pooledCache}function qi(e,t){t===null?ae(fn,fn.current):ae(fn,t.pool)}function Nu(){var e=_r();return e===null?null:{parent:tt._currentValue,pool:e}}var Ol=Error(c(460)),Eu=Error(c(474)),$i=Error(c(542)),wr={then:function(){}};function _u(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yi(){}function wu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Yi,Yi),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cu(e),e;default:if(typeof t.status=="string")t.then(Yi,Yi);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Cu(e),e}throw zl=t,Ol}}var zl=null;function Au(){if(zl===null)throw Error(c(459));var e=zl;return zl=null,e}function Cu(e){if(e===Ol||e===$i)throw Error(c(483))}var Ra=!1;function Ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function za(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(ze&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Mi(e),hu(e,null,a),t}return zi(e,n,t,a),Mi(e)}function Ml(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ve(e,a)}}function Tr(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var u={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?i=s=u:s=s.next=u,a=a.next}while(a!==null);s===null?i=s=t:s=s.next=t}else i=s=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Dr=!1;function Ll(){if(Dr){var e=Yn;if(e!==null)throw e}}function Ul(e,t,a,n){Dr=!1;var i=e.updateQueue;Ra=!1;var s=i.firstBaseUpdate,u=i.lastBaseUpdate,p=i.shared.pending;if(p!==null){i.shared.pending=null;var j=p,B=j.next;j.next=null,u===null?s=B:u.next=B,u=j;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,p=Z.lastBaseUpdate,p!==u&&(p===null?Z.firstBaseUpdate=B:p.next=B,Z.lastBaseUpdate=j))}if(s!==null){var J=i.baseState;u=0,Z=B=j=null,p=s;do{var q=p.lane&-536870913,$=q!==p.lane;if($?(Ce&q)===q:(n&q)===q){q!==0&&q===$n&&(Dr=!0),Z!==null&&(Z=Z.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var ye=e,pe=p;q=t;var ke=a;switch(pe.tag){case 1:if(ye=pe.payload,typeof ye=="function"){J=ye.call(ke,J,q);break e}J=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=pe.payload,q=typeof ye=="function"?ye.call(ke,J,q):ye,q==null)break e;J=b({},J,q);break e;case 2:Ra=!0}}q=p.callback,q!==null&&(e.flags|=64,$&&(e.flags|=8192),$=i.callbacks,$===null?i.callbacks=[q]:$.push(q))}else $={lane:q,tag:p.tag,payload:p.payload,callback:p.callback,next:null},Z===null?(B=Z=$,j=J):Z=Z.next=$,u|=q;if(p=p.next,p===null){if(p=i.shared.pending,p===null)break;$=p,p=$.next,$.next=null,i.lastBaseUpdate=$,i.shared.pending=null}}while(!0);Z===null&&(j=J),i.baseState=j,i.firstBaseUpdate=B,i.lastBaseUpdate=Z,s===null&&(i.shared.lanes=0),$a|=u,e.lanes=u,e.memoizedState=J}}function Tu(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Du(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Tu(a[e],t)}var Gn=V(null),Gi=V(0);function Ru(e,t){e=Sa,ae(Gi,e),ae(Gn,t),Sa=e|t.baseLanes}function Rr(){ae(Gi,Sa),ae(Gn,Gn.current)}function Or(){Sa=Gi.current,se(Gn),se(Gi)}var Ma=0,Ne=null,Le=null,Pe=null,Xi=!1,Xn=!1,mn=!1,Qi=0,kl=0,Qn=null,Kh=0;function Ze(){throw Error(c(321))}function zr(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!At(e[a],t[a]))return!1;return!0}function Mr(e,t,a,n,i,s){return Ma=s,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?hd:pd,mn=!1,s=a(n,i),mn=!1,Xn&&(s=zu(t,a,n,i)),Ou(e),s}function Ou(e){k.H=Wi;var t=Le!==null&&Le.next!==null;if(Ma=0,Pe=Le=Ne=null,Xi=!1,kl=0,Qn=null,t)throw Error(c(300));e===null||lt||(e=e.dependencies,e!==null&&Bi(e)&&(lt=!0))}function zu(e,t,a,n){Ne=e;var i=0;do{if(Xn&&(Qn=null),kl=0,Xn=!1,25<=i)throw Error(c(301));if(i+=1,Pe=Le=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}k.H=ap,s=t(a,n)}while(Xn);return s}function Jh(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?Bl(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(Ne.flags|=1024),t}function Lr(){var e=Qi!==0;return Qi=0,e}function Ur(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function kr(e){if(Xi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xi=!1}Ma=0,Pe=Le=Ne=null,Xn=!1,kl=Qi=0,Qn=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Ne.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Ie(){if(Le===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Pe===null?Ne.memoizedState:Pe.next;if(t!==null)Pe=t,Le=e;else{if(e===null)throw Ne.alternate===null?Error(c(467)):Error(c(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Pe===null?Ne.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(e){var t=kl;return kl+=1,Qn===null&&(Qn=[]),e=wu(Qn,e,t),t=Ne,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?hd:pd),e}function Vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bl(e);if(e.$$typeof===T)return ht(e)}throw Error(c(438,String(e)))}function Hr(e){var t=null,a=Ne.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Ne.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Br(),Ne.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=te;return t.index++,a}function va(e,t){return typeof t=="function"?t(e):t}function Zi(e){var t=Ie();return qr(t,Le,e)}function qr(e,t,a){var n=e.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=a;var i=e.baseQueue,s=n.pending;if(s!==null){if(i!==null){var u=i.next;i.next=s.next,s.next=u}t.baseQueue=i=s,n.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var p=u=null,j=null,B=t,Z=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Ce&J)===J:(Ma&J)===J){var q=B.revertLane;if(q===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===$n&&(Z=!0);else if((Ma&q)===q){B=B.next,q===$n&&(Z=!0);continue}else J={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},j===null?(p=j=J,u=s):j=j.next=J,Ne.lanes|=q,$a|=q;J=B.action,mn&&a(s,J),s=B.hasEagerState?B.eagerState:a(s,J)}else q={lane:J,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},j===null?(p=j=q,u=s):j=j.next=q,Ne.lanes|=J,$a|=J;B=B.next}while(B!==null&&B!==t);if(j===null?u=s:j.next=p,!At(s,e.memoizedState)&&(lt=!0,Z&&(a=Yn,a!==null)))throw a;e.memoizedState=s,e.baseState=u,e.baseQueue=j,n.lastRenderedState=s}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function $r(e){var t=Ie(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,s=t.memoizedState;if(i!==null){a.pending=null;var u=i=i.next;do s=e(s,u.action),u=u.next;while(u!==i);At(s,t.memoizedState)||(lt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,n]}function Mu(e,t,a){var n=Ne,i=Ie(),s=Re;if(s){if(a===void 0)throw Error(c(407));a=a()}else a=t();var u=!At((Le||i).memoizedState,a);u&&(i.memoizedState=a,lt=!0),i=i.queue;var p=ku.bind(null,n,i,e);if(Hl(2048,8,p,[e]),i.getSnapshot!==t||u||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Vn(9,Fi(),Uu.bind(null,n,i,a,t),null),qe===null)throw Error(c(349));s||(Ma&124)!==0||Lu(n,t,a)}return a}function Lu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ne.updateQueue,t===null?(t=Br(),Ne.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Uu(e,t,a,n){t.value=a,t.getSnapshot=n,Bu(t)&&Hu(e)}function ku(e,t,a){return a(function(){Bu(t)&&Hu(e)})}function Bu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!At(e,a)}catch{return!0}}function Hu(e){var t=kn(e,2);t!==null&&zt(t,e,2)}function Yr(e){var t=St();if(typeof e=="function"){var a=e;if(e=a(),mn){Qt(!0);try{a()}finally{Qt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t}function qu(e,t,a,n){return e.baseState=a,qr(e,Le,typeof n=="function"?n:va)}function Wh(e,t,a,n,i){if(Ji(e))throw Error(c(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){s.listeners.push(u)}};k.T!==null?a(!0):s.isTransition=!1,n(s),a=t.pending,a===null?(s.next=t.pending=s,$u(t,s)):(s.next=a.next,t.pending=a.next=s)}}function $u(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var s=k.T,u={};k.T=u;try{var p=a(i,n),j=k.S;j!==null&&j(u,p),Yu(e,t,p)}catch(B){Gr(e,t,B)}finally{k.T=s}}else try{s=a(i,n),Yu(e,t,s)}catch(B){Gr(e,t,B)}}function Yu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Gu(e,t,n)},function(n){return Gr(e,t,n)}):Gu(e,t,a)}function Gu(e,t,a){t.status="fulfilled",t.value=a,Xu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,$u(e,a)))}function Gr(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Xu(t),t=t.next;while(t!==n)}e.action=null}function Xu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qu(e,t){return t}function Vu(e,t){if(Re){var a=qe.formState;if(a!==null){e:{var n=Ne;if(Re){if(Xe){t:{for(var i=Xe,s=ta;i.nodeType!==8;){if(!s){i=null;break t}if(i=Ft(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Xe=Ft(i.nextSibling),n=i.data==="F!";break e}}on(n)}n=!1}n&&(t=a[0])}}return a=St(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:t},a.queue=n,a=dd.bind(null,Ne,n),n.dispatch=a,n=Yr(!1),s=Fr.bind(null,Ne,!1,n.queue),n=St(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=Wh.bind(null,Ne,i,s,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function Zu(e){var t=Ie();return Fu(t,Le,e)}function Fu(e,t,a){if(t=qr(e,t,Qu)[0],e=Zi(va)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Bl(t)}catch(u){throw u===Ol?$i:u}else n=t;t=Ie();var i=t.queue,s=i.dispatch;return a!==t.memoizedState&&(Ne.flags|=2048,Vn(9,Fi(),Ph.bind(null,i,a),null)),[n,s,e]}function Ph(e,t){e.action=t}function Ku(e){var t=Ie(),a=Le;if(a!==null)return Fu(t,a,e);Ie(),t=t.memoizedState,a=Ie();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Vn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Ne.updateQueue,t===null&&(t=Br(),Ne.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Fi(){return{destroy:void 0,resource:void 0}}function Ju(){return Ie().memoizedState}function Ki(e,t,a,n){var i=St();n=n===void 0?null:n,Ne.flags|=e,i.memoizedState=Vn(1|t,Fi(),a,n)}function Hl(e,t,a,n){var i=Ie();n=n===void 0?null:n;var s=i.memoizedState.inst;Le!==null&&n!==null&&zr(n,Le.memoizedState.deps)?i.memoizedState=Vn(t,s,a,n):(Ne.flags|=e,i.memoizedState=Vn(1|t,s,a,n))}function Wu(e,t){Ki(8390656,8,e,t)}function Pu(e,t){Hl(2048,8,e,t)}function Iu(e,t){return Hl(4,2,e,t)}function ed(e,t){return Hl(4,4,e,t)}function td(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ad(e,t,a){a=a!=null?a.concat([e]):null,Hl(4,4,td.bind(null,t,e),a)}function Xr(){}function nd(e,t){var a=Ie();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&zr(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function ld(e,t){var a=Ie();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&zr(t,n[1]))return n[0];if(n=e(),mn){Qt(!0);try{e()}finally{Qt(!1)}}return a.memoizedState=[n,t],n}function Qr(e,t,a){return a===void 0||(Ma&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=cf(),Ne.lanes|=e,$a|=e,a)}function id(e,t,a,n){return At(a,t)?a:Gn.current!==null?(e=Qr(e,a,n),At(e,t)||(lt=!0),e):(Ma&42)===0?(lt=!0,e.memoizedState=a):(e=cf(),Ne.lanes|=e,$a|=e,t)}function sd(e,t,a,n,i){var s=H.p;H.p=s!==0&&8>s?s:8;var u=k.T,p={};k.T=p,Fr(e,!1,t,a);try{var j=i(),B=k.S;if(B!==null&&B(p,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=Fh(j,n);ql(e,t,Z,Ot(e))}else ql(e,t,n,Ot(e))}catch(J){ql(e,t,{then:function(){},status:"rejected",reason:J},Ot())}finally{H.p=s,k.T=u}}function Ih(){}function Vr(e,t,a,n){if(e.tag!==5)throw Error(c(476));var i=rd(e).queue;sd(e,i,t,ne,a===null?Ih:function(){return cd(e),a(n)})}function rd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function cd(e){var t=rd(e).next.queue;ql(e,t,{},Ot())}function Zr(){return ht(li)}function od(){return Ie().memoizedState}function ud(){return Ie().memoizedState}function ep(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ot();e=Oa(a);var n=za(t,e,a);n!==null&&(zt(n,t,a),Ml(n,t,a)),t={cache:Nr()},e.payload=t;return}t=t.return}}function tp(e,t,a){var n=Ot();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ji(e)?fd(t,a):(a=mr(e,t,a,n),a!==null&&(zt(a,e,n),md(a,t,n)))}function dd(e,t,a){var n=Ot();ql(e,t,a,n)}function ql(e,t,a,n){var i={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))fd(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var u=t.lastRenderedState,p=s(u,a);if(i.hasEagerState=!0,i.eagerState=p,At(p,u))return zi(e,t,i,0),qe===null&&Oi(),!1}catch{}finally{}if(a=mr(e,t,i,n),a!==null)return zt(a,e,n),md(a,t,n),!0}return!1}function Fr(e,t,a,n){if(n={lane:2,revertLane:wc(),action:n,hasEagerState:!1,eagerState:null,next:null},Ji(e)){if(t)throw Error(c(479))}else t=mr(e,a,n,2),t!==null&&zt(t,e,2)}function Ji(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function fd(e,t){Xn=Xi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function md(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Ve(e,a)}}var Wi={readContext:ht,use:Vi,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze},hd={readContext:ht,use:Vi,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Wu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ki(4194308,4,td.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ki(4194308,4,e,t)},useInsertionEffect:function(e,t){Ki(4,2,e,t)},useMemo:function(e,t){var a=St();t=t===void 0?null:t;var n=e();if(mn){Qt(!0);try{e()}finally{Qt(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=St();if(a!==void 0){var i=a(t);if(mn){Qt(!0);try{a(t)}finally{Qt(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=tp.bind(null,Ne,e),[n.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=Yr(e);var t=e.queue,a=dd.bind(null,Ne,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Xr,useDeferredValue:function(e,t){var a=St();return Qr(a,e,t)},useTransition:function(){var e=Yr(!1);return e=sd.bind(null,Ne,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Ne,i=St();if(Re){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),qe===null)throw Error(c(349));(Ce&124)!==0||Lu(n,t,a)}i.memoizedState=a;var s={value:a,getSnapshot:t};return i.queue=s,Wu(ku.bind(null,n,s,e),[e]),n.flags|=2048,Vn(9,Fi(),Uu.bind(null,n,s,a,t),null),a},useId:function(){var e=St(),t=qe.identifierPrefix;if(Re){var a=ma,n=fa;a=(n&~(1<<32-rt(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=Qi++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Kh++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Zr,useFormState:Vu,useActionState:Vu,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Fr.bind(null,Ne,!0,a),a.dispatch=t,[e,t]},useMemoCache:Hr,useCacheRefresh:function(){return St().memoizedState=ep.bind(null,Ne)}},pd={readContext:ht,use:Vi,useCallback:nd,useContext:ht,useEffect:Pu,useImperativeHandle:ad,useInsertionEffect:Iu,useLayoutEffect:ed,useMemo:ld,useReducer:Zi,useRef:Ju,useState:function(){return Zi(va)},useDebugValue:Xr,useDeferredValue:function(e,t){var a=Ie();return id(a,Le.memoizedState,e,t)},useTransition:function(){var e=Zi(va)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Bl(e),t]},useSyncExternalStore:Mu,useId:od,useHostTransitionStatus:Zr,useFormState:Zu,useActionState:Zu,useOptimistic:function(e,t){var a=Ie();return qu(a,Le,e,t)},useMemoCache:Hr,useCacheRefresh:ud},ap={readContext:ht,use:Vi,useCallback:nd,useContext:ht,useEffect:Pu,useImperativeHandle:ad,useInsertionEffect:Iu,useLayoutEffect:ed,useMemo:ld,useReducer:$r,useRef:Ju,useState:function(){return $r(va)},useDebugValue:Xr,useDeferredValue:function(e,t){var a=Ie();return Le===null?Qr(a,e,t):id(a,Le.memoizedState,e,t)},useTransition:function(){var e=$r(va)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:Bl(e),t]},useSyncExternalStore:Mu,useId:od,useHostTransitionStatus:Zr,useFormState:Ku,useActionState:Ku,useOptimistic:function(e,t){var a=Ie();return Le!==null?qu(a,Le,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Hr,useCacheRefresh:ud},Zn=null,$l=0;function Pi(e){var t=$l;return $l+=1,Zn===null&&(Zn=[]),wu(Zn,e,t)}function Yl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ii(e,t){throw t.$$typeof===A?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vd(e){var t=e._init;return t(e._payload)}function gd(e){function t(M,w){if(e){var U=M.deletions;U===null?(M.deletions=[w],M.flags|=16):U.push(w)}}function a(M,w){if(!e)return null;for(;w!==null;)t(M,w),w=w.sibling;return null}function n(M){for(var w=new Map;M!==null;)M.key!==null?w.set(M.key,M):w.set(M.index,M),M=M.sibling;return w}function i(M,w){return M=da(M,w),M.index=0,M.sibling=null,M}function s(M,w,U){return M.index=U,e?(U=M.alternate,U!==null?(U=U.index,U<w?(M.flags|=67108866,w):U):(M.flags|=67108866,w)):(M.flags|=1048576,w)}function u(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function p(M,w,U,K){return w===null||w.tag!==6?(w=pr(U,M.mode,K),w.return=M,w):(w=i(w,U),w.return=M,w)}function j(M,w,U,K){var ue=U.type;return ue===C?Z(M,w,U.props.children,K,U.key):w!==null&&(w.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===E&&vd(ue)===w.type)?(w=i(w,U.props),Yl(w,U),w.return=M,w):(w=Li(U.type,U.key,U.props,null,M.mode,K),Yl(w,U),w.return=M,w)}function B(M,w,U,K){return w===null||w.tag!==4||w.stateNode.containerInfo!==U.containerInfo||w.stateNode.implementation!==U.implementation?(w=vr(U,M.mode,K),w.return=M,w):(w=i(w,U.children||[]),w.return=M,w)}function Z(M,w,U,K,ue){return w===null||w.tag!==7?(w=ln(U,M.mode,K,ue),w.return=M,w):(w=i(w,U),w.return=M,w)}function J(M,w,U){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=pr(""+w,M.mode,U),w.return=M,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case D:return U=Li(w.type,w.key,w.props,null,M.mode,U),Yl(U,w),U.return=M,U;case Q:return w=vr(w,M.mode,U),w.return=M,w;case E:var K=w._init;return w=K(w._payload),J(M,w,U)}if(le(w)||G(w))return w=ln(w,M.mode,U,null),w.return=M,w;if(typeof w.then=="function")return J(M,Pi(w),U);if(w.$$typeof===T)return J(M,Hi(M,w),U);Ii(M,w)}return null}function q(M,w,U,K){var ue=w!==null?w.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ue!==null?null:p(M,w,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return U.key===ue?j(M,w,U,K):null;case Q:return U.key===ue?B(M,w,U,K):null;case E:return ue=U._init,U=ue(U._payload),q(M,w,U,K)}if(le(U)||G(U))return ue!==null?null:Z(M,w,U,K,null);if(typeof U.then=="function")return q(M,w,Pi(U),K);if(U.$$typeof===T)return q(M,w,Hi(M,U),K);Ii(M,U)}return null}function $(M,w,U,K,ue){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(U)||null,p(w,M,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case D:return M=M.get(K.key===null?U:K.key)||null,j(w,M,K,ue);case Q:return M=M.get(K.key===null?U:K.key)||null,B(w,M,K,ue);case E:var Ee=K._init;return K=Ee(K._payload),$(M,w,U,K,ue)}if(le(K)||G(K))return M=M.get(U)||null,Z(w,M,K,ue,null);if(typeof K.then=="function")return $(M,w,U,Pi(K),ue);if(K.$$typeof===T)return $(M,w,U,Hi(w,K),ue);Ii(w,K)}return null}function ye(M,w,U,K){for(var ue=null,Ee=null,me=w,ve=w=0,st=null;me!==null&&ve<U.length;ve++){me.index>ve?(st=me,me=null):st=me.sibling;var Te=q(M,me,U[ve],K);if(Te===null){me===null&&(me=st);break}e&&me&&Te.alternate===null&&t(M,me),w=s(Te,w,ve),Ee===null?ue=Te:Ee.sibling=Te,Ee=Te,me=st}if(ve===U.length)return a(M,me),Re&&rn(M,ve),ue;if(me===null){for(;ve<U.length;ve++)me=J(M,U[ve],K),me!==null&&(w=s(me,w,ve),Ee===null?ue=me:Ee.sibling=me,Ee=me);return Re&&rn(M,ve),ue}for(me=n(me);ve<U.length;ve++)st=$(me,M,ve,U[ve],K),st!==null&&(e&&st.alternate!==null&&me.delete(st.key===null?ve:st.key),w=s(st,w,ve),Ee===null?ue=st:Ee.sibling=st,Ee=st);return e&&me.forEach(function(Ja){return t(M,Ja)}),Re&&rn(M,ve),ue}function pe(M,w,U,K){if(U==null)throw Error(c(151));for(var ue=null,Ee=null,me=w,ve=w=0,st=null,Te=U.next();me!==null&&!Te.done;ve++,Te=U.next()){me.index>ve?(st=me,me=null):st=me.sibling;var Ja=q(M,me,Te.value,K);if(Ja===null){me===null&&(me=st);break}e&&me&&Ja.alternate===null&&t(M,me),w=s(Ja,w,ve),Ee===null?ue=Ja:Ee.sibling=Ja,Ee=Ja,me=st}if(Te.done)return a(M,me),Re&&rn(M,ve),ue;if(me===null){for(;!Te.done;ve++,Te=U.next())Te=J(M,Te.value,K),Te!==null&&(w=s(Te,w,ve),Ee===null?ue=Te:Ee.sibling=Te,Ee=Te);return Re&&rn(M,ve),ue}for(me=n(me);!Te.done;ve++,Te=U.next())Te=$(me,M,ve,Te.value,K),Te!==null&&(e&&Te.alternate!==null&&me.delete(Te.key===null?ve:Te.key),w=s(Te,w,ve),Ee===null?ue=Te:Ee.sibling=Te,Ee=Te);return e&&me.forEach(function(nv){return t(M,nv)}),Re&&rn(M,ve),ue}function ke(M,w,U,K){if(typeof U=="object"&&U!==null&&U.type===C&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case D:e:{for(var ue=U.key;w!==null;){if(w.key===ue){if(ue=U.type,ue===C){if(w.tag===7){a(M,w.sibling),K=i(w,U.props.children),K.return=M,M=K;break e}}else if(w.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===E&&vd(ue)===w.type){a(M,w.sibling),K=i(w,U.props),Yl(K,U),K.return=M,M=K;break e}a(M,w);break}else t(M,w);w=w.sibling}U.type===C?(K=ln(U.props.children,M.mode,K,U.key),K.return=M,M=K):(K=Li(U.type,U.key,U.props,null,M.mode,K),Yl(K,U),K.return=M,M=K)}return u(M);case Q:e:{for(ue=U.key;w!==null;){if(w.key===ue)if(w.tag===4&&w.stateNode.containerInfo===U.containerInfo&&w.stateNode.implementation===U.implementation){a(M,w.sibling),K=i(w,U.children||[]),K.return=M,M=K;break e}else{a(M,w);break}else t(M,w);w=w.sibling}K=vr(U,M.mode,K),K.return=M,M=K}return u(M);case E:return ue=U._init,U=ue(U._payload),ke(M,w,U,K)}if(le(U))return ye(M,w,U,K);if(G(U)){if(ue=G(U),typeof ue!="function")throw Error(c(150));return U=ue.call(U),pe(M,w,U,K)}if(typeof U.then=="function")return ke(M,w,Pi(U),K);if(U.$$typeof===T)return ke(M,w,Hi(M,U),K);Ii(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,w!==null&&w.tag===6?(a(M,w.sibling),K=i(w,U),K.return=M,M=K):(a(M,w),K=pr(U,M.mode,K),K.return=M,M=K),u(M)):a(M,w)}return function(M,w,U,K){try{$l=0;var ue=ke(M,w,U,K);return Zn=null,ue}catch(me){if(me===Ol||me===$i)throw me;var Ee=Ct(29,me,null,M.mode);return Ee.lanes=K,Ee.return=M,Ee}finally{}}}var Fn=gd(!0),yd=gd(!1),$t=V(null),aa=null;function La(e){var t=e.alternate;ae(at,at.current&1),ae($t,e),aa===null&&(t===null||Gn.current!==null||t.memoizedState!==null)&&(aa=e)}function xd(e){if(e.tag===22){if(ae(at,at.current),ae($t,e),aa===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(aa=e)}}else Ua()}function Ua(){ae(at,at.current),ae($t,$t.current)}function ga(e){se($t),aa===e&&(aa=null),se(at)}var at=V(0);function es(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Bc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Kr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Jr={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Ot(),i=Oa(n);i.payload=t,a!=null&&(i.callback=a),t=za(e,i,n),t!==null&&(zt(t,e,n),Ml(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Ot(),i=Oa(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=za(e,i,n),t!==null&&(zt(t,e,n),Ml(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ot(),n=Oa(a);n.tag=2,t!=null&&(n.callback=t),t=za(e,n,a),t!==null&&(zt(t,e,a),Ml(t,e,a))}};function bd(e,t,a,n,i,s,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,u):t.prototype&&t.prototype.isPureReactComponent?!El(a,n)||!El(i,s):!0}function jd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Jr.enqueueReplaceState(t,t.state,null)}function hn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}var ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sd(e){ts(e)}function Nd(e){console.error(e)}function Ed(e){ts(e)}function as(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _d(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Wr(e,t,a){return a=Oa(a),a.tag=3,a.payload={element:null},a.callback=function(){as(e,t)},a}function wd(e){return e=Oa(e),e.tag=3,e}function Ad(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var s=n.value;e.payload=function(){return i(s)},e.callback=function(){_d(t,a,n)}}var u=a.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){_d(t,a,n),typeof i!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})})}function np(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Tl(t,a,i,!0),a=$t.current,a!==null){switch(a.tag){case 13:return aa===null?jc():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===wr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Nc(e,n,i)),!1;case 22:return a.flags|=65536,n===wr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Nc(e,n,i)),!1}throw Error(c(435,a.tag))}return Nc(e,n,i),jc(),!1}if(Re)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==xr&&(e=Error(c(422),{cause:n}),Cl(kt(e,a)))):(n!==xr&&(t=Error(c(423),{cause:n}),Cl(kt(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=kt(n,a),i=Wr(e.stateNode,n,i),Tr(e,i),Qe!==4&&(Qe=2)),!1;var s=Error(c(520),{cause:n});if(s=kt(s,a),Kl===null?Kl=[s]:Kl.push(s),Qe!==4&&(Qe=2),t===null)return!0;n=kt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=Wr(a.stateNode,n,e),Tr(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ya===null||!Ya.has(s))))return a.flags|=65536,i&=-i,a.lanes|=i,i=wd(i),Ad(i,e,a,n),Tr(a,i),!1}a=a.return}while(a!==null);return!1}var Cd=Error(c(461)),lt=!1;function ot(e,t,a,n){t.child=e===null?yd(t,null,a,n):Fn(t,e.child,a,n)}function Td(e,t,a,n,i){a=a.render;var s=t.ref;if("ref"in n){var u={};for(var p in n)p!=="ref"&&(u[p]=n[p])}else u=n;return dn(t),n=Mr(e,t,a,u,s,i),p=Lr(),e!==null&&!lt?(Ur(e,t,i),ya(e,t,i)):(Re&&p&&gr(t),t.flags|=1,ot(e,t,n,i),t.child)}function Dd(e,t,a,n,i){if(e===null){var s=a.type;return typeof s=="function"&&!hr(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,Rd(e,t,s,n,i)):(e=Li(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!ic(e,i)){var u=s.memoizedProps;if(a=a.compare,a=a!==null?a:El,a(u,n)&&e.ref===t.ref)return ya(e,t,i)}return t.flags|=1,e=da(s,n),e.ref=t.ref,e.return=t,t.child=e}function Rd(e,t,a,n,i){if(e!==null){var s=e.memoizedProps;if(El(s,n)&&e.ref===t.ref)if(lt=!1,t.pendingProps=n=s,ic(e,i))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,ya(e,t,i)}return Pr(e,t,a,n,i)}function Od(e,t,a){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=s!==null?s.baseLanes|a:a,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~n}else t.childLanes=0,t.child=null;return zd(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&qi(t,s!==null?s.cachePool:null),s!==null?Ru(t,s):Rr(),xd(t);else return t.lanes=t.childLanes=536870912,zd(e,t,s!==null?s.baseLanes|a:a,a)}else s!==null?(qi(t,s.cachePool),Ru(t,s),Ua(),t.memoizedState=null):(e!==null&&qi(t,null),Rr(),Ua());return ot(e,t,i,a),t.child}function zd(e,t,a,n){var i=_r();return i=i===null?null:{parent:tt._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&qi(t,null),Rr(),xd(t),e!==null&&Tl(e,t,n,!0),null}function ns(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Pr(e,t,a,n,i){return dn(t),a=Mr(e,t,a,n,void 0,i),n=Lr(),e!==null&&!lt?(Ur(e,t,i),ya(e,t,i)):(Re&&n&&gr(t),t.flags|=1,ot(e,t,a,i),t.child)}function Md(e,t,a,n,i,s){return dn(t),t.updateQueue=null,a=zu(t,n,a,i),Ou(e),n=Lr(),e!==null&&!lt?(Ur(e,t,s),ya(e,t,s)):(Re&&n&&gr(t),t.flags|=1,ot(e,t,a,s),t.child)}function Ld(e,t,a,n,i){if(dn(t),t.stateNode===null){var s=Bn,u=a.contextType;typeof u=="object"&&u!==null&&(s=ht(u)),s=new a(n,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Jr,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=n,s.state=t.memoizedState,s.refs={},Ar(t),u=a.contextType,s.context=typeof u=="object"&&u!==null?ht(u):Bn,s.state=t.memoizedState,u=a.getDerivedStateFromProps,typeof u=="function"&&(Kr(t,a,u,n),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(u=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),u!==s.state&&Jr.enqueueReplaceState(s,s.state,null),Ul(t,n,s,i),Ll(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){s=t.stateNode;var p=t.memoizedProps,j=hn(a,p);s.props=j;var B=s.context,Z=a.contextType;u=Bn,typeof Z=="object"&&Z!==null&&(u=ht(Z));var J=a.getDerivedStateFromProps;Z=typeof J=="function"||typeof s.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,Z||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(p||B!==u)&&jd(t,s,n,u),Ra=!1;var q=t.memoizedState;s.state=q,Ul(t,n,s,i),Ll(),B=t.memoizedState,p||q!==B||Ra?(typeof J=="function"&&(Kr(t,a,J,n),B=t.memoizedState),(j=Ra||bd(t,a,j,n,q,B,u))?(Z||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=B),s.props=n,s.state=B,s.context=u,n=j):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Cr(e,t),u=t.memoizedProps,Z=hn(a,u),s.props=Z,J=t.pendingProps,q=s.context,B=a.contextType,j=Bn,typeof B=="object"&&B!==null&&(j=ht(B)),p=a.getDerivedStateFromProps,(B=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==J||q!==j)&&jd(t,s,n,j),Ra=!1,q=t.memoizedState,s.state=q,Ul(t,n,s,i),Ll();var $=t.memoizedState;u!==J||q!==$||Ra||e!==null&&e.dependencies!==null&&Bi(e.dependencies)?(typeof p=="function"&&(Kr(t,a,p,n),$=t.memoizedState),(Z=Ra||bd(t,a,Z,n,q,$,j)||e!==null&&e.dependencies!==null&&Bi(e.dependencies))?(B||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,$,j),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,$,j)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=$),s.props=n,s.state=$,s.context=j,n=Z):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,ns(e,t),n=(t.flags&128)!==0,s||n?(s=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&n?(t.child=Fn(t,e.child,null,i),t.child=Fn(t,null,a,i)):ot(e,t,a,i),t.memoizedState=s.state,e=t.child):e=ya(e,t,i),e}function Ud(e,t,a,n){return Al(),t.flags|=256,ot(e,t,a,n),t.child}var Ir={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ec(e){return{baseLanes:e,cachePool:Nu()}}function tc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Yt),e}function kd(e,t,a){var n=t.pendingProps,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),u&&(i=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(i?La(t):Ua(),Re){var p=Xe,j;if(j=p){e:{for(j=p,p=ta;j.nodeType!==8;){if(!p){p=null;break e}if(j=Ft(j.nextSibling),j===null){p=null;break e}}p=j}p!==null?(t.memoizedState={dehydrated:p,treeContext:sn!==null?{id:fa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},j=Ct(18,null,null,0),j.stateNode=p,j.return=t,t.child=j,xt=t,Xe=null,j=!0):j=!1}j||on(t)}if(p=t.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return Bc(p)?t.lanes=32:t.lanes=536870912,null;ga(t)}return p=n.children,n=n.fallback,i?(Ua(),i=t.mode,p=ls({mode:"hidden",children:p},i),n=ln(n,i,a,null),p.return=t,n.return=t,p.sibling=n,t.child=p,i=t.child,i.memoizedState=ec(a),i.childLanes=tc(e,u,a),t.memoizedState=Ir,n):(La(t),ac(t,p))}if(j=e.memoizedState,j!==null&&(p=j.dehydrated,p!==null)){if(s)t.flags&256?(La(t),t.flags&=-257,t=nc(e,t,a)):t.memoizedState!==null?(Ua(),t.child=e.child,t.flags|=128,t=null):(Ua(),i=n.fallback,p=t.mode,n=ls({mode:"visible",children:n.children},p),i=ln(i,p,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,Fn(t,e.child,null,a),n=t.child,n.memoizedState=ec(a),n.childLanes=tc(e,u,a),t.memoizedState=Ir,t=i);else if(La(t),Bc(p)){if(u=p.nextSibling&&p.nextSibling.dataset,u)var B=u.dgst;u=B,n=Error(c(419)),n.stack="",n.digest=u,Cl({value:n,source:null,stack:null}),t=nc(e,t,a)}else if(lt||Tl(e,t,a,!1),u=(a&e.childLanes)!==0,lt||u){if(u=qe,u!==null&&(n=a&-a,n=(n&42)!==0?1:jn(n),n=(n&(u.suspendedLanes|a))!==0?0:n,n!==0&&n!==j.retryLane))throw j.retryLane=n,kn(e,n),zt(u,e,n),Cd;p.data==="$?"||jc(),t=nc(e,t,a)}else p.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,Xe=Ft(p.nextSibling),xt=t,Re=!0,cn=null,ta=!1,e!==null&&(Ht[qt++]=fa,Ht[qt++]=ma,Ht[qt++]=sn,fa=e.id,ma=e.overflow,sn=t),t=ac(t,n.children),t.flags|=4096);return t}return i?(Ua(),i=n.fallback,p=t.mode,j=e.child,B=j.sibling,n=da(j,{mode:"hidden",children:n.children}),n.subtreeFlags=j.subtreeFlags&65011712,B!==null?i=da(B,i):(i=ln(i,p,a,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,p=e.child.memoizedState,p===null?p=ec(a):(j=p.cachePool,j!==null?(B=tt._currentValue,j=j.parent!==B?{parent:B,pool:B}:j):j=Nu(),p={baseLanes:p.baseLanes|a,cachePool:j}),i.memoizedState=p,i.childLanes=tc(e,u,a),t.memoizedState=Ir,n):(La(t),a=e.child,e=a.sibling,a=da(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=a,t.memoizedState=null,a)}function ac(e,t){return t=ls({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ls(e,t){return e=Ct(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function nc(e,t,a){return Fn(t,e.child,null,a),e=ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bd(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jr(e.return,t,a)}function lc(e,t,a,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=a,s.tailMode=i)}function Hd(e,t,a){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(ot(e,t,n.children,a),n=at.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bd(e,a,t);else if(e.tag===19)Bd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(ae(at,n),i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&es(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),lc(t,!1,i,a,s);break;case"backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&es(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}lc(t,!0,a,null,s);break;case"together":lc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ya(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Tl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=da(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=da(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ic(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Bi(e)))}function lp(e,t,a){switch(t.tag){case 3:De(t,t.stateNode.containerInfo),Da(t,tt,e.memoizedState.cache),Al();break;case 27:case 5:Pt(t);break;case 4:De(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(La(t),t.flags|=128,null):(a&t.child.childLanes)!==0?kd(e,t,a):(La(t),e=ya(e,t,a),e!==null?e.sibling:null);La(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Tl(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return Hd(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(at,at.current),n)break;return null;case 22:case 23:return t.lanes=0,Od(e,t,a);case 24:Da(t,tt,e.memoizedState.cache)}return ya(e,t,a)}function qd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!ic(e,a)&&(t.flags&128)===0)return lt=!1,lp(e,t,a);lt=(e.flags&131072)!==0}else lt=!1,Re&&(t.flags&1048576)!==0&&vu(t,ki,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,typeof n=="function")hr(n)?(e=hn(n,e),t.tag=1,t=Ld(null,t,n,e,a)):(t.tag=0,t=Pr(null,t,n,e,a));else{if(n!=null){if(i=n.$$typeof,i===Y){t.tag=11,t=Td(null,t,n,e,a);break e}else if(i===F){t.tag=14,t=Dd(null,t,n,e,a);break e}}throw t=ce(n)||n,Error(c(306,t,""))}}return t;case 0:return Pr(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=hn(n,t.pendingProps),Ld(e,t,n,i,a);case 3:e:{if(De(t,t.stateNode.containerInfo),e===null)throw Error(c(387));n=t.pendingProps;var s=t.memoizedState;i=s.element,Cr(e,t),Ul(t,n,null,a);var u=t.memoizedState;if(n=u.cache,Da(t,tt,n),n!==s.cache&&Sr(t,[tt],a,!0),Ll(),n=u.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Ud(e,t,n,a);break e}else if(n!==i){i=kt(Error(c(424)),t),Cl(i),t=Ud(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Xe=Ft(e.firstChild),xt=t,Re=!0,cn=null,ta=!0,a=yd(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Al(),n===i){t=ya(e,t,a);break e}ot(e,t,n,a)}t=t.child}return t;case 26:return ns(e,t),e===null?(a=Qf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Re||(a=t.type,e=t.pendingProps,n=ys(he.current).createElement(a),n[mt]=t,n[bt]=e,dt(n,a,e),nt(n),t.stateNode=n):t.memoizedState=Qf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Pt(t),e===null&&Re&&(n=t.stateNode=Yf(t.type,t.pendingProps,he.current),xt=t,ta=!0,i=Xe,Qa(t.type)?(Hc=i,Xe=Ft(n.firstChild)):Xe=i),ot(e,t,t.pendingProps.children,a),ns(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((i=n=Xe)&&(n=Op(n,t.type,t.pendingProps,ta),n!==null?(t.stateNode=n,xt=t,Xe=Ft(n.firstChild),ta=!1,i=!0):i=!1),i||on(t)),Pt(t),i=t.type,s=t.pendingProps,u=e!==null?e.memoizedProps:null,n=s.children,Lc(i,s)?n=null:u!==null&&Lc(i,u)&&(t.flags|=32),t.memoizedState!==null&&(i=Mr(e,t,Jh,null,null,a),li._currentValue=i),ns(e,t),ot(e,t,n,a),t.child;case 6:return e===null&&Re&&((e=a=Xe)&&(a=zp(a,t.pendingProps,ta),a!==null?(t.stateNode=a,xt=t,Xe=null,e=!0):e=!1),e||on(t)),null;case 13:return kd(e,t,a);case 4:return De(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fn(t,null,n,a):ot(e,t,n,a),t.child;case 11:return Td(e,t,t.type,t.pendingProps,a);case 7:return ot(e,t,t.pendingProps,a),t.child;case 8:return ot(e,t,t.pendingProps.children,a),t.child;case 12:return ot(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Da(t,t.type,n.value),ot(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,dn(t),i=ht(i),n=n(i),t.flags|=1,ot(e,t,n,a),t.child;case 14:return Dd(e,t,t.type,t.pendingProps,a);case 15:return Rd(e,t,t.type,t.pendingProps,a);case 19:return Hd(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=ls(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=da(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Od(e,t,a);case 24:return dn(t),n=ht(tt),e===null?(i=_r(),i===null&&(i=qe,s=Nr(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=a),i=s),t.memoizedState={parent:n,cache:i},Ar(t),Da(t,tt,i)):((e.lanes&a)!==0&&(Cr(e,t),Ul(t,null,null,a),Ll()),i=e.memoizedState,s=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Da(t,tt,n)):(n=s.cache,Da(t,tt,n),n!==i.cache&&Sr(t,[tt],a,!0))),ot(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function xa(e){e.flags|=4}function $d(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jf(t)){if(t=$t.current,t!==null&&((Ce&4194048)===Ce?aa!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||t!==aa))throw zl=wr,Eu;e.flags|=8192}}function is(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?oe():536870912,e.lanes|=t,Pn|=t)}function Gl(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function ip(e,t,a){var n=t.pendingProps;switch(yr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),pa(tt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wl(t)?xa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xu())),Ge(t),null;case 26:return a=t.memoizedState,e===null?(xa(t),a!==null?(Ge(t),$d(t,a)):(Ge(t),t.flags&=-16777217)):a?a!==e.memoizedState?(xa(t),Ge(t),$d(t,a)):(Ge(t),t.flags&=-16777217):(e.memoizedProps!==n&&xa(t),Ge(t),t.flags&=-16777217),null;case 27:gt(t),a=he.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&xa(t);else{if(!n){if(t.stateNode===null)throw Error(c(166));return Ge(t),null}e=fe.current,wl(t)?gu(t):(e=Yf(i,n,a),t.stateNode=e,xa(t))}return Ge(t),null;case 5:if(gt(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&xa(t);else{if(!n){if(t.stateNode===null)throw Error(c(166));return Ge(t),null}if(e=fe.current,wl(t))gu(t);else{switch(i=ys(he.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?i.createElement(a,{is:n.is}):i.createElement(a)}}e[mt]=t,e[bt]=n;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(dt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&xa(t)}}return Ge(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&xa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(c(166));if(e=he.current,wl(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=xt,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[mt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Lf(e.nodeValue,a)),e||on(t)}else e=ys(e).createTextNode(n),e[mt]=t,t.stateNode=e}return Ge(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=wl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(c(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));i[mt]=t}else Al(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),i=!1}else i=xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(ga(t),t):(ga(t),null)}if(ga(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool);var s=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),is(t,t.updateQueue),Ge(t),null;case 4:return Oe(),e===null&&Dc(t.stateNode.containerInfo),Ge(t),null;case 10:return pa(t.type),Ge(t),null;case 19:if(se(at),i=t.memoizedState,i===null)return Ge(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Gl(i,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=es(e),s!==null){for(t.flags|=128,Gl(i,!1),e=s.updateQueue,t.updateQueue=e,is(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)pu(a,e),a=a.sibling;return ae(at,at.current&1|2),t.child}e=e.sibling}i.tail!==null&&W()>cs&&(t.flags|=128,n=!0,Gl(i,!1),t.lanes=4194304)}else{if(!n)if(e=es(s),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,is(t,e),Gl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Re)return Ge(t),null}else 2*W()-i.renderingStartTime>cs&&a!==536870912&&(t.flags|=128,n=!0,Gl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=W(),t.sibling=null,e=at.current,ae(at,n?e&1|2:e&1),t):(Ge(t),null);case 22:case 23:return ga(t),Or(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),a=t.updateQueue,a!==null&&is(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&se(fn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),pa(tt),Ge(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function sp(e,t){switch(yr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pa(tt),Oe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return gt(t),null;case 13:if(ga(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Al()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(at),null;case 4:return Oe(),null;case 10:return pa(t.type),null;case 22:case 23:return ga(t),Or(),e!==null&&se(fn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pa(tt),null;case 25:return null;default:return null}}function Yd(e,t){switch(yr(t),t.tag){case 3:pa(tt),Oe();break;case 26:case 27:case 5:gt(t);break;case 4:Oe();break;case 13:ga(t);break;case 19:se(at);break;case 10:pa(t.type);break;case 22:case 23:ga(t),Or(),e!==null&&se(fn);break;case 24:pa(tt)}}function Xl(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var s=a.create,u=a.inst;n=s(),u.destroy=n}a=a.next}while(a!==i)}}catch(p){Be(t,t.return,p)}}function ka(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){var u=n.inst,p=u.destroy;if(p!==void 0){u.destroy=void 0,i=t;var j=a,B=p;try{B()}catch(Z){Be(i,j,Z)}}}n=n.next}while(n!==s)}}catch(Z){Be(t,t.return,Z)}}function Gd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Du(t,a)}catch(n){Be(e,e.return,n)}}}function Xd(e,t,a){a.props=hn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Be(e,t,n)}}function Ql(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){Be(e,t,i)}}function na(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){Be(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Be(e,t,i)}else a.current=null}function Qd(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){Be(e,e.return,i)}}function sc(e,t,a){try{var n=e.stateNode;Ap(n,e.type,a,t),n[bt]=t}catch(i){Be(e,e.return,i)}}function Vd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qa(e.type)||e.tag===4}function rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cc(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=gs));else if(n!==4&&(n===27&&Qa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(cc(e,t,a),e=e.sibling;e!==null;)cc(e,t,a),e=e.sibling}function ss(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Qa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ss(e,t,a),e=e.sibling;e!==null;)ss(e,t,a),e=e.sibling}function Zd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);dt(t,n,a),t[mt]=e,t[bt]=a}catch(s){Be(e,e.return,s)}}var ba=!1,Fe=!1,oc=!1,Fd=typeof WeakSet=="function"?WeakSet:Set,it=null;function rp(e,t){if(e=e.containerInfo,zc=Es,e=iu(e),rr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var u=0,p=-1,j=-1,B=0,Z=0,J=e,q=null;t:for(;;){for(var $;J!==a||i!==0&&J.nodeType!==3||(p=u+i),J!==s||n!==0&&J.nodeType!==3||(j=u+n),J.nodeType===3&&(u+=J.nodeValue.length),($=J.firstChild)!==null;)q=J,J=$;for(;;){if(J===e)break t;if(q===a&&++B===i&&(p=u),q===s&&++Z===n&&(j=u),($=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=$}a=p===-1||j===-1?null:{start:p,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mc={focusedElem:e,selectionRange:a},Es=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,a=t,i=s.memoizedProps,s=s.memoizedState,n=a.stateNode;try{var ye=hn(a.type,i,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(ye,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(pe){Be(a,a.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)kc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function Kd(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ba(e,a),n&4&&Xl(5,a);break;case 1:if(Ba(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(u){Be(a,a.return,u)}else{var i=hn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){Be(a,a.return,u)}}n&64&&Gd(a),n&512&&Ql(a,a.return);break;case 3:if(Ba(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Du(e,t)}catch(u){Be(a,a.return,u)}}break;case 27:t===null&&n&4&&Zd(a);case 26:case 5:Ba(e,a),t===null&&n&4&&Qd(a),n&512&&Ql(a,a.return);break;case 12:Ba(e,a);break;case 13:Ba(e,a),n&4&&Pd(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=vp.bind(null,a),Mp(e,a))));break;case 22:if(n=a.memoizedState!==null||ba,!n){t=t!==null&&t.memoizedState!==null||Fe,i=ba;var s=Fe;ba=n,(Fe=t)&&!s?Ha(e,a,(a.subtreeFlags&8772)!==0):Ba(e,a),ba=i,Fe=s}break;case 30:break;default:Ba(e,a)}}function Jd(e){var t=e.alternate;t!==null&&(e.alternate=null,Jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ys(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,Nt=!1;function ja(e,t,a){for(a=a.child;a!==null;)Wd(e,t,a),a=a.sibling}function Wd(e,t,a){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Aa,a)}catch{}switch(a.tag){case 26:Fe||na(a,t),ja(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||na(a,t);var n=$e,i=Nt;Qa(a.type)&&($e=a.stateNode,Nt=!1),ja(e,t,a),ei(a.stateNode),$e=n,Nt=i;break;case 5:Fe||na(a,t);case 6:if(n=$e,i=Nt,$e=null,ja(e,t,a),$e=n,Nt=i,$e!==null)if(Nt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(s){Be(a,t,s)}else try{$e.removeChild(a.stateNode)}catch(s){Be(a,t,s)}break;case 18:$e!==null&&(Nt?(e=$e,qf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ci(e)):qf($e,a.stateNode));break;case 4:n=$e,i=Nt,$e=a.stateNode.containerInfo,Nt=!0,ja(e,t,a),$e=n,Nt=i;break;case 0:case 11:case 14:case 15:Fe||ka(2,a,t),Fe||ka(4,a,t),ja(e,t,a);break;case 1:Fe||(na(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Xd(a,t,n)),ja(e,t,a);break;case 21:ja(e,t,a);break;case 22:Fe=(n=Fe)||a.memoizedState!==null,ja(e,t,a),Fe=n;break;default:ja(e,t,a)}}function Pd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ci(e)}catch(a){Be(t,t.return,a)}}function cp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fd),t;default:throw Error(c(435,e.tag))}}function uc(e,t){var a=cp(e);t.forEach(function(n){var i=gp.bind(null,e,n);a.has(n)||(a.add(n),n.then(i,i))})}function Tt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],s=e,u=t,p=u;e:for(;p!==null;){switch(p.tag){case 27:if(Qa(p.type)){$e=p.stateNode,Nt=!1;break e}break;case 5:$e=p.stateNode,Nt=!1;break e;case 3:case 4:$e=p.stateNode.containerInfo,Nt=!0;break e}p=p.return}if($e===null)throw Error(c(160));Wd(s,u,i),$e=null,Nt=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Id(t,e),t=t.sibling}var Zt=null;function Id(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),Dt(e),n&4&&(ka(3,e,e.return),Xl(3,e),ka(5,e,e.return));break;case 1:Tt(t,e),Dt(e),n&512&&(Fe||a===null||na(a,a.return)),n&64&&ba&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=Zt;if(Tt(t,e),Dt(e),n&512&&(Fe||a===null||na(a,a.return)),n&4){var s=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":s=i.getElementsByTagName("title")[0],(!s||s[pl]||s[mt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(n),i.head.insertBefore(s,i.querySelector("head > title"))),dt(s,n,a),s[mt]=e,nt(s),n=s;break e;case"link":var u=Ff("link","href",i).get(n+(a.href||""));if(u){for(var p=0;p<u.length;p++)if(s=u[p],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){u.splice(p,1);break t}}s=i.createElement(n),dt(s,n,a),i.head.appendChild(s);break;case"meta":if(u=Ff("meta","content",i).get(n+(a.content||""))){for(p=0;p<u.length;p++)if(s=u[p],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){u.splice(p,1);break t}}s=i.createElement(n),dt(s,n,a),i.head.appendChild(s);break;default:throw Error(c(468,n))}s[mt]=e,nt(s),n=s}e.stateNode=n}else Kf(i,e.type,e.stateNode);else e.stateNode=Zf(i,n,e.memoizedProps);else s!==n?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,n===null?Kf(i,e.type,e.stateNode):Zf(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&sc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tt(t,e),Dt(e),n&512&&(Fe||a===null||na(a,a.return)),a!==null&&n&4&&sc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tt(t,e),Dt(e),n&512&&(Fe||a===null||na(a,a.return)),e.flags&32){i=e.stateNode;try{Dn(i,"")}catch($){Be(e,e.return,$)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,sc(e,i,a!==null?a.memoizedProps:i)),n&1024&&(oc=!0);break;case 6:if(Tt(t,e),Dt(e),n&4){if(e.stateNode===null)throw Error(c(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch($){Be(e,e.return,$)}}break;case 3:if(js=null,i=Zt,Zt=xs(t.containerInfo),Tt(t,e),Zt=i,Dt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{ci(t.containerInfo)}catch($){Be(e,e.return,$)}oc&&(oc=!1,ef(e));break;case 4:n=Zt,Zt=xs(e.stateNode.containerInfo),Tt(t,e),Dt(e),Zt=n;break;case 12:Tt(t,e),Dt(e);break;case 13:Tt(t,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vc=W()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,uc(e,n)));break;case 22:i=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,B=ba,Z=Fe;if(ba=B||i,Fe=Z||j,Tt(t,e),Fe=Z,ba=B,Dt(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||j||ba||Fe||pn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(s=j.stateNode,i)u=s.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{p=j.stateNode;var J=j.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;p.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch($){Be(j,j.return,$)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=i?"":j.memoizedProps}catch($){Be(j,j.return,$)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,uc(e,a))));break;case 19:Tt(t,e),Dt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,uc(e,n)));break;case 30:break;case 21:break;default:Tt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Vd(n)){a=n;break}n=n.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var i=a.stateNode,s=rc(e);ss(e,s,i);break;case 5:var u=a.stateNode;a.flags&32&&(Dn(u,""),a.flags&=-33);var p=rc(e);ss(e,p,u);break;case 3:case 4:var j=a.stateNode.containerInfo,B=rc(e);cc(e,B,j);break;default:throw Error(c(161))}}catch(Z){Be(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ef(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ef(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ba(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Kd(e,t.alternate,t),t=t.sibling}function pn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ka(4,t,t.return),pn(t);break;case 1:na(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Xd(t,t.return,a),pn(t);break;case 27:ei(t.stateNode);case 26:case 5:na(t,t.return),pn(t);break;case 22:t.memoizedState===null&&pn(t);break;case 30:pn(t);break;default:pn(t)}e=e.sibling}}function Ha(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,s=t,u=s.flags;switch(s.tag){case 0:case 11:case 15:Ha(i,s,a),Xl(4,s);break;case 1:if(Ha(i,s,a),n=s,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(B){Be(n,n.return,B)}if(n=s,i=n.updateQueue,i!==null){var p=n.stateNode;try{var j=i.shared.hiddenCallbacks;if(j!==null)for(i.shared.hiddenCallbacks=null,i=0;i<j.length;i++)Tu(j[i],p)}catch(B){Be(n,n.return,B)}}a&&u&64&&Gd(s),Ql(s,s.return);break;case 27:Zd(s);case 26:case 5:Ha(i,s,a),a&&n===null&&u&4&&Qd(s),Ql(s,s.return);break;case 12:Ha(i,s,a);break;case 13:Ha(i,s,a),a&&u&4&&Pd(i,s);break;case 22:s.memoizedState===null&&Ha(i,s,a),Ql(s,s.return);break;case 30:break;default:Ha(i,s,a)}t=t.sibling}}function dc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Dl(a))}function fc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Dl(e))}function la(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tf(e,t,a,n),t=t.sibling}function tf(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:la(e,t,a,n),i&2048&&Xl(9,t);break;case 1:la(e,t,a,n);break;case 3:la(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Dl(e)));break;case 12:if(i&2048){la(e,t,a,n),e=t.stateNode;try{var s=t.memoizedProps,u=s.id,p=s.onPostCommit;typeof p=="function"&&p(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Be(t,t.return,j)}}else la(e,t,a,n);break;case 13:la(e,t,a,n);break;case 23:break;case 22:s=t.stateNode,u=t.alternate,t.memoizedState!==null?s._visibility&2?la(e,t,a,n):Vl(e,t):s._visibility&2?la(e,t,a,n):(s._visibility|=2,Kn(e,t,a,n,(t.subtreeFlags&10256)!==0)),i&2048&&dc(u,t);break;case 24:la(e,t,a,n),i&2048&&fc(t.alternate,t);break;default:la(e,t,a,n)}}function Kn(e,t,a,n,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,u=t,p=a,j=n,B=u.flags;switch(u.tag){case 0:case 11:case 15:Kn(s,u,p,j,i),Xl(8,u);break;case 23:break;case 22:var Z=u.stateNode;u.memoizedState!==null?Z._visibility&2?Kn(s,u,p,j,i):Vl(s,u):(Z._visibility|=2,Kn(s,u,p,j,i)),i&&B&2048&&dc(u.alternate,u);break;case 24:Kn(s,u,p,j,i),i&&B&2048&&fc(u.alternate,u);break;default:Kn(s,u,p,j,i)}t=t.sibling}}function Vl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:Vl(a,n),i&2048&&dc(n.alternate,n);break;case 24:Vl(a,n),i&2048&&fc(n.alternate,n);break;default:Vl(a,n)}t=t.sibling}}var Zl=8192;function Jn(e){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)af(e),e=e.sibling}function af(e){switch(e.tag){case 26:Jn(e),e.flags&Zl&&e.memoizedState!==null&&Zp(Zt,e.memoizedState,e.memoizedProps);break;case 5:Jn(e);break;case 3:case 4:var t=Zt;Zt=xs(e.stateNode.containerInfo),Jn(e),Zt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Zl,Zl=16777216,Jn(e),Zl=t):Jn(e));break;default:Jn(e)}}function nf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];it=n,sf(n,e)}nf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lf(e),e=e.sibling}function lf(e){switch(e.tag){case 0:case 11:case 15:Fl(e),e.flags&2048&&ka(9,e,e.return);break;case 3:Fl(e);break;case 12:Fl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,rs(e)):Fl(e);break;default:Fl(e)}}function rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];it=n,sf(n,e)}nf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ka(8,t,t.return),rs(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,rs(t));break;default:rs(t)}e=e.sibling}}function sf(e,t){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:ka(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Dl(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,it=n;else e:for(a=e;it!==null;){n=it;var i=n.sibling,s=n.return;if(Jd(n),n===a){it=null;break e}if(i!==null){i.return=s,it=i;break e}it=s}}}var op={getCacheForType:function(e){var t=ht(tt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},up=typeof WeakMap=="function"?WeakMap:Map,ze=0,qe=null,_e=null,Ce=0,Me=0,Rt=null,qa=!1,Wn=!1,mc=!1,Sa=0,Qe=0,$a=0,vn=0,hc=0,Yt=0,Pn=0,Kl=null,Et=null,pc=!1,vc=0,cs=1/0,os=null,Ya=null,ut=0,Ga=null,In=null,el=0,gc=0,yc=null,rf=null,Jl=0,xc=null;function Ot(){if((ze&2)!==0&&Ce!==0)return Ce&-Ce;if(k.T!==null){var e=$n;return e!==0?e:wc()}return bi()}function cf(){Yt===0&&(Yt=(Ce&536870912)===0||Re?X():536870912);var e=$t.current;return e!==null&&(e.flags|=32),Yt}function zt(e,t,a){(e===qe&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(tl(e,0),Xa(e,Ce,Yt,!1)),Ae(e,a),((ze&2)===0||e!==qe)&&(e===qe&&((ze&2)===0&&(vn|=a),Qe===4&&Xa(e,Ce,Yt,!1)),ia(e))}function of(e,t,a){if((ze&6)!==0)throw Error(c(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Ia(e,t),i=n?mp(e,t):Sc(e,t,!0),s=n;do{if(i===0){Wn&&!n&&Xa(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!dp(a)){i=Sc(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var p=e;i=Kl;var j=p.current.memoizedState.isDehydrated;if(j&&(tl(p,u).flags|=256),u=Sc(p,u,!1),u!==2){if(mc&&!j){p.errorRecoveryDisabledLanes|=s,vn|=s,i=4;break e}s=Et,Et=i,s!==null&&(Et===null?Et=s:Et.push.apply(Et,s))}i=u}if(s=!1,i!==2)continue}}if(i===1){tl(e,0),Xa(e,t,0,!0);break}e:{switch(n=e,s=i,s){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Xa(n,t,Yt,!qa);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(i=vc+300-W(),10<i)){if(Xa(n,t,Yt,!qa),bn(n,0,!0)!==0)break e;n.timeoutHandle=Bf(uf.bind(null,n,a,Et,os,pc,t,Yt,vn,Pn,qa,s,2,-0,0),i);break e}uf(n,a,Et,os,pc,t,Yt,vn,Pn,qa,s,0,-0,0)}}break}while(!0);ia(e)}function uf(e,t,a,n,i,s,u,p,j,B,Z,J,q,$){if(e.timeoutHandle=-1,J=t.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(ni={stylesheets:null,count:0,unsuspend:Vp},af(t),J=Fp(),J!==null)){e.cancelPendingCommit=J(gf.bind(null,e,t,s,a,n,i,u,p,j,Z,1,q,$)),Xa(e,s,u,!B);return}gf(e,t,s,a,n,i,u,p,j)}function dp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],s=i.getSnapshot;i=i.value;try{if(!At(s(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xa(e,t,a,n){t&=~hc,t&=~vn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var s=31-rt(i),u=1<<s;n[s]=-1,i&=~u}a!==0&&ct(e,a,t)}function us(){return(ze&6)===0?(Wl(0),!1):!0}function bc(){if(_e!==null){if(Me===0)var e=_e.return;else e=_e,ha=un=null,kr(e),Zn=null,$l=0,e=_e;for(;e!==null;)Yd(e.alternate,e),e=e.return;_e=null}}function tl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Tp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),bc(),qe=e,_e=a=da(e.current,null),Ce=t,Me=0,Rt=null,qa=!1,Wn=Ia(e,t),mc=!1,Pn=Yt=hc=vn=$a=Qe=0,Et=Kl=null,pc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-rt(n),s=1<<i;t|=e[i],n&=~s}return Sa=t,Oi(),a}function df(e,t){Ne=null,k.H=Wi,t===Ol||t===$i?(t=Au(),Me=3):t===Eu?(t=Au(),Me=4):Me=t===Cd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,_e===null&&(Qe=1,as(e,kt(t,e.current)))}function ff(){var e=k.H;return k.H=Wi,e===null?Wi:e}function mf(){var e=k.A;return k.A=op,e}function jc(){Qe=4,qa||(Ce&4194048)!==Ce&&$t.current!==null||(Wn=!0),($a&134217727)===0&&(vn&134217727)===0||qe===null||Xa(qe,Ce,Yt,!1)}function Sc(e,t,a){var n=ze;ze|=2;var i=ff(),s=mf();(qe!==e||Ce!==t)&&(os=null,tl(e,t)),t=!1;var u=Qe;e:do try{if(Me!==0&&_e!==null){var p=_e,j=Rt;switch(Me){case 8:bc(),u=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var B=Me;if(Me=0,Rt=null,al(e,p,j,B),a&&Wn){u=0;break e}break;default:B=Me,Me=0,Rt=null,al(e,p,j,B)}}fp(),u=Qe;break}catch(Z){df(e,Z)}while(!0);return t&&e.shellSuspendCounter++,ha=un=null,ze=n,k.H=i,k.A=s,_e===null&&(qe=null,Ce=0,Oi()),u}function fp(){for(;_e!==null;)hf(_e)}function mp(e,t){var a=ze;ze|=2;var n=ff(),i=mf();qe!==e||Ce!==t?(os=null,cs=W()+500,tl(e,t)):Wn=Ia(e,t);e:do try{if(Me!==0&&_e!==null){t=_e;var s=Rt;t:switch(Me){case 1:Me=0,Rt=null,al(e,t,s,1);break;case 2:case 9:if(_u(s)){Me=0,Rt=null,pf(t);break}t=function(){Me!==2&&Me!==9||qe!==e||(Me=7),ia(e)},s.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:_u(s)?(Me=0,Rt=null,pf(t)):(Me=0,Rt=null,al(e,t,s,7));break;case 5:var u=null;switch(_e.tag){case 26:u=_e.memoizedState;case 5:case 27:var p=_e;if(!u||Jf(u)){Me=0,Rt=null;var j=p.sibling;if(j!==null)_e=j;else{var B=p.return;B!==null?(_e=B,ds(B)):_e=null}break t}}Me=0,Rt=null,al(e,t,s,5);break;case 6:Me=0,Rt=null,al(e,t,s,6);break;case 8:bc(),Qe=6;break e;default:throw Error(c(462))}}hp();break}catch(Z){df(e,Z)}while(!0);return ha=un=null,k.H=n,k.A=i,ze=a,_e!==null?0:(qe=null,Ce=0,Oi(),Qe)}function hp(){for(;_e!==null&&!ra();)hf(_e)}function hf(e){var t=qd(e.alternate,e,Sa);e.memoizedProps=e.pendingProps,t===null?ds(e):_e=t}function pf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Md(a,t,t.pendingProps,t.type,void 0,Ce);break;case 11:t=Md(a,t,t.pendingProps,t.type.render,t.ref,Ce);break;case 5:kr(t);default:Yd(a,t),t=_e=pu(t,Sa),t=qd(a,t,Sa)}e.memoizedProps=e.pendingProps,t===null?ds(e):_e=t}function al(e,t,a,n){ha=un=null,kr(t),Zn=null,$l=0;var i=t.return;try{if(np(e,i,t,a,Ce)){Qe=1,as(e,kt(a,e.current)),_e=null;return}}catch(s){if(i!==null)throw _e=i,s;Qe=1,as(e,kt(a,e.current)),_e=null;return}t.flags&32768?(Re||n===1?e=!0:Wn||(Ce&536870912)!==0?e=!1:(qa=e=!0,(n===2||n===9||n===3||n===6)&&(n=$t.current,n!==null&&n.tag===13&&(n.flags|=16384))),vf(t,e)):ds(t)}function ds(e){var t=e;do{if((t.flags&32768)!==0){vf(t,qa);return}e=t.return;var a=ip(t.alternate,t,Sa);if(a!==null){_e=a;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Qe===0&&(Qe=5)}function vf(e,t){do{var a=sp(e.alternate,e);if(a!==null){a.flags&=32767,_e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=a}while(e!==null);Qe=6,_e=null}function gf(e,t,a,n,i,s,u,p,j){e.cancelPendingCommit=null;do fs();while(ut!==0);if((ze&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(s=t.lanes|t.childLanes,s|=fr,wt(e,a,s,u,p,j),e===qe&&(_e=qe=null,Ce=0),In=t,Ga=e,el=a,gc=s,yc=i,rf=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yp(yt,function(){return Sf(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=k.T,k.T=null,i=H.p,H.p=2,u=ze,ze|=4;try{rp(e,t,a)}finally{ze=u,H.p=i,k.T=n}}ut=1,yf(),xf(),bf()}}function yf(){if(ut===1){ut=0;var e=Ga,t=In,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var n=H.p;H.p=2;var i=ze;ze|=4;try{Id(t,e);var s=Mc,u=iu(e.containerInfo),p=s.focusedElem,j=s.selectionRange;if(u!==p&&p&&p.ownerDocument&&lu(p.ownerDocument.documentElement,p)){if(j!==null&&rr(p)){var B=j.start,Z=j.end;if(Z===void 0&&(Z=B),"selectionStart"in p)p.selectionStart=B,p.selectionEnd=Math.min(Z,p.value.length);else{var J=p.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var $=q.getSelection(),ye=p.textContent.length,pe=Math.min(j.start,ye),ke=j.end===void 0?pe:Math.min(j.end,ye);!$.extend&&pe>ke&&(u=ke,ke=pe,pe=u);var M=nu(p,pe),w=nu(p,ke);if(M&&w&&($.rangeCount!==1||$.anchorNode!==M.node||$.anchorOffset!==M.offset||$.focusNode!==w.node||$.focusOffset!==w.offset)){var U=J.createRange();U.setStart(M.node,M.offset),$.removeAllRanges(),pe>ke?($.addRange(U),$.extend(w.node,w.offset)):(U.setEnd(w.node,w.offset),$.addRange(U))}}}}for(J=[],$=p;$=$.parentNode;)$.nodeType===1&&J.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<J.length;p++){var K=J[p];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Es=!!zc,Mc=zc=null}finally{ze=i,H.p=n,k.T=a}}e.current=t,ut=2}}function xf(){if(ut===2){ut=0;var e=Ga,t=In,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var n=H.p;H.p=2;var i=ze;ze|=4;try{Kd(e,t.alternate,t)}finally{ze=i,H.p=n,k.T=a}}ut=3}}function bf(){if(ut===4||ut===3){ut=0,S();var e=Ga,t=In,a=el,n=rf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ut=5:(ut=0,In=Ga=null,jf(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ya=null),Sn(a),t=t.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Aa,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=k.T,i=H.p,H.p=2,k.T=null;try{for(var s=e.onRecoverableError,u=0;u<n.length;u++){var p=n[u];s(p.value,{componentStack:p.stack})}}finally{k.T=t,H.p=i}}(el&3)!==0&&fs(),ia(e),i=e.pendingLanes,(a&4194090)!==0&&(i&42)!==0?e===xc?Jl++:(Jl=0,xc=e):Jl=0,Wl(0)}}function jf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Dl(t)))}function fs(e){return yf(),xf(),bf(),Sf()}function Sf(){if(ut!==5)return!1;var e=Ga,t=gc;gc=0;var a=Sn(el),n=k.T,i=H.p;try{H.p=32>a?32:a,k.T=null,a=yc,yc=null;var s=Ga,u=el;if(ut=0,In=Ga=null,el=0,(ze&6)!==0)throw Error(c(331));var p=ze;if(ze|=4,lf(s.current),tf(s,s.current,u,a),ze=p,Wl(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Aa,s)}catch{}return!0}finally{H.p=i,k.T=n,jf(e,t)}}function Nf(e,t,a){t=kt(a,t),t=Wr(e.stateNode,t,2),e=za(e,t,2),e!==null&&(Ae(e,2),ia(e))}function Be(e,t,a){if(e.tag===3)Nf(e,e,a);else for(;t!==null;){if(t.tag===3){Nf(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ya===null||!Ya.has(n))){e=kt(a,e),a=wd(2),n=za(t,a,2),n!==null&&(Ad(a,n,t,e),Ae(n,2),ia(n));break}}t=t.return}}function Nc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new up;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(mc=!0,i.add(a),e=pp.bind(null,e,t,a),t.then(e,e))}function pp(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(Ce&a)===a&&(Qe===4||Qe===3&&(Ce&62914560)===Ce&&300>W()-vc?(ze&2)===0&&tl(e,0):hc|=a,Pn===Ce&&(Pn=0)),ia(e)}function Ef(e,t){t===0&&(t=oe()),e=kn(e,t),e!==null&&(Ae(e,t),ia(e))}function vp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Ef(e,a)}function gp(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(c(314))}n!==null&&n.delete(t),Ef(e,a)}function yp(e,t){return sa(e,t)}var ms=null,nl=null,Ec=!1,hs=!1,_c=!1,gn=0;function ia(e){e!==nl&&e.next===null&&(nl===null?ms=nl=e:nl=nl.next=e),hs=!0,Ec||(Ec=!0,bp())}function Wl(e,t){if(!_c&&hs){_c=!0;do for(var a=!1,n=ms;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var s=0;else{var u=n.suspendedLanes,p=n.pingedLanes;s=(1<<31-rt(42|e)+1)-1,s&=i&~(u&~p),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,Cf(n,s))}else s=Ce,s=bn(n,n===qe?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(s&3)===0||Ia(n,s)||(a=!0,Cf(n,s));n=n.next}while(a);_c=!1}}function xp(){_f()}function _f(){hs=Ec=!1;var e=0;gn!==0&&(Cp()&&(e=gn),gn=0);for(var t=W(),a=null,n=ms;n!==null;){var i=n.next,s=wf(n,t);s===0?(n.next=null,a===null?ms=i:a.next=i,i===null&&(nl=a)):(a=n,(e!==0||(s&3)!==0)&&(hs=!0)),n=i}Wl(e)}function wf(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var u=31-rt(s),p=1<<u,j=i[u];j===-1?((p&a)===0||(p&n)!==0)&&(i[u]=qs(p,t)):j<=t&&(e.expiredLanes|=p),s&=~p}if(t=qe,a=Ce,a=bn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Mt(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ia(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Mt(n),Sn(a)){case 2:case 8:a=We;break;case 32:a=yt;break;case 268435456:a=gi;break;default:a=yt}return n=Af.bind(null,e),a=sa(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Mt(n),e.callbackPriority=2,e.callbackNode=null,2}function Af(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(fs()&&e.callbackNode!==a)return null;var n=Ce;return n=bn(e,e===qe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(of(e,n,t),wf(e,W()),e.callbackNode!=null&&e.callbackNode===a?Af.bind(null,e):null)}function Cf(e,t){if(fs())return null;of(e,t,!0)}function bp(){Dp(function(){(ze&6)!==0?sa(de,xp):_f()})}function wc(){return gn===0&&(gn=X()),gn}function Tf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_i(""+e)}function Df(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function jp(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var s=Tf((i[bt]||null).action),u=n.submitter;u&&(t=(t=u[bt]||null)?Tf(t.formAction):u.getAttribute("formAction"),t!==null&&(s=t,u=null));var p=new Ti("action","action",null,n,i);e.push({event:p,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(gn!==0){var j=u?Df(i,u):new FormData(i);Vr(a,{pending:!0,data:j,method:i.method,action:s},null,j)}}else typeof s=="function"&&(p.preventDefault(),j=u?Df(i,u):new FormData(i),Vr(a,{pending:!0,data:j,method:i.method,action:s},s,j))},currentTarget:i}]})}}for(var Ac=0;Ac<dr.length;Ac++){var Cc=dr[Ac],Sp=Cc.toLowerCase(),Np=Cc[0].toUpperCase()+Cc.slice(1);Vt(Sp,"on"+Np)}Vt(cu,"onAnimationEnd"),Vt(ou,"onAnimationIteration"),Vt(uu,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(qh,"onTransitionRun"),Vt($h,"onTransitionStart"),Vt(Yh,"onTransitionCancel"),Vt(du,"onTransitionEnd"),An("onMouseEnter",["mouseout","mouseover"]),An("onMouseLeave",["mouseout","mouseover"]),An("onPointerEnter",["pointerout","pointerover"]),An("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ep=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Rf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var u=n.length-1;0<=u;u--){var p=n[u],j=p.instance,B=p.currentTarget;if(p=p.listener,j!==s&&i.isPropagationStopped())break e;s=p,i.currentTarget=B;try{s(i)}catch(Z){ts(Z)}i.currentTarget=null,s=j}else for(u=0;u<n.length;u++){if(p=n[u],j=p.instance,B=p.currentTarget,p=p.listener,j!==s&&i.isPropagationStopped())break e;s=p,i.currentTarget=B;try{s(i)}catch(Z){ts(Z)}i.currentTarget=null,s=j}}}}function we(e,t){var a=t[$s];a===void 0&&(a=t[$s]=new Set);var n=e+"__bubble";a.has(n)||(Of(t,e,2,!1),a.add(n))}function Tc(e,t,a){var n=0;t&&(n|=4),Of(a,e,n,t)}var ps="_reactListening"+Math.random().toString(36).slice(2);function Dc(e){if(!e[ps]){e[ps]=!0,Eo.forEach(function(a){a!=="selectionchange"&&(Ep.has(a)||Tc(a,!1,e),Tc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ps]||(t[ps]=!0,Tc("selectionchange",!1,t))}}function Of(e,t,a,n){switch(am(t)){case 2:var i=Wp;break;case 8:i=Pp;break;default:i=Xc}a=i.bind(null,t,a,e),i=void 0,!Ps||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Rc(e,t,a,n,i){var s=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var p=n.stateNode.containerInfo;if(p===i)break;if(u===4)for(u=n.return;u!==null;){var j=u.tag;if((j===3||j===4)&&u.stateNode.containerInfo===i)return;u=u.return}for(;p!==null;){if(u=En(p),u===null)return;if(j=u.tag,j===5||j===6||j===26||j===27){n=s=u;continue e}p=p.parentNode}}n=n.return}Bo(function(){var B=s,Z=Js(a),J=[];e:{var q=fu.get(e);if(q!==void 0){var $=Ti,ye=e;switch(e){case"keypress":if(Ai(a)===0)break e;case"keydown":case"keyup":$=yh;break;case"focusin":ye="focus",$=ar;break;case"focusout":ye="blur",$=ar;break;case"beforeblur":case"afterblur":$=ar;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=jh;break;case cu:case ou:case uu:$=oh;break;case du:$=Nh;break;case"scroll":case"scrollend":$=lh;break;case"wheel":$=_h;break;case"copy":case"cut":case"paste":$=dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Go;break;case"toggle":case"beforetoggle":$=Ah}var pe=(t&4)!==0,ke=!pe&&(e==="scroll"||e==="scrollend"),M=pe?q!==null?q+"Capture":null:q;pe=[];for(var w=B,U;w!==null;){var K=w;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||M===null||(K=gl(w,M),K!=null&&pe.push(Il(w,K,U))),ke)break;w=w.return}0<pe.length&&(q=new $(q,ye,null,a,Z),J.push({event:q,listeners:pe}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",q&&a!==Ks&&(ye=a.relatedTarget||a.fromElement)&&(En(ye)||ye[Nn]))break e;if(($||q)&&(q=Z.window===Z?Z:(q=Z.ownerDocument)?q.defaultView||q.parentWindow:window,$?(ye=a.relatedTarget||a.toElement,$=B,ye=ye?En(ye):null,ye!==null&&(ke=v(ye),pe=ye.tag,ye!==ke||pe!==5&&pe!==27&&pe!==6)&&(ye=null)):($=null,ye=B),$!==ye)){if(pe=$o,K="onMouseLeave",M="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Go,K="onPointerLeave",M="onPointerEnter",w="pointer"),ke=$==null?q:vl($),U=ye==null?q:vl(ye),q=new pe(K,w+"leave",$,a,Z),q.target=ke,q.relatedTarget=U,K=null,En(Z)===B&&(pe=new pe(M,w+"enter",ye,a,Z),pe.target=U,pe.relatedTarget=ke,K=pe),ke=K,$&&ye)t:{for(pe=$,M=ye,w=0,U=pe;U;U=ll(U))w++;for(U=0,K=M;K;K=ll(K))U++;for(;0<w-U;)pe=ll(pe),w--;for(;0<U-w;)M=ll(M),U--;for(;w--;){if(pe===M||M!==null&&pe===M.alternate)break t;pe=ll(pe),M=ll(M)}pe=null}else pe=null;$!==null&&zf(J,q,$,pe,!1),ye!==null&&ke!==null&&zf(J,ke,ye,pe,!0)}}e:{if(q=B?vl(B):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var ue=Wo;else if(Ko(q))if(Po)ue=kh;else{ue=Lh;var Ee=Mh}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Fs(B.elementType)&&(ue=Wo):ue=Uh;if(ue&&(ue=ue(e,B))){Jo(J,ue,a,Z);break e}Ee&&Ee(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Zs(q,"number",q.value)}switch(Ee=B?vl(B):window,e){case"focusin":(Ko(Ee)||Ee.contentEditable==="true")&&(Mn=Ee,cr=B,_l=null);break;case"focusout":_l=cr=Mn=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,su(J,a,Z);break;case"selectionchange":if(Hh)break;case"keydown":case"keyup":su(J,a,Z)}var me;if(lr)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else zn?Zo(e,a)&&(ve="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(Xo&&a.locale!=="ko"&&(zn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&zn&&(me=Ho()):(Ta=Z,Is="value"in Ta?Ta.value:Ta.textContent,zn=!0)),Ee=vs(B,ve),0<Ee.length&&(ve=new Yo(ve,e,null,a,Z),J.push({event:ve,listeners:Ee}),me?ve.data=me:(me=Fo(a),me!==null&&(ve.data=me)))),(me=Th?Dh(e,a):Rh(e,a))&&(ve=vs(B,"onBeforeInput"),0<ve.length&&(Ee=new Yo("onBeforeInput","beforeinput",null,a,Z),J.push({event:Ee,listeners:ve}),Ee.data=me)),jp(J,e,B,a,Z)}Rf(J,t)})}function Il(e,t,a){return{instance:e,listener:t,currentTarget:a}}function vs(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=gl(e,a),i!=null&&n.unshift(Il(e,i,s)),i=gl(e,t),i!=null&&n.push(Il(e,i,s))),e.tag===3)return n;e=e.return}return[]}function ll(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zf(e,t,a,n,i){for(var s=t._reactName,u=[];a!==null&&a!==n;){var p=a,j=p.alternate,B=p.stateNode;if(p=p.tag,j!==null&&j===n)break;p!==5&&p!==26&&p!==27||B===null||(j=B,i?(B=gl(a,s),B!=null&&u.unshift(Il(a,B,j))):i||(B=gl(a,s),B!=null&&u.push(Il(a,B,j)))),a=a.return}u.length!==0&&e.push({event:t,listeners:u})}var _p=/\r\n?/g,wp=/\u0000|\uFFFD/g;function Mf(e){return(typeof e=="string"?e:""+e).replace(_p,`
`).replace(wp,"")}function Lf(e,t){return t=Mf(t),Mf(e)===t}function gs(){}function Ue(e,t,a,n,i,s){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Dn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Dn(e,""+n);break;case"className":Si(e,"class",n);break;case"tabIndex":Si(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(e,a,n);break;case"style":Uo(e,n,s);break;case"data":if(t!=="object"){Si(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=_i(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&Ue(e,t,"name",i.name,i,null),Ue(e,t,"formEncType",i.formEncType,i,null),Ue(e,t,"formMethod",i.formMethod,i,null),Ue(e,t,"formTarget",i.formTarget,i,null)):(Ue(e,t,"encType",i.encType,i,null),Ue(e,t,"method",i.method,i,null),Ue(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=_i(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=gs);break;case"onScroll":n!=null&&we("scroll",e);break;case"onScrollEnd":n!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=_i(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":we("beforetoggle",e),we("toggle",e),ji(e,"popover",n);break;case"xlinkActuate":oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":oa(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":oa(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":oa(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":oa(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ji(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ah.get(a)||a,ji(e,a,n))}}function Oc(e,t,a,n,i,s){switch(a){case"style":Uo(e,n,s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Dn(e,n):(typeof n=="number"||typeof n=="bigint")&&Dn(e,""+n);break;case"onScroll":n!=null&&we("scroll",e);break;case"onScrollEnd":n!=null&&we("scrollend",e);break;case"onClick":n!=null&&(e.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),s=e[bt]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof n=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):ji(e,a,n)}}}function dt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var n=!1,i=!1,s;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];if(u!=null)switch(s){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ue(e,t,s,u,a,null)}}i&&Ue(e,t,"srcSet",a.srcSet,a,null),n&&Ue(e,t,"src",a.src,a,null);return;case"input":we("invalid",e);var p=s=u=i=null,j=null,B=null;for(n in a)if(a.hasOwnProperty(n)){var Z=a[n];if(Z!=null)switch(n){case"name":i=Z;break;case"type":u=Z;break;case"checked":j=Z;break;case"defaultChecked":B=Z;break;case"value":s=Z;break;case"defaultValue":p=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(c(137,t));break;default:Ue(e,t,n,Z,a,null)}}Oo(e,s,p,j,B,u,i,!1),Ni(e);return;case"select":we("invalid",e),n=u=s=null;for(i in a)if(a.hasOwnProperty(i)&&(p=a[i],p!=null))switch(i){case"value":s=p;break;case"defaultValue":u=p;break;case"multiple":n=p;default:Ue(e,t,i,p,a,null)}t=s,a=u,e.multiple=!!n,t!=null?Tn(e,!!n,t,!1):a!=null&&Tn(e,!!n,a,!0);return;case"textarea":we("invalid",e),s=i=n=null;for(u in a)if(a.hasOwnProperty(u)&&(p=a[u],p!=null))switch(u){case"value":n=p;break;case"defaultValue":i=p;break;case"children":s=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(c(91));break;default:Ue(e,t,u,p,a,null)}Mo(e,n,i,s),Ni(e);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(n=a[j],n!=null))switch(j){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ue(e,t,j,n,a,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(n=0;n<Pl.length;n++)we(Pl[n],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(n=a[B],n!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ue(e,t,B,n,a,null)}return;default:if(Fs(t)){for(Z in a)a.hasOwnProperty(Z)&&(n=a[Z],n!==void 0&&Oc(e,t,Z,n,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(n=a[p],n!=null&&Ue(e,t,p,n,a,null))}function Ap(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,u=null,p=null,j=null,B=null,Z=null;for($ in a){var J=a[$];if(a.hasOwnProperty($)&&J!=null)switch($){case"checked":break;case"value":break;case"defaultValue":j=J;default:n.hasOwnProperty($)||Ue(e,t,$,null,n,J)}}for(var q in n){var $=n[q];if(J=a[q],n.hasOwnProperty(q)&&($!=null||J!=null))switch(q){case"type":s=$;break;case"name":i=$;break;case"checked":B=$;break;case"defaultChecked":Z=$;break;case"value":u=$;break;case"defaultValue":p=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(c(137,t));break;default:$!==J&&Ue(e,t,q,$,n,J)}}Vs(e,u,p,j,B,Z,s,i);return;case"select":$=u=p=q=null;for(s in a)if(j=a[s],a.hasOwnProperty(s)&&j!=null)switch(s){case"value":break;case"multiple":$=j;default:n.hasOwnProperty(s)||Ue(e,t,s,null,n,j)}for(i in n)if(s=n[i],j=a[i],n.hasOwnProperty(i)&&(s!=null||j!=null))switch(i){case"value":q=s;break;case"defaultValue":p=s;break;case"multiple":u=s;default:s!==j&&Ue(e,t,i,s,n,j)}t=p,a=u,n=$,q!=null?Tn(e,!!a,q,!1):!!n!=!!a&&(t!=null?Tn(e,!!a,t,!0):Tn(e,!!a,a?[]:"",!1));return;case"textarea":$=q=null;for(p in a)if(i=a[p],a.hasOwnProperty(p)&&i!=null&&!n.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Ue(e,t,p,null,n,i)}for(u in n)if(i=n[u],s=a[u],n.hasOwnProperty(u)&&(i!=null||s!=null))switch(u){case"value":q=i;break;case"defaultValue":$=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(c(91));break;default:i!==s&&Ue(e,t,u,i,n,s)}zo(e,q,$);return;case"option":for(var ye in a)if(q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!n.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Ue(e,t,ye,null,n,q)}for(j in n)if(q=n[j],$=a[j],n.hasOwnProperty(j)&&q!==$&&(q!=null||$!=null))switch(j){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ue(e,t,j,q,n,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!n.hasOwnProperty(pe)&&Ue(e,t,pe,null,n,q);for(B in n)if(q=n[B],$=a[B],n.hasOwnProperty(B)&&q!==$&&(q!=null||$!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(c(137,t));break;default:Ue(e,t,B,q,n,$)}return;default:if(Fs(t)){for(var ke in a)q=a[ke],a.hasOwnProperty(ke)&&q!==void 0&&!n.hasOwnProperty(ke)&&Oc(e,t,ke,void 0,n,q);for(Z in n)q=n[Z],$=a[Z],!n.hasOwnProperty(Z)||q===$||q===void 0&&$===void 0||Oc(e,t,Z,q,n,$);return}}for(var M in a)q=a[M],a.hasOwnProperty(M)&&q!=null&&!n.hasOwnProperty(M)&&Ue(e,t,M,null,n,q);for(J in n)q=n[J],$=a[J],!n.hasOwnProperty(J)||q===$||q==null&&$==null||Ue(e,t,J,q,n,$)}var zc=null,Mc=null;function ys(e){return e.nodeType===9?e:e.ownerDocument}function Uf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uc=null;function Cp(){var e=window.event;return e&&e.type==="popstate"?e===Uc?!1:(Uc=e,!0):(Uc=null,!1)}var Bf=typeof setTimeout=="function"?setTimeout:void 0,Tp=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Dp=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(Rp)}:Bf;function Rp(e){setTimeout(function(){throw e})}function Qa(e){return e==="head"}function qf(e,t){var a=t,n=0,i=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(0<n&&8>n){a=n;var u=e.ownerDocument;if(a&1&&ei(u.documentElement),a&2&&ei(u.body),a&4)for(a=u.head,ei(a),u=a.firstChild;u;){var p=u.nextSibling,j=u.nodeName;u[pl]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=p}}if(i===0){e.removeChild(s),ci(t);return}i--}else a==="$"||a==="$?"||a==="$!"?i++:n=a.charCodeAt(0)-48;else n=0;a=s}while(a);ci(t)}function kc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kc(a),Ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Op(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[pl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function zp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ft(e.nextSibling),e===null))return null;return e}function Bc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Mp(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Hc=null;function $f(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Yf(e,t,a){switch(t=ys(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function ei(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ys(e)}var Gt=new Map,Gf=new Set;function xs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Na=H.d;H.d={f:Lp,r:Up,D:kp,C:Bp,L:Hp,m:qp,X:Yp,S:$p,M:Gp};function Lp(){var e=Na.f(),t=us();return e||t}function Up(e){var t=_n(e);t!==null&&t.tag===5&&t.type==="form"?cd(t):Na.r(e)}var il=typeof document>"u"?null:document;function Xf(e,t,a){var n=il;if(n&&typeof t=="string"&&t){var i=Ut(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),Gf.has(i)||(Gf.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),dt(t,"link",e),nt(t),n.head.appendChild(t)))}}function kp(e){Na.D(e),Xf("dns-prefetch",e,null)}function Bp(e,t){Na.C(e,t),Xf("preconnect",e,t)}function Hp(e,t,a){Na.L(e,t,a);var n=il;if(n&&e&&t){var i='link[rel="preload"][as="'+Ut(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+Ut(a.imageSizes)+'"]')):i+='[href="'+Ut(e)+'"]';var s=i;switch(t){case"style":s=sl(e);break;case"script":s=rl(e)}Gt.has(s)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Gt.set(s,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(ti(s))||t==="script"&&n.querySelector(ai(s))||(t=n.createElement("link"),dt(t,"link",e),nt(t),n.head.appendChild(t)))}}function qp(e,t){Na.m(e,t);var a=il;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Ut(n)+'"][href="'+Ut(e)+'"]',s=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=rl(e)}if(!Gt.has(s)&&(e=b({rel:"modulepreload",href:e},t),Gt.set(s,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ai(s)))return}n=a.createElement("link"),dt(n,"link",e),nt(n),a.head.appendChild(n)}}}function $p(e,t,a){Na.S(e,t,a);var n=il;if(n&&e){var i=wn(n).hoistableStyles,s=sl(e);t=t||"default";var u=i.get(s);if(!u){var p={loading:0,preload:null};if(u=n.querySelector(ti(s)))p.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Gt.get(s))&&qc(e,a);var j=u=n.createElement("link");nt(j),dt(j,"link",e),j._p=new Promise(function(B,Z){j.onload=B,j.onerror=Z}),j.addEventListener("load",function(){p.loading|=1}),j.addEventListener("error",function(){p.loading|=2}),p.loading|=4,bs(u,t,n)}u={type:"stylesheet",instance:u,count:1,state:p},i.set(s,u)}}}function Yp(e,t){Na.X(e,t);var a=il;if(a&&e){var n=wn(a).hoistableScripts,i=rl(e),s=n.get(i);s||(s=a.querySelector(ai(i)),s||(e=b({src:e,async:!0},t),(t=Gt.get(i))&&$c(e,t),s=a.createElement("script"),nt(s),dt(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}function Gp(e,t){Na.M(e,t);var a=il;if(a&&e){var n=wn(a).hoistableScripts,i=rl(e),s=n.get(i);s||(s=a.querySelector(ai(i)),s||(e=b({src:e,async:!0,type:"module"},t),(t=Gt.get(i))&&$c(e,t),s=a.createElement("script"),nt(s),dt(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}function Qf(e,t,a,n){var i=(i=he.current)?xs(i):null;if(!i)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=sl(a.href),a=wn(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=sl(a.href);var s=wn(i).hoistableStyles,u=s.get(e);if(u||(i=i.ownerDocument||i,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,u),(s=i.querySelector(ti(e)))&&!s._p&&(u.instance=s,u.state.loading=5),Gt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gt.set(e,a),s||Xp(i,e,a,u.state))),t&&n===null)throw Error(c(528,""));return u}if(t&&n!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=rl(a),a=wn(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function sl(e){return'href="'+Ut(e)+'"'}function ti(e){return'link[rel="stylesheet"]['+e+"]"}function Vf(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Xp(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),dt(t,"link",a),nt(t),e.head.appendChild(t))}function rl(e){return'[src="'+Ut(e)+'"]'}function ai(e){return"script[async]"+e}function Zf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(n)return t.instance=n,nt(n),n;var i=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),nt(n),dt(n,"style",i),bs(n,a.precedence,e),t.instance=n;case"stylesheet":i=sl(a.href);var s=e.querySelector(ti(i));if(s)return t.state.loading|=4,t.instance=s,nt(s),s;n=Vf(a),(i=Gt.get(i))&&qc(n,i),s=(e.ownerDocument||e).createElement("link"),nt(s);var u=s;return u._p=new Promise(function(p,j){u.onload=p,u.onerror=j}),dt(s,"link",n),t.state.loading|=4,bs(s,a.precedence,e),t.instance=s;case"script":return s=rl(a.src),(i=e.querySelector(ai(s)))?(t.instance=i,nt(i),i):(n=a,(i=Gt.get(s))&&(n=b({},a),$c(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),nt(i),dt(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,bs(n,a.precedence,e));return t.instance}function bs(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,s=i,u=0;u<n.length;u++){var p=n[u];if(p.dataset.precedence===t)s=p;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function qc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function $c(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var js=null;function Ff(e,t,a){if(js===null){var n=new Map,i=js=new Map;i.set(a,n)}else i=js,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var s=a[i];if(!(s[pl]||s[mt]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var u=s.getAttribute(t)||"";u=e+u;var p=n.get(u);p?p.push(s):n.set(u,[s])}}return n}function Kf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Qp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ni=null;function Vp(){}function Zp(e,t,a){if(ni===null)throw Error(c(475));var n=ni;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var i=sl(a.href),s=e.querySelector(ti(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Ss.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=s,nt(s);return}s=e.ownerDocument||e,a=Vf(a),(i=Gt.get(i))&&qc(a,i),s=s.createElement("link"),nt(s);var u=s;u._p=new Promise(function(p,j){u.onload=p,u.onerror=j}),dt(s,"link",a),t.instance=s}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Ss.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function Fp(){if(ni===null)throw Error(c(475));var e=ni;return e.stylesheets&&e.count===0&&Yc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Yc(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ss(){if(this.count--,this.count===0){if(this.stylesheets)Yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ns=null;function Yc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ns=new Map,t.forEach(Kp,e),Ns=null,Ss.call(e))}function Kp(e,t){if(!(t.state.loading&4)){var a=Ns.get(e);if(a)var n=a.get(null);else{a=new Map,Ns.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var u=i[s];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(a.set(u.dataset.precedence,u),n=u)}n&&a.set(null,n)}i=t.instance,u=i.getAttribute("data-precedence"),s=a.get(u)||n,s===n&&a.set(null,i),a.set(u,i),this.count++,n=Ss.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var li={$$typeof:T,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Jp(e,t,a,n,i,s,u,p){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Wf(e,t,a,n,i,s,u,p,j,B,Z,J){return e=new Jp(e,t,a,u,p,j,B,J),t=1,s===!0&&(t|=24),s=Ct(3,null,null,t),e.current=s,s.stateNode=e,t=Nr(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:a,cache:t},Ar(s),e}function Pf(e){return e?(e=Bn,e):Bn}function If(e,t,a,n,i,s){i=Pf(i),n.context===null?n.context=i:n.pendingContext=i,n=Oa(t),n.payload={element:a},s=s===void 0?null:s,s!==null&&(n.callback=s),a=za(e,n,t),a!==null&&(zt(a,e,t),Ml(a,e,t))}function em(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Gc(e,t){em(e,t),(e=e.alternate)&&em(e,t)}function tm(e){if(e.tag===13){var t=kn(e,67108864);t!==null&&zt(t,e,67108864),Gc(e,67108864)}}var Es=!0;function Wp(e,t,a,n){var i=k.T;k.T=null;var s=H.p;try{H.p=2,Xc(e,t,a,n)}finally{H.p=s,k.T=i}}function Pp(e,t,a,n){var i=k.T;k.T=null;var s=H.p;try{H.p=8,Xc(e,t,a,n)}finally{H.p=s,k.T=i}}function Xc(e,t,a,n){if(Es){var i=Qc(n);if(i===null)Rc(e,t,n,_s,a),nm(e,n);else if(ev(i,e,t,a,n))n.stopPropagation();else if(nm(e,n),t&4&&-1<Ip.indexOf(e)){for(;i!==null;){var s=_n(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var u=ea(s.pendingLanes);if(u!==0){var p=s;for(p.pendingLanes|=2,p.entangledLanes|=2;u;){var j=1<<31-rt(u);p.entanglements[1]|=j,u&=~j}ia(s),(ze&6)===0&&(cs=W()+500,Wl(0))}}break;case 13:p=kn(s,2),p!==null&&zt(p,s,2),us(),Gc(s,2)}if(s=Qc(n),s===null&&Rc(e,t,n,_s,a),s===i)break;i=s}i!==null&&n.stopPropagation()}else Rc(e,t,n,null,a)}}function Qc(e){return e=Js(e),Vc(e)}var _s=null;function Vc(e){if(_s=null,e=En(e),e!==null){var t=v(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _s=e,null}function am(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case de:return 2;case We:return 8;case yt:case ca:return 32;case gi:return 268435456;default:return 32}default:return 32}}var Zc=!1,Va=null,Za=null,Fa=null,ii=new Map,si=new Map,Ka=[],Ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nm(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":si.delete(t.pointerId)}}function ri(e,t,a,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=_n(t),t!==null&&tm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ev(e,t,a,n,i){switch(t){case"focusin":return Va=ri(Va,e,t,a,n,i),!0;case"dragenter":return Za=ri(Za,e,t,a,n,i),!0;case"mouseover":return Fa=ri(Fa,e,t,a,n,i),!0;case"pointerover":var s=i.pointerId;return ii.set(s,ri(ii.get(s)||null,e,t,a,n,i)),!0;case"gotpointercapture":return s=i.pointerId,si.set(s,ri(si.get(s)||null,e,t,a,n,i)),!0}return!1}function lm(e){var t=En(e.target);if(t!==null){var a=v(t);if(a!==null){if(t=a.tag,t===13){if(t=y(a),t!==null){e.blockedOn=t,Zm(e.priority,function(){if(a.tag===13){var n=Ot();n=jn(n);var i=kn(a,n);i!==null&&zt(i,a,n),Gc(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Qc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Ks=n,a.target.dispatchEvent(n),Ks=null}else return t=_n(a),t!==null&&tm(t),e.blockedOn=a,!1;t.shift()}return!0}function im(e,t,a){ws(e)&&a.delete(t)}function tv(){Zc=!1,Va!==null&&ws(Va)&&(Va=null),Za!==null&&ws(Za)&&(Za=null),Fa!==null&&ws(Fa)&&(Fa=null),ii.forEach(im),si.forEach(im)}function As(e,t){e.blockedOn===t&&(e.blockedOn=null,Zc||(Zc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tv)))}var Cs=null;function sm(e){Cs!==e&&(Cs=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cs===e&&(Cs=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(Vc(n||a)===null)continue;break}var s=_n(a);s!==null&&(e.splice(t,3),t-=3,Vr(s,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function ci(e){function t(j){return As(j,e)}Va!==null&&As(Va,e),Za!==null&&As(Za,e),Fa!==null&&As(Fa,e),ii.forEach(t),si.forEach(t);for(var a=0;a<Ka.length;a++){var n=Ka[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ka.length&&(a=Ka[0],a.blockedOn===null);)lm(a),a.blockedOn===null&&Ka.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],s=a[n+1],u=i[bt]||null;if(typeof s=="function")u||sm(a);else if(u){var p=null;if(s&&s.hasAttribute("formAction")){if(i=s,u=s[bt]||null)p=u.formAction;else if(Vc(i)!==null)continue}else p=u.action;typeof p=="function"?a[n+1]=p:(a.splice(n,3),n-=3),sm(a)}}}function Fc(e){this._internalRoot=e}Ts.prototype.render=Fc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,n=Ot();If(a,n,e,t,null,null)},Ts.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;If(e.current,2,null,e,null,null),us(),t[Nn]=null}};function Ts(e){this._internalRoot=e}Ts.prototype.unstable_scheduleHydration=function(e){if(e){var t=bi();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ka.length&&t!==0&&t<Ka[a].priority;a++);Ka.splice(a,0,e),a===0&&lm(e)}};var rm=o.version;if(rm!=="19.1.0")throw Error(c(527,rm,"19.1.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=g(t),e=e!==null?f(e):null,e=e===null?null:e.stateNode,e};var av={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Aa=Ds.inject(av),ft=Ds}catch{}}return ui.createRoot=function(e,t){if(!h(e))throw Error(c(299));var a=!1,n="",i=Sd,s=Nd,u=Ed,p=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(p=t.unstable_transitionCallbacks)),t=Wf(e,1,!1,null,null,a,n,i,s,u,p,null),e[Nn]=t.current,Dc(e),new Fc(t)},ui.hydrateRoot=function(e,t,a){if(!h(e))throw Error(c(299));var n=!1,i="",s=Sd,u=Nd,p=Ed,j=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(u=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),t=Wf(e,1,!0,t,a??null,n,i,s,u,p,j,B),t.context=Pf(null),a=t.current,n=Ot(),n=jn(n),i=Oa(n),i.callback=null,za(a,i,n),a=n,t.current.lanes=a,Ae(t,a),ia(t),e[Nn]=t.current,Dc(e),new Ts(t)},ui.version="19.1.0",ui}var gm;function fv(){if(gm)return Wc.exports;gm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),Wc.exports=dv(),Wc.exports}var mv=fv();const hv=mo(mv);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ym="popstate";function pv(r={}){function o(c,h){let{pathname:v,search:y,hash:x}=c.location;return ro("",{pathname:v,search:y,hash:x},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function d(c,h){return typeof h=="string"?h:mi(h)}return gv(o,d,null,r)}function Ye(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function Xt(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function vv(){return Math.random().toString(36).substring(2,10)}function xm(r,o){return{usr:r.state,key:r.key,idx:o}}function ro(r,o,d=null,c){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof o=="string"?dl(o):o,state:d,key:o&&o.key||c||vv()}}function mi({pathname:r="/",search:o="",hash:d=""}){return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),d&&d!=="#"&&(r+=d.charAt(0)==="#"?d:"#"+d),r}function dl(r){let o={};if(r){let d=r.indexOf("#");d>=0&&(o.hash=r.substring(d),r=r.substring(0,d));let c=r.indexOf("?");c>=0&&(o.search=r.substring(c),r=r.substring(0,c)),r&&(o.pathname=r)}return o}function gv(r,o,d,c={}){let{window:h=document.defaultView,v5Compat:v=!1}=c,y=h.history,x="POP",g=null,f=b();f==null&&(f=0,y.replaceState({...y.state,idx:f},""));function b(){return(y.state||{idx:null}).idx}function A(){x="POP";let R=b(),O=R==null?null:R-f;f=R,g&&g({action:x,location:L.location,delta:O})}function D(R,O){x="PUSH";let ee=ro(L.location,R,O);f=b()+1;let T=xm(ee,f),Y=L.createHref(ee);try{y.pushState(T,"",Y)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;h.location.assign(Y)}v&&g&&g({action:x,location:L.location,delta:1})}function Q(R,O){x="REPLACE";let ee=ro(L.location,R,O);f=b();let T=xm(ee,f),Y=L.createHref(ee);y.replaceState(T,"",Y),v&&g&&g({action:x,location:L.location,delta:0})}function C(R){return yv(R)}let L={get action(){return x},get location(){return r(h,y)},listen(R){if(g)throw new Error("A history only accepts one active listener");return h.addEventListener(ym,A),g=R,()=>{h.removeEventListener(ym,A),g=null}},createHref(R){return o(h,R)},createURL:C,encodeLocation(R){let O=C(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:D,replace:Q,go(R){return y.go(R)}};return L}function yv(r,o=!1){let d="http://localhost";typeof window<"u"&&(d=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(d,"No window.location.(origin|href) available to create URL");let c=typeof r=="string"?r:mi(r);return c=c.replace(/ $/,"%20"),!o&&c.startsWith("//")&&(c=d+c),new URL(c,d)}function Cm(r,o,d="/"){return xv(r,o,d,!1)}function xv(r,o,d,c){let h=typeof o=="string"?dl(o):o,v=wa(h.pathname||"/",d);if(v==null)return null;let y=Tm(r);bv(y);let x=null;for(let g=0;x==null&&g<y.length;++g){let f=Rv(v);x=Tv(y[g],f,c)}return x}function Tm(r,o=[],d=[],c=""){let h=(v,y,x)=>{let g={relativePath:x===void 0?v.path||"":x,caseSensitive:v.caseSensitive===!0,childrenIndex:y,route:v};g.relativePath.startsWith("/")&&(Ye(g.relativePath.startsWith(c),`Absolute route path "${g.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(c.length));let f=_a([c,g.relativePath]),b=d.concat(g);v.children&&v.children.length>0&&(Ye(v.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Tm(v.children,o,b,f)),!(v.path==null&&!v.index)&&o.push({path:f,score:Av(f,v.index),routesMeta:b})};return r.forEach((v,y)=>{if(v.path===""||!v.path?.includes("?"))h(v,y);else for(let x of Dm(v.path))h(v,y,x)}),o}function Dm(r){let o=r.split("/");if(o.length===0)return[];let[d,...c]=o,h=d.endsWith("?"),v=d.replace(/\?$/,"");if(c.length===0)return h?[v,""]:[v];let y=Dm(c.join("/")),x=[];return x.push(...y.map(g=>g===""?v:[v,g].join("/"))),h&&x.push(...y),x.map(g=>r.startsWith("/")&&g===""?"/":g)}function bv(r){r.sort((o,d)=>o.score!==d.score?d.score-o.score:Cv(o.routesMeta.map(c=>c.childrenIndex),d.routesMeta.map(c=>c.childrenIndex)))}var jv=/^:[\w-]+$/,Sv=3,Nv=2,Ev=1,_v=10,wv=-2,bm=r=>r==="*";function Av(r,o){let d=r.split("/"),c=d.length;return d.some(bm)&&(c+=wv),o&&(c+=Nv),d.filter(h=>!bm(h)).reduce((h,v)=>h+(jv.test(v)?Sv:v===""?Ev:_v),c)}function Cv(r,o){return r.length===o.length&&r.slice(0,-1).every((c,h)=>c===o[h])?r[r.length-1]-o[o.length-1]:0}function Tv(r,o,d=!1){let{routesMeta:c}=r,h={},v="/",y=[];for(let x=0;x<c.length;++x){let g=c[x],f=x===c.length-1,b=v==="/"?o:o.slice(v.length)||"/",A=Ls({path:g.relativePath,caseSensitive:g.caseSensitive,end:f},b),D=g.route;if(!A&&f&&d&&!c[c.length-1].route.index&&(A=Ls({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!A)return null;Object.assign(h,A.params),y.push({params:h,pathname:_a([v,A.pathname]),pathnameBase:Lv(_a([v,A.pathnameBase])),route:D}),A.pathnameBase!=="/"&&(v=_a([v,A.pathnameBase]))}return y}function Ls(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[d,c]=Dv(r.path,r.caseSensitive,r.end),h=o.match(d);if(!h)return null;let v=h[0],y=v.replace(/(.)\/+$/,"$1"),x=h.slice(1);return{params:c.reduce((f,{paramName:b,isOptional:A},D)=>{if(b==="*"){let C=x[D]||"";y=v.slice(0,v.length-C.length).replace(/(.)\/+$/,"$1")}const Q=x[D];return A&&!Q?f[b]=void 0:f[b]=(Q||"").replace(/%2F/g,"/"),f},{}),pathname:v,pathnameBase:y,pattern:r}}function Dv(r,o=!1,d=!0){Xt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let c=[],h="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,x,g)=>(c.push({paramName:x,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(c.push({paramName:"*"}),h+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):d?h+="\\/*$":r!==""&&r!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,o?void 0:"i"),c]}function Rv(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return Xt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),r}}function wa(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let d=o.endsWith("/")?o.length-1:o.length,c=r.charAt(d);return c&&c!=="/"?null:r.slice(d)||"/"}function Ov(r,o="/"){let{pathname:d,search:c="",hash:h=""}=typeof r=="string"?dl(r):r;return{pathname:d?d.startsWith("/")?d:zv(d,o):o,search:Uv(c),hash:kv(h)}}function zv(r,o){let d=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(h=>{h===".."?d.length>1&&d.pop():h!=="."&&d.push(h)}),d.length>1?d.join("/"):"/"}function to(r,o,d,c){return`Cannot include a '${r}' character in a manually specified \`to.${o}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${d}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mv(r){return r.filter((o,d)=>d===0||o.route.path&&o.route.path.length>0)}function po(r){let o=Mv(r);return o.map((d,c)=>c===o.length-1?d.pathname:d.pathnameBase)}function vo(r,o,d,c=!1){let h;typeof r=="string"?h=dl(r):(h={...r},Ye(!h.pathname||!h.pathname.includes("?"),to("?","pathname","search",h)),Ye(!h.pathname||!h.pathname.includes("#"),to("#","pathname","hash",h)),Ye(!h.search||!h.search.includes("#"),to("#","search","hash",h)));let v=r===""||h.pathname==="",y=v?"/":h.pathname,x;if(y==null)x=d;else{let A=o.length-1;if(!c&&y.startsWith("..")){let D=y.split("/");for(;D[0]==="..";)D.shift(),A-=1;h.pathname=D.join("/")}x=A>=0?o[A]:"/"}let g=Ov(h,x),f=y&&y!=="/"&&y.endsWith("/"),b=(v||y===".")&&d.endsWith("/");return!g.pathname.endsWith("/")&&(f||b)&&(g.pathname+="/"),g}var _a=r=>r.join("/").replace(/\/\/+/g,"/"),Lv=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Uv=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kv=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Bv(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Rm=["POST","PUT","PATCH","DELETE"];new Set(Rm);var Hv=["GET",...Rm];new Set(Hv);var fl=m.createContext(null);fl.displayName="DataRouter";var Us=m.createContext(null);Us.displayName="DataRouterState";m.createContext(!1);var Om=m.createContext({isTransitioning:!1});Om.displayName="ViewTransition";var qv=m.createContext(new Map);qv.displayName="Fetchers";var $v=m.createContext(null);$v.displayName="Await";var Kt=m.createContext(null);Kt.displayName="Navigation";var hi=m.createContext(null);hi.displayName="Location";var Jt=m.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var go=m.createContext(null);go.displayName="RouteError";function Yv(r,{relative:o}={}){Ye(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:d,navigator:c}=m.useContext(Kt),{hash:h,pathname:v,search:y}=pi(r,{relative:o}),x=v;return d!=="/"&&(x=v==="/"?d:_a([d,v])),c.createHref({pathname:x,search:y,hash:h})}function ml(){return m.useContext(hi)!=null}function vt(){return Ye(ml(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(hi).location}var zm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mm(r){m.useContext(Kt).static||m.useLayoutEffect(r)}function _t(){let{isDataRoute:r}=m.useContext(Jt);return r?tg():Gv()}function Gv(){Ye(ml(),"useNavigate() may be used only in the context of a <Router> component.");let r=m.useContext(fl),{basename:o,navigator:d}=m.useContext(Kt),{matches:c}=m.useContext(Jt),{pathname:h}=vt(),v=JSON.stringify(po(c)),y=m.useRef(!1);return Mm(()=>{y.current=!0}),m.useCallback((g,f={})=>{if(Xt(y.current,zm),!y.current)return;if(typeof g=="number"){d.go(g);return}let b=vo(g,JSON.parse(v),h,f.relative==="path");r==null&&o!=="/"&&(b.pathname=b.pathname==="/"?o:_a([o,b.pathname])),(f.replace?d.replace:d.push)(b,f.state,f)},[o,d,v,h,r])}m.createContext(null);function xn(){let{matches:r}=m.useContext(Jt),o=r[r.length-1];return o?o.params:{}}function pi(r,{relative:o}={}){let{matches:d}=m.useContext(Jt),{pathname:c}=vt(),h=JSON.stringify(po(d));return m.useMemo(()=>vo(r,JSON.parse(h),c,o==="path"),[r,h,c,o])}function Xv(r,o){return Lm(r,o)}function Lm(r,o,d,c){Ye(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=m.useContext(Kt),{matches:v}=m.useContext(Jt),y=v[v.length-1],x=y?y.params:{},g=y?y.pathname:"/",f=y?y.pathnameBase:"/",b=y&&y.route;{let O=b&&b.path||"";Um(g,!b||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let A=vt(),D;if(o){let O=typeof o=="string"?dl(o):o;Ye(f==="/"||O.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${O.pathname}" was given in the \`location\` prop.`),D=O}else D=A;let Q=D.pathname||"/",C=Q;if(f!=="/"){let O=f.replace(/^\//,"").split("/");C="/"+Q.replace(/^\//,"").split("/").slice(O.length).join("/")}let L=Cm(r,{pathname:C});Xt(b||L!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Xt(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Kv(L&&L.map(O=>Object.assign({},O,{params:Object.assign({},x,O.params),pathname:_a([f,h.encodeLocation?h.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?f:_a([f,h.encodeLocation?h.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),v,d,c);return o&&R?m.createElement(hi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},R):R}function Qv(){let r=eg(),o=Bv(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),d=r instanceof Error?r.stack:null,c="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:c},v={padding:"2px 4px",backgroundColor:c},y=null;return console.error("Error handled by React Router default ErrorBoundary:",r),y=m.createElement(m.Fragment,null,m.createElement("p",null,"💿 Hey developer 👋"),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:v},"ErrorBoundary")," or"," ",m.createElement("code",{style:v},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},o),d?m.createElement("pre",{style:h},d):null,y)}var Vv=m.createElement(Qv,null),Zv=class extends m.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error!==void 0?m.createElement(Jt.Provider,{value:this.props.routeContext},m.createElement(go.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fv({routeContext:r,match:o,children:d}){let c=m.useContext(fl);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),m.createElement(Jt.Provider,{value:r},d)}function Kv(r,o=[],d=null,c=null){if(r==null){if(!d)return null;if(d.errors)r=d.matches;else if(o.length===0&&!d.initialized&&d.matches.length>0)r=d.matches;else return null}let h=r,v=d?.errors;if(v!=null){let g=h.findIndex(f=>f.route.id&&v?.[f.route.id]!==void 0);Ye(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(v).join(",")}`),h=h.slice(0,Math.min(h.length,g+1))}let y=!1,x=-1;if(d)for(let g=0;g<h.length;g++){let f=h[g];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(x=g),f.route.id){let{loaderData:b,errors:A}=d,D=f.route.loader&&!b.hasOwnProperty(f.route.id)&&(!A||A[f.route.id]===void 0);if(f.route.lazy||D){y=!0,x>=0?h=h.slice(0,x+1):h=[h[0]];break}}}return h.reduceRight((g,f,b)=>{let A,D=!1,Q=null,C=null;d&&(A=v&&f.route.id?v[f.route.id]:void 0,Q=f.route.errorElement||Vv,y&&(x<0&&b===0?(Um("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,C=null):x===b&&(D=!0,C=f.route.hydrateFallbackElement||null)));let L=o.concat(h.slice(0,b+1)),R=()=>{let O;return A?O=Q:D?O=C:f.route.Component?O=m.createElement(f.route.Component,null):f.route.element?O=f.route.element:O=g,m.createElement(Fv,{match:f,routeContext:{outlet:g,matches:L,isDataRoute:d!=null},children:O})};return d&&(f.route.ErrorBoundary||f.route.errorElement||b===0)?m.createElement(Zv,{location:d.location,revalidation:d.revalidation,component:Q,error:A,children:R(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):R()},null)}function yo(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jv(r){let o=m.useContext(fl);return Ye(o,yo(r)),o}function Wv(r){let o=m.useContext(Us);return Ye(o,yo(r)),o}function Pv(r){let o=m.useContext(Jt);return Ye(o,yo(r)),o}function xo(r){let o=Pv(r),d=o.matches[o.matches.length-1];return Ye(d.route.id,`${r} can only be used on routes that contain a unique "id"`),d.route.id}function Iv(){return xo("useRouteId")}function eg(){let r=m.useContext(go),o=Wv("useRouteError"),d=xo("useRouteError");return r!==void 0?r:o.errors?.[d]}function tg(){let{router:r}=Jv("useNavigate"),o=xo("useNavigate"),d=m.useRef(!1);return Mm(()=>{d.current=!0}),m.useCallback(async(h,v={})=>{Xt(d.current,zm),d.current&&(typeof h=="number"?r.navigate(h):await r.navigate(h,{fromRouteId:o,...v}))},[r,o])}var jm={};function Um(r,o,d){!o&&!jm[r]&&(jm[r]=!0,Xt(!1,d))}m.memo(ag);function ag({routes:r,future:o,state:d}){return Lm(r,void 0,d,o)}function co({to:r,replace:o,state:d,relative:c}){Ye(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:h}=m.useContext(Kt);Xt(!h,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:v}=m.useContext(Jt),{pathname:y}=vt(),x=_t(),g=vo(r,po(v),y,c==="path"),f=JSON.stringify(g);return m.useEffect(()=>{x(JSON.parse(f),{replace:o,state:d,relative:c})},[x,f,c,o,d]),null}function Ke(r){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ng({basename:r="/",children:o=null,location:d,navigationType:c="POP",navigator:h,static:v=!1}){Ye(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),x=m.useMemo(()=>({basename:y,navigator:h,static:v,future:{}}),[y,h,v]);typeof d=="string"&&(d=dl(d));let{pathname:g="/",search:f="",hash:b="",state:A=null,key:D="default"}=d,Q=m.useMemo(()=>{let C=wa(g,y);return C==null?null:{location:{pathname:C,search:f,hash:b,state:A,key:D},navigationType:c}},[y,g,f,b,A,D,c]);return Xt(Q!=null,`<Router basename="${y}"> is not able to match the URL "${g}${f}${b}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:m.createElement(Kt.Provider,{value:x},m.createElement(hi.Provider,{children:o,value:Q}))}function lg({children:r,location:o}){return Xv(oo(r),o)}function oo(r,o=[]){let d=[];return m.Children.forEach(r,(c,h)=>{if(!m.isValidElement(c))return;let v=[...o,h];if(c.type===m.Fragment){d.push.apply(d,oo(c.props.children,v));return}Ye(c.type===Ke,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!c.props.index||!c.props.children,"An index route cannot have child routes.");let y={id:c.props.id||v.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(y.children=oo(c.props.children,v)),d.push(y)}),d}var zs="get",Ms="application/x-www-form-urlencoded";function ks(r){return r!=null&&typeof r.tagName=="string"}function ig(r){return ks(r)&&r.tagName.toLowerCase()==="button"}function sg(r){return ks(r)&&r.tagName.toLowerCase()==="form"}function rg(r){return ks(r)&&r.tagName.toLowerCase()==="input"}function cg(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function og(r,o){return r.button===0&&(!o||o==="_self")&&!cg(r)}function uo(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((o,d)=>{let c=r[d];return o.concat(Array.isArray(c)?c.map(h=>[d,h]):[[d,c]])},[]))}function ug(r,o){let d=uo(r);return o&&o.forEach((c,h)=>{d.has(h)||o.getAll(h).forEach(v=>{d.append(h,v)})}),d}var Rs=null;function dg(){if(Rs===null)try{new FormData(document.createElement("form"),0),Rs=!1}catch{Rs=!0}return Rs}var fg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ao(r){return r!=null&&!fg.has(r)?(Xt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ms}"`),null):r}function mg(r,o){let d,c,h,v,y;if(sg(r)){let x=r.getAttribute("action");c=x?wa(x,o):null,d=r.getAttribute("method")||zs,h=ao(r.getAttribute("enctype"))||Ms,v=new FormData(r)}else if(ig(r)||rg(r)&&(r.type==="submit"||r.type==="image")){let x=r.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||x.getAttribute("action");if(c=g?wa(g,o):null,d=r.getAttribute("formmethod")||x.getAttribute("method")||zs,h=ao(r.getAttribute("formenctype"))||ao(x.getAttribute("enctype"))||Ms,v=new FormData(x,r),!dg()){let{name:f,type:b,value:A}=r;if(b==="image"){let D=f?`${f}.`:"";v.append(`${D}x`,"0"),v.append(`${D}y`,"0")}else f&&v.append(f,A)}}else{if(ks(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');d=zs,c=null,h=Ms,y=r}return v&&h==="text/plain"&&(y=v,v=void 0),{action:c,method:d.toLowerCase(),encType:h,formData:v,body:y}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bo(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function hg(r,o,d){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return c.pathname==="/"?c.pathname=`_root.${d}`:o&&wa(c.pathname,o)==="/"?c.pathname=`${o.replace(/\/$/,"")}/_root.${d}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${d}`,c}async function pg(r,o){if(r.id in o)return o[r.id];try{let d=await import(r.module);return o[r.id]=d,d}catch(d){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(d),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vg(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gg(r,o,d){let c=await Promise.all(r.map(async h=>{let v=o.routes[h.route.id];if(v){let y=await pg(v,d);return y.links?y.links():[]}return[]}));return jg(c.flat(1).filter(vg).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function Sm(r,o,d,c,h,v){let y=(g,f)=>d[f]?g.route.id!==d[f].route.id:!0,x=(g,f)=>d[f].pathname!==g.pathname||d[f].route.path?.endsWith("*")&&d[f].params["*"]!==g.params["*"];return v==="assets"?o.filter((g,f)=>y(g,f)||x(g,f)):v==="data"?o.filter((g,f)=>{let b=c.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(y(g,f)||x(g,f))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:d[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function yg(r,o,{includeHydrateFallback:d}={}){return xg(r.map(c=>{let h=o.routes[c.route.id];if(!h)return[];let v=[h.module];return h.clientActionModule&&(v=v.concat(h.clientActionModule)),h.clientLoaderModule&&(v=v.concat(h.clientLoaderModule)),d&&h.hydrateFallbackModule&&(v=v.concat(h.hydrateFallbackModule)),h.imports&&(v=v.concat(h.imports)),v}).flat(1))}function xg(r){return[...new Set(r)]}function bg(r){let o={},d=Object.keys(r).sort();for(let c of d)o[c]=r[c];return o}function jg(r,o){let d=new Set;return new Set(o),r.reduce((c,h)=>{let v=JSON.stringify(bg(h));return d.has(v)||(d.add(v),c.push({key:v,link:h})),c},[])}function km(){let r=m.useContext(fl);return bo(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Sg(){let r=m.useContext(Us);return bo(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var jo=m.createContext(void 0);jo.displayName="FrameworkContext";function Bm(){let r=m.useContext(jo);return bo(r,"You must render this element inside a <HydratedRouter> element"),r}function Ng(r,o){let d=m.useContext(jo),[c,h]=m.useState(!1),[v,y]=m.useState(!1),{onFocus:x,onBlur:g,onMouseEnter:f,onMouseLeave:b,onTouchStart:A}=o,D=m.useRef(null);m.useEffect(()=>{if(r==="render"&&y(!0),r==="viewport"){let L=O=>{O.forEach(ee=>{y(ee.isIntersecting)})},R=new IntersectionObserver(L,{threshold:.5});return D.current&&R.observe(D.current),()=>{R.disconnect()}}},[r]),m.useEffect(()=>{if(c){let L=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(L)}}},[c]);let Q=()=>{h(!0)},C=()=>{h(!1),y(!1)};return d?r!=="intent"?[v,D,{}]:[v,D,{onFocus:di(x,Q),onBlur:di(g,C),onMouseEnter:di(f,Q),onMouseLeave:di(b,C),onTouchStart:di(A,Q)}]:[!1,D,{}]}function di(r,o){return d=>{r&&r(d),d.defaultPrevented||o(d)}}function Eg({page:r,...o}){let{router:d}=km(),c=m.useMemo(()=>Cm(d.routes,r,d.basename),[d.routes,r,d.basename]);return c?m.createElement(wg,{page:r,matches:c,...o}):null}function _g(r){let{manifest:o,routeModules:d}=Bm(),[c,h]=m.useState([]);return m.useEffect(()=>{let v=!1;return gg(r,o,d).then(y=>{v||h(y)}),()=>{v=!0}},[r,o,d]),c}function wg({page:r,matches:o,...d}){let c=vt(),{manifest:h,routeModules:v}=Bm(),{basename:y}=km(),{loaderData:x,matches:g}=Sg(),f=m.useMemo(()=>Sm(r,o,g,h,c,"data"),[r,o,g,h,c]),b=m.useMemo(()=>Sm(r,o,g,h,c,"assets"),[r,o,g,h,c]),A=m.useMemo(()=>{if(r===c.pathname+c.search+c.hash)return[];let C=new Set,L=!1;if(o.forEach(O=>{let ee=h.routes[O.route.id];!ee||!ee.hasLoader||(!f.some(T=>T.route.id===O.route.id)&&O.route.id in x&&v[O.route.id]?.shouldRevalidate||ee.hasClientLoader?L=!0:C.add(O.route.id))}),C.size===0)return[];let R=hg(r,y,"data");return L&&C.size>0&&R.searchParams.set("_routes",o.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[y,x,c,h,f,o,r,v]),D=m.useMemo(()=>yg(b,h),[b,h]),Q=_g(b);return m.createElement(m.Fragment,null,A.map(C=>m.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...d})),D.map(C=>m.createElement("link",{key:C,rel:"modulepreload",href:C,...d})),Q.map(({key:C,link:L})=>m.createElement("link",{key:C,...L})))}function Ag(...r){return o=>{r.forEach(d=>{typeof d=="function"?d(o):d!=null&&(d.current=o)})}}var Hm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hm&&(window.__reactRouterVersion="7.7.0")}catch{}function Cg({basename:r,children:o,window:d}){let c=m.useRef();c.current==null&&(c.current=pv({window:d,v5Compat:!0}));let h=c.current,[v,y]=m.useState({action:h.action,location:h.location}),x=m.useCallback(g=>{m.startTransition(()=>y(g))},[y]);return m.useLayoutEffect(()=>h.listen(x),[h,x]),m.createElement(ng,{basename:r,children:o,location:v.location,navigationType:v.action,navigator:h})}var qm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=m.forwardRef(function({onClick:o,discover:d="render",prefetch:c="none",relative:h,reloadDocument:v,replace:y,state:x,target:g,to:f,preventScrollReset:b,viewTransition:A,...D},Q){let{basename:C}=m.useContext(Kt),L=typeof f=="string"&&qm.test(f),R,O=!1;if(typeof f=="string"&&L&&(R=f,Hm))try{let P=new URL(window.location.href),te=f.startsWith("//")?new URL(P.protocol+f):new URL(f),I=wa(te.pathname,C);te.origin===P.origin&&I!=null?f=I+te.search+te.hash:O=!0}catch{Xt(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=Yv(f,{relative:h}),[T,Y,_]=Ng(c,D),z=Og(f,{replace:y,state:x,target:g,preventScrollReset:b,relative:h,viewTransition:A});function F(P){o&&o(P),P.defaultPrevented||z(P)}let E=m.createElement("a",{...D,..._,href:R||ee,onClick:O||v?o:F,ref:Ag(Q,Y),target:g,"data-discover":!L&&d==="render"?"true":void 0});return T&&!L?m.createElement(m.Fragment,null,E,m.createElement(Eg,{page:ee})):E});be.displayName="Link";var Tg=m.forwardRef(function({"aria-current":o="page",caseSensitive:d=!1,className:c="",end:h=!1,style:v,to:y,viewTransition:x,children:g,...f},b){let A=pi(y,{relative:f.relative}),D=vt(),Q=m.useContext(Us),{navigator:C,basename:L}=m.useContext(Kt),R=Q!=null&&Bg(A)&&x===!0,O=C.encodeLocation?C.encodeLocation(A).pathname:A.pathname,ee=D.pathname,T=Q&&Q.navigation&&Q.navigation.location?Q.navigation.location.pathname:null;d||(ee=ee.toLowerCase(),T=T?T.toLowerCase():null,O=O.toLowerCase()),T&&L&&(T=wa(T,L)||T);const Y=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let _=ee===O||!h&&ee.startsWith(O)&&ee.charAt(Y)==="/",z=T!=null&&(T===O||!h&&T.startsWith(O)&&T.charAt(O.length)==="/"),F={isActive:_,isPending:z,isTransitioning:R},E=_?o:void 0,P;typeof c=="function"?P=c(F):P=[c,_?"active":null,z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let te=typeof v=="function"?v(F):v;return m.createElement(be,{...f,"aria-current":E,className:P,ref:b,style:te,to:y,viewTransition:x},typeof g=="function"?g(F):g)});Tg.displayName="NavLink";var Dg=m.forwardRef(({discover:r="render",fetcherKey:o,navigate:d,reloadDocument:c,replace:h,state:v,method:y=zs,action:x,onSubmit:g,relative:f,preventScrollReset:b,viewTransition:A,...D},Q)=>{let C=Ug(),L=kg(x,{relative:f}),R=y.toLowerCase()==="get"?"get":"post",O=typeof x=="string"&&qm.test(x),ee=T=>{if(g&&g(T),T.defaultPrevented)return;T.preventDefault();let Y=T.nativeEvent.submitter,_=Y?.getAttribute("formmethod")||y;C(Y||T.currentTarget,{fetcherKey:o,method:_,navigate:d,replace:h,state:v,relative:f,preventScrollReset:b,viewTransition:A})};return m.createElement("form",{ref:Q,method:R,action:L,onSubmit:c?g:ee,...D,"data-discover":!O&&r==="render"?"true":void 0})});Dg.displayName="Form";function Rg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $m(r){let o=m.useContext(fl);return Ye(o,Rg(r)),o}function Og(r,{target:o,replace:d,state:c,preventScrollReset:h,relative:v,viewTransition:y}={}){let x=_t(),g=vt(),f=pi(r,{relative:v});return m.useCallback(b=>{if(og(b,o)){b.preventDefault();let A=d!==void 0?d:mi(g)===mi(f);x(r,{replace:A,state:c,preventScrollReset:h,relative:v,viewTransition:y})}},[g,x,f,d,c,o,r,h,v,y])}function zg(r){Xt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let o=m.useRef(uo(r)),d=m.useRef(!1),c=vt(),h=m.useMemo(()=>ug(c.search,d.current?null:o.current),[c.search]),v=_t(),y=m.useCallback((x,g)=>{const f=uo(typeof x=="function"?x(new URLSearchParams(h)):x);d.current=!0,v("?"+f,g)},[v,h]);return[h,y]}var Mg=0,Lg=()=>`__${String(++Mg)}__`;function Ug(){let{router:r}=$m("useSubmit"),{basename:o}=m.useContext(Kt),d=Iv();return m.useCallback(async(c,h={})=>{let{action:v,method:y,encType:x,formData:g,body:f}=mg(c,o);if(h.navigate===!1){let b=h.fetcherKey||Lg();await r.fetch(b,d,h.action||v,{preventScrollReset:h.preventScrollReset,formData:g,body:f,formMethod:h.method||y,formEncType:h.encType||x,flushSync:h.flushSync})}else await r.navigate(h.action||v,{preventScrollReset:h.preventScrollReset,formData:g,body:f,formMethod:h.method||y,formEncType:h.encType||x,replace:h.replace,state:h.state,fromRouteId:d,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,o,d])}function kg(r,{relative:o}={}){let{basename:d}=m.useContext(Kt),c=m.useContext(Jt);Ye(c,"useFormAction must be used inside a RouteContext");let[h]=c.matches.slice(-1),v={...pi(r||".",{relative:o})},y=vt();if(r==null){v.search=y.search;let x=new URLSearchParams(v.search),g=x.getAll("index");if(g.some(b=>b==="")){x.delete("index"),g.filter(A=>A).forEach(A=>x.append("index",A));let b=x.toString();v.search=b?`?${b}`:""}}return(!r||r===".")&&h.route.index&&(v.search=v.search?v.search.replace(/^\?/,"?index&"):"?index"),d!=="/"&&(v.pathname=v.pathname==="/"?d:_a([d,v.pathname])),mi(v)}function Bg(r,o={}){let d=m.useContext(Om);Ye(d!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=$m("useViewTransitionState"),h=pi(r,{relative:o.relative});if(!d.isTransitioning)return!1;let v=wa(d.currentLocation.pathname,c)||d.currentLocation.pathname,y=wa(d.nextLocation.pathname,c)||d.nextLocation.pathname;return Ls(h.pathname,y)!=null||Ls(h.pathname,v)!=null}class fi extends Error{}fi.prototype.name="InvalidTokenError";function Hg(r){return decodeURIComponent(atob(r).replace(/(.)/g,(o,d)=>{let c=d.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}function qg(r){let o=r.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Hg(o)}catch{return atob(o)}}function no(r,o){if(typeof r!="string")throw new fi("Invalid token specified: must be a string");o||(o={});const d=o.header===!0?0:1,c=r.split(".")[d];if(typeof c!="string")throw new fi(`Invalid token specified: missing part #${d+1}`);let h;try{h=qg(c)}catch(v){throw new fi(`Invalid token specified: invalid base64 for part #${d+1} (${v.message})`)}try{return JSON.parse(h)}catch(v){throw new fi(`Invalid token specified: invalid json for part #${d+1} (${v.message})`)}}const vi=m.createContext(null),$g=({children:r})=>{const[o,d]=m.useState(null),[c,h]=m.useState(localStorage.getItem("token")),[v,y]=m.useState(!0),[x,g]=m.useState(null),[f,b]=m.useState(!1),A=m.useCallback(()=>{b(!1)},[]),D=m.useCallback(T=>{try{const Y=no(T);console.log("Decoded token:",Y);const _={id:Y.id,user_id:Y.id,username:Y.username,email:Y.email||"",display_name:Y.username,is_admin:Y.is_admin===!0||Y.is_admin==="t"||Y.is_admin===1||Y.is_admin==="true"||Y.is_admin==="1"};return console.log("Setting user from token:",_),d(_),_}catch(Y){return console.error("Failed to decode token:",Y),d(null),null}},[]),Q=m.useCallback(()=>{h(null),d(null),localStorage.removeItem("token"),b(!0)},[]),C=m.useCallback(async()=>{if(!c){y(!1);return}try{g(null);const T=await fetch("http://localhost:5000/api/auth/profile",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},credentials:"include"});if(!T.ok){const E=await T.json().catch(()=>({}));throw console.error("Profile fetch error:",E),T.status===401||T.status===403?(Q(),new Error(E.message||"Session expired. Please login again.")):new Error(E.message||"Failed to fetch user profile")}const Y=await T.json(),_=no(c),z=_.is_admin===!0||_.is_admin==="t"||_.is_admin===1||_.is_admin==="true"||_.is_admin==="1",F={id:Y.user_id||Y.id,user_id:Y.user_id||Y.id,username:Y.username,email:Y.email||"",display_name:Y.display_name||Y.username,profile_bio:Y.profile_bio||"",created_at:Y.created_at||"",subscription_status:Y.subscription_status||"",profile_picture_url:Y.profile_picture_url||"",is_admin:z};return console.log("Updated user from profile fetch:",F),d(F),F}catch(T){throw console.error("Error in fetchUserProfile:",T),g(T.message),T}finally{y(!1)}},[c,Q]);m.useEffect(()=>{c&&D(c)?C().catch(Y=>{console.error("Profile fetch failed, but keeping token user:",Y),y(!1)}):y(!1)},[c,D,C]),m.useEffect(()=>{c?localStorage.setItem("token",c):localStorage.removeItem("token")},[c]);const L=m.useCallback(async(T,Y)=>{try{y(!0),g(null);const _=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:T,password:Y})});if(!_.ok){const P=await _.json().catch(()=>({}));throw new Error(P.message||"Login failed. Please check your credentials.")}const z=await _.json();h(z.token);const F=z.user||{};if(F){const P={id:F.user_id||F.id,user_id:F.user_id||F.id,username:F.username,email:F.email||"",display_name:F.display_name||F.username,profile_picture_url:F.profile_picture_url||"",is_admin:!!F.is_admin};return localStorage.setItem("user",JSON.stringify(P)),d(P),P}return D(z.token)||{}}catch(_){throw g(_.message),_}finally{y(!1)}},[D]),R=m.useCallback(async T=>{try{y(!0),g(null);const Y=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)}),_=await Y.json();if(!Y.ok)throw new Error(_.message||"Registration failed");return _}catch(Y){throw g(Y.message),Y}finally{y(!1)}},[]),O=m.useCallback(async T=>{try{y(!0),g(null);const Y=await fetch("http://localhost:5000/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(T)}),_=await Y.json();if(!Y.ok)throw new Error(_.message||"Profile update failed");const z=no(c),F=z.is_admin===!0||z.is_admin==="t"||z.is_admin===1||z.is_admin==="true"||z.is_admin==="1";return d(E=>({...E,..._.user,is_admin:F})),_}catch(Y){throw g(Y.message),Y}finally{y(!1)}},[c]),ee=!!c&&!!o;return l.jsx(vi.Provider,{value:{user:o,token:c,loading:v,error:x,isAuthenticated:ee,login:L,logout:Q,register:R,updateProfile:O,isAdmin:o?.is_admin||!1,logoutTrigger:f,resetLogoutTrigger:A},children:r})},Je=()=>{const r=m.useContext(vi);if(r===null)throw new Error("useAuth must be used within an AuthProvider");return r},Ym=m.createContext(null),Yg=({children:r})=>{const[o,d]=m.useState(()=>{const h=localStorage.getItem("darkMode");return h?JSON.parse(h):!1});m.useEffect(()=>{o?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("darkMode",JSON.stringify(o))},[o]);const c=()=>{d(h=>!h)};return l.jsx(Ym.Provider,{value:{isDarkMode:o,toggleDarkMode:c},children:r})},Wt=()=>{const r=m.useContext(Ym);if(r===null)throw new Error("useTheme must be used within a ThemeProvider");return r},Gm=m.createContext(null),Gg=({children:r})=>{const[o,d]=m.useState([]),c=m.useCallback((v,y,x=5e3)=>{const f={id:Date.now()+Math.random(),type:v,message:y,duration:x};d(b=>[...b,f])},[]),h=m.useCallback(v=>{d(y=>y.filter(x=>x.id!==v))},[]);return l.jsx(Gm.Provider,{value:{showAlert:c,removeAlert:h,alerts:o},children:r})},Xm=()=>{const r=m.useContext(Gm);if(!r)throw new Error("useAlert must be used within an AlertProvider");return r},Ea=({children:r})=>{const{user:o,loading:d,token:c}=Je(),h=vt(),v=o&&(o.is_admin===!0||o.is_admin==="t"||o.is_admin===1||o.is_admin==="true"||o.is_admin==="1");return d?l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading..."})]}):c?v?l.jsx(co,{to:"/admin",replace:!0}):r:l.jsx(co,{to:`/login?redirect=${encodeURIComponent(h.pathname)}`,replace:!0})},Xg=({children:r})=>{const{user:o,token:d,fetchUserProfile:c}=Je(),[h,v]=m.useState(!1),[y,x]=m.useState(!1),g=vt();if(m.useEffect(()=>{const b=setTimeout(()=>{v(!0),o&&!o.is_admin&&x(!0)},100);return()=>clearTimeout(b)},[o]),!h)return l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Verifying admin access..."})]});if(!d||!o)return console.log("AdminRoute - Not authenticated, redirecting to login"),l.jsx(co,{to:`/login?redirect=${encodeURIComponent(g.pathname)}`,replace:!0});if(!(o.is_admin===!0||o.is_admin==="t"||o.is_admin===1||o.is_admin==="true"||o.is_admin==="1")){if(!y){const b=setTimeout(()=>x(!0),100);return()=>clearTimeout(b)}return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-lg shadow-lg text-center",children:[l.jsx("div",{className:"text-red-500 mb-4",children:l.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to access the admin dashboard."}),l.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Go Back"}),l.jsxs("div",{className:"mt-6 text-sm text-gray-500",children:[l.jsx("p",{children:"If you believe this is an error, please contact support."}),l.jsxs("p",{className:"mt-1",children:["User: ",o?.username||"Unknown"," | Admin: ",String(o?.is_admin||!1)]})]})]})})}return r};var lo={exports:{}},io,Nm;function Qg(){if(Nm)return io;Nm=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return io=r,io}var so,Em;function Vg(){if(Em)return so;Em=1;var r=Qg();function o(){}function d(){}return d.resetWarningCache=o,so=function(){function c(y,x,g,f,b,A){if(A!==r){var D=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw D.name="Invariant Violation",D}}c.isRequired=c;function h(){return c}var v={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:h,element:c,elementType:c,instanceOf:h,node:c,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:d,resetWarningCache:o};return v.PropTypes=v,v},so}var _m;function Zg(){return _m||(_m=1,lo.exports=Vg()()),lo.exports}var Fg=Zg();const cl=mo(Fg);function fo(){return fo=Object.assign||function(r){for(var o=1;o<arguments.length;o++){var d=arguments[o];for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(r[c]=d[c])}return r},fo.apply(this,arguments)}function Kg(r,o){if(r==null)return{};var d=Jg(r,o),c,h;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(r);for(h=0;h<v.length;h++)c=v[h],!(o.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(r,c)&&(d[c]=r[c])}return d}function Jg(r,o){if(r==null)return{};var d={},c=Object.keys(r),h,v;for(v=0;v<c.length;v++)h=c[v],!(o.indexOf(h)>=0)&&(d[h]=r[h]);return d}var ul=m.forwardRef(function(r,o){var d=r.color,c=d===void 0?"currentColor":d,h=r.size,v=h===void 0?24:h,y=Kg(r,["color","size"]);return Os.createElement("svg",fo({ref:o,xmlns:"http://www.w3.org/2000/svg",width:v,height:v,viewBox:"0 0 24 24",fill:"none",stroke:c,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},y),Os.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Os.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))});ul.propTypes={color:cl.string,size:cl.oneOfType([cl.string,cl.number])};ul.displayName="X";const Wg=({onSearchParamsChange:r,initialParams:o={},isInNavbar:d=!1})=>{const{isDarkMode:c}=Wt(),[h,v]=m.useState(!1),[y,x]=m.useState([]),[g,f]=m.useState(o.genres||[]),[b,A]=m.useState(""),[D,Q]=m.useState(!1),C=m.useRef(null),[L,R]=m.useState({releaseYearStart:o.releaseYearStart||"",releaseYearEnd:o.releaseYearEnd||"",episodeCountMin:o.episodeCountMin||"",episodeCountMax:o.episodeCountMax||"",ratingMin:o.ratingMin||"",ratingMax:o.ratingMax||"",...o});m.useEffect(()=>{O();const E=P=>{C.current&&!C.current.contains(P.target)&&Q(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const O=async()=>{try{const E=await fetch("/api/genre");if(E.ok){const P=await E.json(),te=Array.isArray(P)?P.map(I=>({id:I.id||I.genre_id,genre_id:I.genre_id||I.id,name:I.name||I.genre_name||"Unnamed Genre"})):[];x(te)}}catch(E){console.error("Error fetching genres:",E)}},ee=E=>{f(P=>{const te=E.genre_id||E.id;return P.some(G=>(G.genre_id||G.id)===te)?P.filter(G=>(G.genre_id||G.id)!==te):[...P,{id:E.id||E.genre_id,genre_id:E.genre_id||E.id,name:E.name||E.genre_name||"Unnamed Genre"}]})},T=E=>{f(P=>P.filter(te=>(te.genre_id||te.id)!==E))},Y=(E,P)=>{R(te=>({...te,[E]:P}))},_=()=>{const E={...L,genres:g.map(P=>P.name)};r(E)},z=()=>{R({releaseYearStart:"",releaseYearEnd:"",episodeCountMin:"",episodeCountMax:"",ratingMin:"",ratingMax:""}),f([]),r({})},F=()=>{v(!h)};return d?l.jsxs("div",{className:`advanced-search-form navbar-variant ${c?"dark-theme":"light-theme"}`,children:[l.jsx("h4",{className:`advanced-search-title navbar-variant ${c?"dark-theme":"light-theme"}`,children:"Advanced Search Options"}),l.jsxs("div",{className:"advanced-search-form-group genre-group navbar-variant",ref:C,children:[l.jsx("label",{className:`advanced-search-label navbar-variant ${c?"dark-theme":"light-theme"}`,children:"Genres"}),l.jsx("div",{className:`advanced-search-genre-selector navbar-variant ${c?"dark-theme":"light-theme"}`,onClick:()=>{Q(!D),A("")},children:g.length===0?l.jsx("span",{className:`advanced-search-genre-placeholder ${c?"dark-theme":"light-theme"}`,children:"Select genres"}):g.map(E=>l.jsxs("span",{className:`advanced-search-genre-tag navbar-variant ${c?"dark-theme":"light-theme"}`,onClick:P=>{P.stopPropagation(),T(E.genre_id||E.id)},children:[E.name,l.jsx(ul,{size:10})]},E.genre_id||E.id))}),D&&l.jsxs("div",{className:`advanced-search-genre-dropdown navbar-variant ${c?"dark-theme":"light-theme"}`,children:[l.jsx("input",{type:"text",placeholder:"Search genres...",value:b,onChange:E=>A(E.target.value),className:`advanced-search-genre-search navbar-variant ${c?"dark-theme":"light-theme"}`,onClick:E=>E.stopPropagation()}),l.jsx("div",{className:"advanced-search-genre-options navbar-variant",children:y.filter(E=>!b||E.name.toLowerCase().includes(b.toLowerCase())).map(E=>{const P=g.some(te=>(te.genre_id||te.id)===(E.genre_id||E.id));return l.jsx("div",{onClick:te=>{te.stopPropagation(),ee(E)},className:`advanced-search-genre-option navbar-variant ${P?"selected":"unselected"} ${c?"dark-theme":"light-theme"}`,children:E.name},E.genre_id||E.id)})})]})]}),l.jsxs("div",{className:"advanced-search-grid-2 navbar-variant",children:[l.jsxs("div",{className:"advanced-search-input-group navbar-variant",children:[l.jsx("label",{className:`advanced-search-label navbar-variant ${c?"dark-theme":"light-theme"}`,children:"Year From"}),l.jsx("input",{type:"number",placeholder:"2000",value:L.releaseYearStart,onChange:E=>Y("releaseYearStart",E.target.value),className:`advanced-search-input navbar-variant ${c?"dark-theme":"light-theme"}`})]}),l.jsxs("div",{className:"advanced-search-input-group navbar-variant",children:[l.jsx("label",{className:`advanced-search-label navbar-variant ${c?"dark-theme":"light-theme"}`,children:"Year To"}),l.jsx("input",{type:"number",placeholder:"2024",value:L.releaseYearEnd,onChange:E=>Y("releaseYearEnd",E.target.value),className:`advanced-search-input navbar-variant ${c?"dark-theme":"light-theme"}`})]})]}),l.jsxs("div",{className:"advanced-search-grid-2 navbar-variant",children:[l.jsxs("div",{className:"advanced-search-input-group navbar-variant",children:[l.jsx("label",{className:`advanced-search-label navbar-variant ${c?"dark-theme":"light-theme"}`,children:"Min Episodes"}),l.jsx("input",{type:"number",placeholder:"12",value:L.episodeCountMin,onChange:E=>Y("episodeCountMin",E.target.value),className:`advanced-search-input navbar-variant ${c?"dark-theme":"light-theme"}`})]}),l.jsxs("div",{className:"advanced-search-input-group navbar-variant",children:[l.jsx("label",{className:`advanced-search-label navbar-variant ${c?"dark-theme":"light-theme"}`,children:"Max Episodes"}),l.jsx("input",{type:"number",placeholder:"24",value:L.episodeCountMax,onChange:E=>Y("episodeCountMax",E.target.value),className:`advanced-search-input navbar-variant ${c?"dark-theme":"light-theme"}`})]})]}),l.jsxs("div",{className:"advanced-search-grid-2 last-row navbar-variant",children:[l.jsxs("div",{className:"advanced-search-input-group navbar-variant",children:[l.jsx("label",{className:`advanced-search-label navbar-variant ${c?"dark-theme":"light-theme"}`,children:"Min Rating"}),l.jsx("input",{type:"number",step:"0.1",min:"0",max:"10",placeholder:"7.0",value:L.ratingMin,onChange:E=>Y("ratingMin",E.target.value),className:`advanced-search-input navbar-variant ${c?"dark-theme":"light-theme"}`})]}),l.jsxs("div",{className:"advanced-search-input-group navbar-variant",children:[l.jsx("label",{className:`advanced-search-label navbar-variant ${c?"dark-theme":"light-theme"}`,children:"Max Rating"}),l.jsx("input",{type:"number",step:"0.1",min:"0",max:"10",placeholder:"10.0",value:L.ratingMax,onChange:E=>Y("ratingMax",E.target.value),className:`advanced-search-input navbar-variant ${c?"dark-theme":"light-theme"}`})]})]}),l.jsxs("div",{className:"advanced-search-actions navbar-variant",children:[l.jsx("button",{onClick:z,className:`advanced-search-btn advanced-search-btn-clear navbar-variant ${c?"dark-theme":"light-theme"}`,children:"Clear All"}),l.jsx("button",{onClick:_,className:`advanced-search-btn advanced-search-btn-apply navbar-variant ${c?"dark-theme":"light-theme"}`,children:"Apply Filters"})]})]}):l.jsxs("div",{className:"advanced-search-container",children:[l.jsxs("button",{className:`advanced-search-toggle ${c?"dark-theme":"light-theme"}`,onClick:F,children:[l.jsx(Filter,{size:18}),h?"Hide Advanced Search":"Advanced Search",h?l.jsx(ChevronUp,{size:16}):l.jsx(ChevronDown,{size:16})]}),h&&l.jsxs("div",{className:`advanced-search-form regular-variant ${c?"dark-theme":"light-theme"}`,children:[l.jsx("h4",{className:`advanced-search-title regular-variant ${c?"dark-theme":"light-theme"}`,children:"Advanced Search Options"}),l.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},ref:C,children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",color:c?"#bdc3c7":"#495057"},children:"Genres"}),l.jsx("div",{style:{minHeight:"38px",border:`1px solid ${c?"#34495e":"#ced4da"}`,borderRadius:"0.25rem",padding:"0.375rem 0.75rem",backgroundColor:c?"#34495e":"#fff",cursor:"pointer",display:"flex",flexWrap:"wrap",gap:"4px",alignItems:"center"},onClick:()=>{Q(!D),A("")},children:g.length===0?l.jsx("span",{style:{color:c?"#95a5a6":"#6c757d"},children:"Select genres"}):g.map(E=>l.jsxs("span",{style:{backgroundColor:c?"#2980b9":"#e3f2fd",color:c?"#ecf0f1":"#1976d2",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.85rem",display:"inline-flex",alignItems:"center",gap:"0.25rem"},onClick:P=>{P.stopPropagation(),T(E.genre_id||E.id)},children:[E.name,l.jsx(ul,{size:14})]},E.genre_id||E.id))}),D&&l.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:1e3,backgroundColor:c?"#34495e":"#fff",border:`1px solid ${c?"#2c3e50":"#ced4da"}`,borderRadius:"0.25rem",boxShadow:"0 0.5rem 1rem rgba(0, 0, 0, 0.15)",maxHeight:"250px",overflowY:"auto",padding:"0.5rem"},children:[l.jsx("input",{type:"text",placeholder:"Search genres...",value:b,onChange:E=>A(E.target.value),style:{width:"100%",padding:"0.375rem",marginBottom:"0.5rem",border:`1px solid ${c?"#2c3e50":"#ced4da"}`,borderRadius:"0.25rem",backgroundColor:c?"#2c3e50":"#fff",color:c?"#ecf0f1":"#495057"},onClick:E=>E.stopPropagation()}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:y.filter(E=>!b||E.name.toLowerCase().includes(b.toLowerCase())).map(E=>{const P=g.some(te=>(te.genre_id||te.id)===(E.genre_id||E.id));return l.jsx("div",{onClick:te=>{te.stopPropagation(),ee(E)},style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",backgroundColor:P?c?"#2980b9":"#007bff":c?"#2c3e50":"#e9ecef",color:P?"#fff":c?"#ecf0f1":"#495057",cursor:"pointer",fontSize:"0.85rem",userSelect:"none"},children:E.name},E.genre_id||E.id)})})]})]}),l.jsxs("div",{className:"advanced-search-grid-2 regular-variant",children:[l.jsxs("div",{className:"advanced-search-input-group regular-variant",children:[l.jsx("label",{className:`advanced-search-label regular-variant ${c?"dark-theme":"light-theme"}`,children:"Release Year From"}),l.jsx("input",{type:"number",placeholder:"e.g., 2000",value:L.releaseYearStart,onChange:E=>Y("releaseYearStart",E.target.value),className:`advanced-search-input regular-variant ${c?"dark-theme":"light-theme"}`})]}),l.jsxs("div",{className:"advanced-search-input-group regular-variant",children:[l.jsx("label",{className:`advanced-search-label regular-variant ${c?"dark-theme":"light-theme"}`,children:"Release Year To"}),l.jsx("input",{type:"number",placeholder:"e.g., 2024",value:L.releaseYearEnd,onChange:E=>Y("releaseYearEnd",E.target.value),className:`advanced-search-input regular-variant ${c?"dark-theme":"light-theme"}`})]})]}),l.jsxs("div",{className:"advanced-search-grid-2 regular-variant",children:[l.jsxs("div",{className:"advanced-search-input-group regular-variant",children:[l.jsx("label",{className:`advanced-search-label regular-variant ${c?"dark-theme":"light-theme"}`,children:"Min Episodes"}),l.jsx("input",{type:"number",placeholder:"e.g., 12",value:L.episodeCountMin,onChange:E=>Y("episodeCountMin",E.target.value),className:`advanced-search-input regular-variant ${c?"dark-theme":"light-theme"}`})]}),l.jsxs("div",{className:"advanced-search-input-group regular-variant",children:[l.jsx("label",{className:`advanced-search-label regular-variant ${c?"dark-theme":"light-theme"}`,children:"Max Episodes"}),l.jsx("input",{type:"number",placeholder:"e.g., 24",value:L.episodeCountMax,onChange:E=>Y("episodeCountMax",E.target.value),className:`advanced-search-input regular-variant ${c?"dark-theme":"light-theme"}`})]})]}),l.jsxs("div",{className:"advanced-search-grid-2 last-row regular-variant",children:[l.jsxs("div",{className:"advanced-search-input-group regular-variant",children:[l.jsx("label",{className:`advanced-search-label regular-variant ${c?"dark-theme":"light-theme"}`,children:"Min Rating"}),l.jsx("input",{type:"number",step:"0.1",min:"0",max:"10",placeholder:"e.g., 7.0",value:L.ratingMin,onChange:E=>Y("ratingMin",E.target.value),className:`advanced-search-input regular-variant ${c?"dark-theme":"light-theme"}`})]}),l.jsxs("div",{className:"advanced-search-input-group regular-variant",children:[l.jsx("label",{className:`advanced-search-label regular-variant ${c?"dark-theme":"light-theme"}`,children:"Max Rating"}),l.jsx("input",{type:"number",step:"0.1",min:"0",max:"10",placeholder:"e.g., 10.0",value:L.ratingMax,onChange:E=>Y("ratingMax",E.target.value),className:`advanced-search-input regular-variant ${c?"dark-theme":"light-theme"}`})]})]}),l.jsxs("div",{className:"advanced-search-actions regular-variant",children:[l.jsx("button",{onClick:z,className:`advanced-search-btn advanced-search-btn-clear regular-variant ${c?"dark-theme":"light-theme"}`,children:"Clear All"}),l.jsx("button",{onClick:_,className:`advanced-search-btn advanced-search-btn-apply regular-variant ${c?"dark-theme":"light-theme"}`,children:"Apply Filters"})]})]})]})};function Pg(){const{user:r,logout:o,loading:d,isAdmin:c}=Je(),{isDarkMode:h,toggleDarkMode:v}=Wt();vt();const y=_t(),[x,g]=m.useState(""),[f,b]=m.useState("anime"),[A,D]=m.useState(!1),[Q,C]=m.useState(!1),[L,R]=m.useState(!1),O=m.useRef(null);if(m.useEffect(()=>{function _(z){O.current&&!O.current.contains(z.target)&&C(!1)}return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[O]),d)return null;const ee=()=>{o(),C(!1)},T=_=>{if(_.preventDefault(),x.trim()){let z="";switch(f){case"anime":z=`title=${encodeURIComponent(x.trim())}`;break;case"character":z=`name=${encodeURIComponent(x.trim())}`;break;case"va":z=`name=${encodeURIComponent(x.trim())}`;break;case"user":z=`username=${encodeURIComponent(x.trim())}`;break;case"list":z=`name=${encodeURIComponent(x.trim())}`;break;default:z=`title=${encodeURIComponent(x.trim())}`}y(`/search-results?type=${f}&${z}`),g(""),D(!1)}},Y=_=>{const z=Object.values(_).some(P=>Array.isArray(P)?P.length>0:P&&P!==""),F=x.trim()!=="";if(!z&&!F){g(""),R(!1),D(!1);return}const E=new URLSearchParams;if(E.set("type",f),x.trim())switch(f){case"anime":E.set("title",x.trim());break;case"character":E.set("name",x.trim());break;case"va":E.set("name",x.trim());break;case"user":E.set("username",x.trim());break;case"list":E.set("name",x.trim());break;default:E.set("title",x.trim())}Object.entries(_).forEach(([P,te])=>{te&&te!==""&&(P==="genres"&&Array.isArray(te)&&te.length>0?E.set("genres",te.join(",")):P!=="genres"&&E.set(P,te))}),y(`/search-results?${E.toString()}`),g(""),R(!1),D(!1)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"nav-left",children:l.jsx(be,{to:c?"/admin":"/",className:"brand",children:l.jsxs("div",{className:"brand-wrapper",children:[l.jsx("span",{className:"brand-text",children:"AnimeKo"}),r&&r.subscription_status===!0&&l.jsx("span",{className:"premium-badge",children:"PRO"})]})})}),l.jsx("div",{className:"menu-toggle",onClick:()=>D(!A),children:l.jsxs("div",{className:A?"ham-box ham-box-open":"ham-box",children:[l.jsx("span",{className:A?"line line-1 line-1-open":"line line-1"}),l.jsx("span",{className:A?"line line-2 line-2-open":"line line-2"}),l.jsx("span",{className:A?"line line-3 line-3-open":"line line-3"})]})}),l.jsxs("div",{className:`nav-main-links ${A?"open":""}`,children:[!c&&l.jsxs("div",{className:"nav-center",children:[l.jsxs("div",{className:"search-container",style:{position:"relative"},children:[l.jsxs("form",{onSubmit:T,className:"search-bar",children:[l.jsxs("select",{value:f,onChange:_=>b(_.target.value),className:"search-type-dropdown","aria-label":"Select search type",style:{marginRight:"8px",padding:"4px"},children:[l.jsx("option",{value:"anime",children:"Anime"}),l.jsx("option",{value:"character",children:"Character"}),l.jsx("option",{value:"va",children:"Voice Actor"}),l.jsx("option",{value:"user",children:"User"}),l.jsx("option",{value:"list",children:"List"})]}),l.jsx("input",{type:"text",placeholder:`Search ${f}...`,value:x,onChange:_=>g(_.target.value),"aria-label":`Search ${f} by name`}),l.jsx("button",{type:"submit",children:"Search"})]}),f==="anime"&&l.jsx("div",{style:{textAlign:"center",marginTop:"0.25rem",height:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("button",{type:"button",onClick:()=>R(!L),style:{background:"none",border:"none",color:h?"#3498db":"#2980b9",cursor:"pointer",fontSize:"0.85rem",textDecoration:"underline",padding:"0.25rem 0"},children:L?"Hide Advanced Search":"Advanced Search"})}),f!=="anime"&&l.jsx("div",{style:{height:"1.5rem",marginTop:"0.25rem"}})]}),f==="anime"&&L&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,backgroundColor:"transparent"},onClick:()=>R(!1)}),l.jsx("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",zIndex:1e4,marginTop:"0.5rem",width:"400px",maxWidth:"90vw"},children:l.jsx(Wg,{onSearchParamsChange:Y,initialParams:{},isInNavbar:!0})})]})]}),l.jsxs("div",{className:"nav-right",children:[l.jsx("div",{className:"theme-toggle-slider",onClick:v,children:l.jsxs("div",{className:`slider-track ${h?"dark":"light"}`,children:[l.jsx("span",{className:`slider-icon ${h?"right":"left"}`,children:h?"🌑":"☀️"}),l.jsx("div",{className:"slider-thumb",style:{left:h?"4px":"34px"}})]})}),r?l.jsxs("div",{className:"user-menu",ref:O,children:[l.jsx("button",{onClick:()=>C(!Q),className:"nav-link profile-button",children:"Menu"}),Q&&l.jsxs("div",{className:"dropdown-menu",children:[!c&&l.jsxs(l.Fragment,{children:[l.jsx(be,{to:"/profile",className:"dropdown-item",children:"My Profile"}),l.jsx(be,{to:"/my-friends",className:"dropdown-item",children:"My Friends"}),l.jsx(be,{to:"/my-lists",className:"dropdown-item",children:"My Lists"}),l.jsx(be,{to:"/anime-library",className:"dropdown-item",children:"My Library"}),l.jsx(be,{to:"/subscription",className:"dropdown-item",children:"Subscription"})]}),c&&l.jsx(be,{to:"/admin",className:"dropdown-item",children:"Admin Dashboard"}),l.jsx("button",{onClick:ee,className:"dropdown-item logout-button",children:"Logout"})]})]}):l.jsxs("div",{className:"auth-links",children:[l.jsx(be,{to:"/login",className:"nav-link",children:"Login"}),l.jsx(be,{to:"/register",className:"nav-link",children:"Register"})]})]})]})]})}const Ig=()=>{const{logoutTrigger:r,resetLogoutTrigger:o}=Je(),{showAlert:d}=Xm(),c=_t();return m.useEffect(()=>{r&&(d("success","User logged out"),c("/"),o())},[r,c,d,o]),null},ey=({id:r,message:o,type:d,duration:c=5e3,onClose:h,index:v})=>{const[y,x]=m.useState(!0);if(m.useEffect(()=>{if(o){const b=setTimeout(()=>{x(!1),h(r)},c);return()=>clearTimeout(b)}},[o,c,h,r]),!y)return null;const g=`alert alert-${d||"info"}`,f=20+v*70;return l.jsx("div",{className:g,role:"alert",style:{top:`${f}px`},children:l.jsxs("div",{className:"alert-content",children:[o,l.jsx("button",{type:"button",className:"close",onClick:()=>{x(!1),h(r)},"aria-label":"Close",children:l.jsx("span",{"aria-hidden":"true",children:"×"})})]})})},ty=()=>{const{alerts:r,removeAlert:o,showAlert:d}=Xm(),c=vt(),h=m.useRef(null);return m.useEffect(()=>{if(c.key!==h.current&&c.state&&c.state.alert){const{type:v,message:y,duration:x}=c.state.alert;d(v,y,x),h.current=c.key,window.history.replaceState({},document.title,c.pathname)}},[c.key,d]),l.jsx("div",{className:"alert-container",children:r.map((v,y)=>l.jsx(ey,{id:v.id,message:v.message,type:v.type,duration:v.duration,onClose:o,index:y},v.id))})},ay=()=>{const[r,o]=m.useState(""),[d,c]=m.useState(""),[h,v]=m.useState(""),[y,x]=m.useState(!1),{login:g,isAuthenticated:f}=Je(),b=_t(),A=vt(),[D]=zg();D.get("redirect")||A.state?.from?.pathname,m.useEffect(()=>{if(v(""),f){const L=JSON.parse(localStorage.getItem("user"))?.is_admin?"/admin":"/";b(L,{replace:!0})}},[f,b]);const Q=async C=>{if(C.preventDefault(),!r.trim()||!d.trim()){v("Please enter both username and password");return}try{x(!0),v(""),await g(r,d);const R=JSON.parse(localStorage.getItem("user"))?.is_admin?"/admin":"/";console.log("Login successful, redirecting to:",R),b(R,{replace:!0,state:{alert:{type:"success",message:"Login successful",duration:3e3}}})}catch(L){console.error("Login error caught in Login.jsx:",L),console.log("Setting login error:",L.message||"Login failed. Please check your credentials."),v(L.message||"Login failed. Please check your credentials.")}finally{x(!1)}};return l.jsx("div",{className:"auth-container",children:l.jsxs("div",{className:"auth-card",children:[l.jsx("h2",{children:"Login to Animeko"}),h&&l.jsx("p",{className:"error-message",children:h}),l.jsxs("form",{onSubmit:Q,className:"auth-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"username",children:"Username"}),l.jsx("input",{id:"username",type:"text",value:r,onChange:C=>o(C.target.value),disabled:y,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password"}),l.jsx("input",{id:"password",type:"password",value:d,onChange:C=>c(C.target.value),disabled:y,required:!0})]}),l.jsx("button",{type:"submit",className:"auth-button",disabled:y,children:y?l.jsx("div",{className:"spinner-container-small",children:l.jsx("div",{className:"spinner-small"})}):"Login"})]}),l.jsxs("p",{className:"auth-link",children:["Don't have an account? ",l.jsx(be,{to:"/register",children:"Sign up"})]})]})})},ny=()=>{const[r,o]=m.useState({username:"",email:"",password:"",confirmPassword:"",display_name:"",adminCode:""}),[d,c]=m.useState(""),[h,v]=m.useState(!1),{register:y,login:x}=Je(),g=_t(),f=D=>{const{name:Q,value:C}=D.target;o(L=>({...L,[Q]:C}))},b=()=>!r.username.trim()||!r.email.trim()||!r.password.trim()?(c("Username, email and password are required"),!1):r.password!==r.confirmPassword?(c("Passwords do not match"),!1):r.password.length<6?(c("Password must be at least 6 characters long"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?!0:(c("Please enter a valid email address"),!1),A=async D=>{if(D.preventDefault(),c(""),!!b())try{v(!0),await y({username:r.username,email:r.email,password:r.password,display_name:r.display_name||r.username,adminCode:r.adminCode}),await x(r.username,r.password),g("/")}catch(Q){c(Q.message||"Registration failed. Please try again.")}finally{v(!1)}};return l.jsx("div",{className:"auth-container",children:l.jsxs("div",{className:"auth-card",children:[l.jsx("h2",{children:"Create an Account"}),d&&l.jsx("div",{className:"auth-error",children:d}),l.jsxs("form",{onSubmit:A,className:"auth-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"username",children:"Username*"}),l.jsx("input",{id:"username",name:"username",type:"text",value:r.username,onChange:f,disabled:h,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"Email*"}),l.jsx("input",{id:"email",name:"email",type:"email",value:r.email,onChange:f,disabled:h,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"display_name",children:"Display Name"}),l.jsx("input",{id:"display_name",name:"display_name",type:"text",value:r.display_name,onChange:f,disabled:h,placeholder:"Optional"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Password*"}),l.jsx("input",{id:"password",name:"password",type:"password",value:r.password,onChange:f,disabled:h,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password*"}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:f,disabled:h,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"adminCode",children:"Admin Code (optional)"}),l.jsx("input",{id:"adminCode",name:"adminCode",type:"password",value:r.adminCode,onChange:f,disabled:h,placeholder:"Leave blank for normal user"})]}),l.jsx("button",{type:"submit",className:"auth-button",disabled:h,children:h?"Creating Account...":"Register"})]}),l.jsxs("p",{className:"auth-link",children:["Already have an account? ",l.jsx(be,{to:"/login",children:"Login"})]})]})})},He="/assets/image_not_available-DY8qvkt9.jpg",ol="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='91.44mm'%20height='91.44mm'%20version='1.1'%20style='shape-rendering:geometricPrecision;%20text-rendering:geometricPrecision;%20image-rendering:optimizeQuality;%20fill-rule:evenodd;%20clip-rule:evenodd'%20viewBox='0%200%20170.49%20170.49'%3e%3cdefs%3e%3cstyle%20type='text/css'%3e%20.fil0%20{fill:%23F0F0F0}%20.fil1%20{fill:%23011627;fill-rule:nonzero}%20%3c/style%3e%3c/defs%3e%3cg%20id='Camada_x0020_1'%3e%3cmetadata%20id='CorelCorpID_0Corel-Layer'/%3e%3cpolygon%20class='fil0'%20points='-0,0%20170.49,0%20170.49,170.49%20-0,170.49%20'/%3e%3cpath%20class='fil1'%20d='M85.25%2046.38c5.58,0%2010.64,2.26%2014.3,5.93%203.66,3.66%205.92,8.72%205.92,14.3%200,5.58%20-2.26,10.64%20-5.92,14.3%20-3.66,3.66%20-8.72,5.92%20-14.3,5.92%20-5.58,0%20-10.64,-2.26%20-14.3,-5.92%20-3.66,-3.66%20-5.92,-8.72%20-5.92,-14.3%200,-5.58%202.26,-10.64%205.92,-14.3%203.66,-3.66%208.72,-5.93%2014.3,-5.93zm15.82%2045.26c-0.72,-0.48%20-0.92,-1.46%20-0.43,-2.18%200.48,-0.72%201.46,-0.91%202.18,-0.43%204.33,2.9%207.91,6.84%2010.38,11.46%202.39,4.45%203.74,9.52%203.74,14.88l0%207.17c0,0.87%20-0.71,1.58%20-1.58,1.58l-60.24%200c-0.87,0%20-1.58,-0.71%20-1.58,-1.58l0%20-7.17c0,-5.39%201.37,-10.49%203.78,-14.95%202.5,-4.63%206.11,-8.58%2010.47,-11.47%200.73,-0.48%201.7,-0.28%202.18,0.44%200.48,0.73%200.28,1.7%20-0.44,2.18%20-3.93,2.61%20-7.19,6.17%20-9.44,10.34%20-2.16,4.01%20-3.39,8.6%20-3.39,13.46l0%205.59%2057.08%200%200%20-5.59c0,-4.84%20-1.22,-9.41%20-3.36,-13.4%20-2.23,-4.16%20-5.46,-7.71%20-9.36,-10.32zm-3.75%20-37.11c-3.09,-3.08%20-7.36,-5%20-12.07,-5%20-4.71,0%20-8.98,1.91%20-12.07,5%20-3.09,3.09%20-5,7.35%20-5,12.07%200,4.71%201.91,8.98%205,12.07%203.09,3.09%207.35,5%2012.07,5%204.71,0%208.98,-1.91%2012.07,-5%203.09,-3.09%205,-7.36%205,-12.07%200,-4.71%20-1.91,-8.98%20-5,-12.07z'/%3e%3c/g%3e%3c/svg%3e";function wm(){const{userId:r}=xn(),{user:o,token:d,updateProfile:c,logout:h}=Je(),v=_t(),y=!r||r===o?.user_id?.toString();y&&o?.user_id;const[x,g]=m.useState(y?o:null),[f,b]=m.useState(!y),[A,D]=m.useState(""),[Q,C]=m.useState(!1),[L,R]=m.useState({display_name:"",profile_bio:"",profile_picture_url:""}),[O,ee]=m.useState(!1),[T,Y]=m.useState(""),[_,z]=m.useState(""),[F,E]=m.useState([]);m.useEffect(()=>{x&&y&&R({display_name:x.display_name||"",profile_bio:x.profile_bio||"",profile_picture_url:x.profile_picture_url||""})},[x,y]),m.useEffect(()=>{if(!d)return;(async()=>{try{if(b(!0),D(""),y){g(o);const le=await fetch("/api/favorites",{headers:{Authorization:`Bearer ${d}`}});if(le.ok){const k=await le.json();E(Array.isArray(k)?k:[])}}else{const le=await fetch(`/api/users/profile/${r}`,{headers:{Authorization:`Bearer ${d}`}});if(!le.ok)throw le.status===403?new Error("You can only view profiles of friends"):le.status===404?new Error("User not found"):new Error("Failed to load profile");const k=await le.json();g(k.user),E(k.favorites||[])}}catch(le){console.error("Error fetching profile data:",le),D(le.message)}finally{b(!1)}})()},[d,r,o,y]);const P=ce=>{const{name:le,value:k}=ce.target;R(H=>({...H,[le]:k}))};m.useEffect(()=>{if(!d)return;(async()=>{try{const le=await fetch("/api/favorites",{headers:{Authorization:`Bearer ${d}`}});if(le.ok){const k=await le.json();E(Array.isArray(k)?k:[])}}catch(le){console.error("Error fetching favorites:",le)}})()},[d]);const te=async ce=>{ce.preventDefault(),Y(""),z("");try{ee(!0),await c(L),z("Profile updated successfully"),C(!1),fetchProfileData()}catch(le){Y(le.message||"Failed to update profile")}finally{ee(!1)}},I=()=>{R({display_name:x.display_name||"",profile_bio:x.profile_bio||"",profile_picture_url:x.profile_picture_url||""}),Y(""),z(""),C(!1)};if(f)return l.jsx("div",{className:"spinner-container",children:l.jsx("div",{className:"spinner"})});if(A)return l.jsx("div",{className:"profile-page",children:l.jsxs("div",{className:"profile-card",children:[l.jsx("div",{className:"profile-error",children:A}),l.jsx("button",{onClick:()=>v("/profile"),children:y?"Please log in":"Back to My Profile"})]})});if(!x)return l.jsx("div",{className:"loading",children:y?"Please log in to view your profile…":"No profile data found"});const G=y?"My Profile":`${x.display_name||x.username}'s Profile`,re=y?"Favorite":"Their Favorite";return l.jsxs("div",{className:"profile-page",children:[!y&&l.jsx("div",{className:"profile-nav",children:l.jsx("button",{onClick:()=>v("/profile"),className:"back-btn",children:"← Back to My Profile"})}),l.jsxs("div",{className:"profile-card",children:[l.jsx("h2",{children:G}),l.jsx("img",{src:x.profile_picture_url||ol,alt:"Profile",className:"user-profile-pic"}),T&&l.jsx("div",{className:"profile-error",children:T}),_&&l.jsx("div",{className:"profile-success",children:_}),y&&Q?l.jsxs("form",{onSubmit:te,className:"profile-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Display Name"}),l.jsx("input",{name:"display_name",value:L.display_name,onChange:P,disabled:O})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Bio"}),l.jsx("textarea",{name:"profile_bio",value:L.profile_bio,onChange:P,rows:"3",disabled:O})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Profile Picture URL"}),l.jsx("input",{name:"profile_picture_url",value:L.profile_picture_url,onChange:P,disabled:O}),l.jsx("div",{className:"anime-url-hint",children:"Paste a direct link to a profile image (JPG, PNG, WEBP)"})]}),l.jsxs("div",{className:"profile-buttons",children:[l.jsx("button",{type:"submit",disabled:O,children:O?"Saving…":"Save Changes"}),l.jsx("button",{type:"button",onClick:I,disabled:O,children:"Cancel"})]})]}):l.jsxs("div",{className:"profile-info",children:[l.jsxs("p",{children:["Username: ",x.username]}),!y||l.jsxs("p",{children:["Email: ",x.email]}),l.jsxs("p",{children:["Display Name: ",x.display_name||"Not set"]}),l.jsxs("p",{children:["Bio: ",x.profile_bio||"No bio provided"]}),l.jsxs("p",{children:["Member Since: ",new Date(x.created_at).toLocaleDateString()]}),l.jsx("div",{className:"profile-buttons",children:y&&l.jsx("button",{onClick:()=>C(!0),children:"Edit Profile"})})]})]}),l.jsxs("section",{className:"favorites-section",children:[l.jsx("h3",{children:"Favorites"}),["anime","character","voice_actor"].map(ce=>l.jsxs("div",{className:"favorite-type-container",children:[l.jsxs("h4",{children:[re," ",ce.charAt(0).toUpperCase()+ce.slice(1),"s"]}),l.jsx("div",{className:"scroll-box fav-grid",children:F.filter(le=>le.entityType===ce).length>0?F.filter(le=>le.entityType===ce).map(le=>{const k=`/${ce==="voice_actor"?"va":ce}/${le.entityId}`;return l.jsx("div",{className:"fav-item",children:l.jsxs(be,{to:k,className:"fav-card",children:[l.jsx("img",{src:le.imageUrl||He,alt:le.name,className:"fav-image",onError:H=>{H.target.onerror=null,H.target.src=He}}),l.jsx("span",{className:"fav-name",children:le.name})]})},`${ce}-${le.entityId}`)}):l.jsxs("p",{children:["No favorite ",ce,"s yet"]})})]},ce))]})]})}const ly="_listCard_yeegt_1",iy="_listCardHeader_yeegt_39",sy="_listCardTitle_yeegt_55",ry="_listItemCount_yeegt_69",cy="_listCardFooter_yeegt_81",oy="_listOwner_yeegt_103",uy="_listDate_yeegt_111",yn={listCard:ly,listCardHeader:iy,listCardTitle:sy,listItemCount:ry,listCardFooter:cy,listOwner:oy,listDate:uy};function So({list:r}){const o=new Date(r.created_at).toLocaleDateString();return l.jsxs(be,{to:`/lists/${r.id}`,className:yn.listCard,children:[l.jsxs("div",{className:yn.listCardHeader,children:[l.jsx("h4",{className:yn.listCardTitle,children:r.title}),l.jsxs("span",{className:yn.listItemCount,children:[r.item_count," items"]})]}),l.jsxs("div",{className:yn.listCardFooter,children:[l.jsxs("span",{className:yn.listOwner,children:["By ",l.jsx(be,{to:`/profile/${r.owner_id}`,children:r.owner_username||"you"})]}),l.jsx("span",{className:yn.listDate,children:o})]})]},r.id)}const Qm=({videoId:r,onClose:o})=>(m.useEffect(()=>{document.body.style.overflow="hidden";const d=c=>{c.key==="Escape"&&o()};return document.addEventListener("keydown",d),()=>{document.body.style.overflow="unset",document.removeEventListener("keydown",d)}},[o]),r?l.jsx("div",{className:"modal-overlay",role:"dialog","aria-modal":"true","aria-label":"Anime Trailer",children:l.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[l.jsx("button",{className:"close-button",onClick:o,"aria-label":"Close trailer modal",type:"button",children:"×"}),l.jsx("div",{className:"video-container",children:l.jsx("iframe",{src:`https://www.youtube.com/embed/${r}?autoplay=1&controls=1&modestbranding=1&rel=0`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Anime Trailer Video"})})]})}):null);Qm.propTypes={videoId:cl.string.isRequired,onClose:cl.func.isRequired};const dy=r=>Math.round(r*2)/2,fy=["Watching","Completed","Planned to Watch","Dropped","On Hold"];function my(){const{animeId:r}=xn();_t();const{token:o,user:d}=Je(),[c,h]=m.useState(null),[v,y]=m.useState(!0),[x,g]=m.useState(null),[f,b]=m.useState(!1),[A,D]=m.useState(!1),[Q,C]=m.useState(null),[L,R]=m.useState(!0),[O,ee]=m.useState(null),[T,Y]=m.useState(!1),[_,z]=m.useState([]),[F,E]=m.useState(null),[P,te]=m.useState({rating:0,content:""}),[I,G]=m.useState(!1),[re,ce]=m.useState(null),[le,k]=m.useState(!1),[H,ne]=m.useState(!1),[xe,N]=m.useState(null),[V,se]=m.useState(null),[ae,fe]=m.useState({data:[],loading:!1,error:null,pagination:{currentPage:0,totalPages:0,totalItems:0,itemsPerPage:6}}),[ge,he]=m.useState([]),[et,De]=m.useState(!1),[Oe,Pt]=m.useState(null),[gt,It]=m.useState("details"),[sa,Mt]=m.useState(!1);m.useEffect(()=>{console.log("User auth status:",{user:d,hasToken:!!o})},[d,o]);const ra=async(X=1,oe=null)=>{if(!r)return console.error("No animeId provided"),{data:[],pagination:{}};const Ae=`/api/lists/anime/${r}?page=${X}&limit=6`,wt={"Content-Type":"application/json",Accept:"application/json",...o&&{Authorization:`Bearer ${o}`}};try{const ct=await fetch(Ae,{method:"GET",headers:wt,credentials:"include",mode:"cors",signal:oe});if(!ct.ok){const jn=await ct.json().catch(()=>({message:`HTTP ${ct.status} ${ct.statusText}`}));throw new Error(jn.message||"Failed to fetch lists")}const Ve=await ct.json();if(Array.isArray(Ve))return{data:Ve,pagination:{currentPage:1,totalPages:1,totalItems:Ve.length,itemsPerPage:Ve.length}};if(Ve?.data&&Array.isArray(Ve.data))return{data:Ve.data,pagination:Ve.pagination||{currentPage:X,totalPages:1,totalItems:Ve.data.length,itemsPerPage:6}};throw new Error("Unexpected API response format")}catch(ct){if(ct.name!=="AbortError")throw console.error("Error fetching anime lists:",ct),ct;return{data:[],pagination:{}}}},S=async(X=1)=>{if(r)try{fe(Ae=>({...Ae,loading:!0,error:null}));const{data:oe,pagination:Se}=await ra(X);console.log("fetchContainingLists - Data received from fetchAnimeLists:",oe),console.log("fetchContainingLists - Pagination received from fetchAnimeLists:",Se),fe(Ae=>{const wt={...Ae,data:X===1?oe:[...Ae.data,...oe],loading:!1,pagination:{...Ae.pagination,...Se}};return console.log("fetchContainingLists - New containingLists state:",wt),wt})}catch(oe){console.error("Failed to load anime lists:",oe),fe(Se=>({...Se,loading:!1,error:"Failed to load lists containing this anime",data:X===1?[]:Se.data}))}};m.useEffect(()=>{const X=new AbortController;return(async()=>{if(!r){console.error("No animeId available");return}console.log("useEffect - Calling fetchContainingLists for anime ID:",r),await S(1)})(),()=>{X.abort()}},[r]);const W=()=>{const X=ae.pagination.currentPage+1;S(X)};m.useEffect(()=>{fetch(`/api/anime/${r}`).then(X=>{if(!X.ok)throw new Error(`Status ${X.status}`);return X.json()}).then(h).catch(X=>{console.error("Fetch anime error:",X),g("Failed to load anime")})},[r]),m.useEffect(()=>{fetch(`/api/anime/${r}/rating`).then(X=>X.ok?X.json():(X.status!==404&&console.error("Rating fetch error",X.status),{averageRating:null,rank:null})).then(X=>{N(X.averageRating),se(X.rank)}).catch(X=>{console.error("Fetch rating error:",X),N(null),se(null)})},[r]),m.useEffect(()=>{o&&fetch("/api/favorites",{headers:{Authorization:`Bearer ${o}`}}).then(X=>X.json()).then(X=>{const oe=X.some(Se=>Se.entityType==="anime"&&+Se.entityId==+r);b(oe)}).catch(console.error)},[r,o]),m.useEffect(()=>{if(!o){C(null),R(!1);return}let X=!0;return R(!0),fetch(`/api/anime-library/${r}`,{headers:{Authorization:`Bearer ${o}`}}).then(oe=>{if(!oe.ok){if(oe.status===404)return{status:null};throw new Error(`Status ${oe.status}`)}return oe.json()}).then(oe=>{X&&C(oe.status)}).catch(oe=>{X&&(console.error("Fetch library status error:",oe),ee("Failed to load library status."),C(null))}).finally(()=>{X&&R(!1)}),()=>{X=!1}},[r,o]);const ie=()=>{o&&(D(!0),fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({entityType:"anime",entityId:+r})}).then(X=>X.json()).then(X=>{b(X.favorite)}).catch(console.error).finally(()=>D(!1)))},de=async X=>{if(!(!o||L)){R(!0);try{const oe=await fetch("/api/anime-library",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({animeId:+r,status:X})});if(!oe.ok){const Se=await oe.json();throw new Error(Se.message||"Failed to add anime to library")}C(X),Y(!1),ee(null)}catch(oe){console.error("Error adding to library:",oe),ee(oe.message||"Network error. Please try again.")}finally{R(!1)}}},We=async X=>{if(!(!o||L)){R(!0);try{const oe=await fetch(`/api/anime-library/${r}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({status:X})});if(!oe.ok){const Se=await oe.json();throw new Error(Se.message||"Failed to update library status")}C(X),Y(!1),ee(null)}catch(oe){console.error("Error updating library status:",oe),ee(oe.message||"Network error. Please try again.")}finally{R(!1)}}},yt=async()=>{if(!(!o||L)){R(!0);try{const X=await fetch(`/api/anime-library/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`}});if(!X.ok){const oe=await X.json();throw new Error(oe.message||"Failed to remove anime from library")}C(null),Y(!1),ee(null)}catch(X){console.error("Error removing from library:",X),ee(X.message||"Network error. Please try again.")}finally{R(!1)}}};m.useEffect(()=>{fetch(`/api/anime/${r}/reviews`).then(X=>{if(!X.ok)throw new Error(`Status ${X.status}`);return X.json()}).then(X=>{const oe=Array.isArray(X)?X:[];if(z(oe),d&&oe.length>0){const Se=oe.find(Ae=>Ae.user_id===d.user_id)||null;E(Se),Se&&te({rating:Se.rating,content:Se.content})}}).catch(X=>{console.error("Fetch reviews error:",X),z([])})},[r,d]),m.useEffect(()=>{gt==="episodes"&&(De(!0),Pt(null),fetch(`/api/episodes/anime/${r}`).then(X=>{if(!X.ok)throw new Error(`Status ${X.status}`);return X.json()}).then(X=>{const oe=Array.isArray(X)?X:[];he(oe)}).catch(X=>{console.error("Fetch episodes error:",X),Pt("Failed to load episodes"),he([])}).finally(()=>{De(!1)}))},[r,gt]);const ca=X=>{te(oe=>({...oe,rating:X}))},gi=X=>{const{name:oe,value:Se}=X.target;te(Ae=>({...Ae,[oe]:oe==="rating"?Number(Se):Se}))},Bs=async X=>{if(X.preventDefault(),!o){ce("You must be logged in to post a review.");return}const{rating:oe,content:Se}=P;if(oe<1||oe>5){ce("Rating must be between 1 and 5 stars.");return}ce(""),G(!0);try{const Ae=await fetch(`/api/anime/${r}/review`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({rating:oe,content:Se.trim()})});if(!Ae.ok){const bi=await Ae.json();throw new Error(bi.message||"Failed to save review")}const wt=await Ae.json();E(wt);const Ve=await(await fetch(`/api/anime/${r}/rating`)).json();N(Ve.averageRating),se(Ve.rank);const Sn=await(await fetch(`/api/anime/${r}/reviews`)).json();z(Array.isArray(Sn)?Sn:[])}catch(Ae){console.error("Submit review error:",Ae),ce(Ae.message||"Failed to save review")}finally{G(!1)}},Hs=async()=>{if(!o||!F){ce("You must be logged in and have a review to delete.");return}ce(""),G(!0);try{const X=await fetch(`/api/anime/${r}/review`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}});if(!X.ok){const ct=await X.json();throw new Error(ct.message||"Failed to delete review")}E(null),te({rating:0,content:""});const Se=await(await fetch(`/api/anime/${r}/rating`)).json();N(Se.averageRating),se(Se.rank);const wt=await(await fetch(`/api/anime/${r}/reviews`)).json();z(Array.isArray(wt)?wt:[])}catch(X){console.error("Delete review error:",X),ce(X.message||"Failed to delete review")}finally{G(!1)}};if(x)return l.jsx("div",{className:"anime-error",children:x});if(!c)return l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading anime..."})]});const{title:Aa,alternative_title:ft,synopsis:Qt,company:rt,genres:hl=[],cast:yi=[],episodes:xi,season:Wa,release_date:Pa,trailer_url_yt_id:ea}=c,bn=X=>X?new Date(X).toLocaleDateString("en-US",{day:"2-digit",month:"long",year:"numeric"}):null,Ia=X=>{if(!X)return"N/A";const oe=Math.floor(X/60),Se=X%60;return`${oe}:${Se.toString().padStart(2,"0")}`},qs=X=>X?new Date(X).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"TBA";return l.jsxs("div",{className:"anime-page",children:[l.jsxs("div",{className:"anime-header-card",children:[l.jsx("img",{src:c.imageUrl||He,alt:`${Aa} cover`,className:"anime-photo"}),l.jsxs("div",{className:"anime-meta",children:[l.jsxs("div",{className:"anime-meta-header",children:[l.jsx("h2",{className:"anime-name",children:Aa}),d&&l.jsxs("button",{className:`favorite-btn ${f?"favorited":""}`,onClick:ie,disabled:A,children:[l.jsx("div",{className:"favorite-icon",children:f?"❤️":"🤍"}),l.jsx("div",{className:"favorite-text",children:A?"…":f?"Remove from Favorite":"Add to Favorites"})]}),d&&l.jsx("div",{className:"anime-library-controls",children:L?l.jsx("span",{className:"loading-text",children:"Loading library status..."}):O?l.jsx("span",{className:"error-text",children:O}):l.jsx("div",{className:"library-controls-container",children:Q?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"status-controls",children:[l.jsx("select",{value:Q,onChange:X=>We(X.target.value),className:"status-select",children:fy.map(X=>l.jsx("option",{value:X,children:X},X))}),Q&&l.jsx("button",{className:"remove-from-library-btn",onClick:yt,children:"Remove from Library"})]})}):l.jsx("button",{className:"add-to-library-btn",onClick:()=>de("Planned to Watch"),children:"Add to Library"})})})]}),l.jsx("div",{className:"anime-average-rating",children:xe===null?l.jsx("span",{className:"no-rating",children:"No ratings yet."}):l.jsxs("div",{className:"stars-and-rank",children:[(()=>{const X=dy(xe),oe=Math.floor(X),Se=X-oe===.5;return l.jsxs("span",{className:"star-row",children:[[1,2,3,4,5].map(Ae=>Ae<=oe?l.jsx("span",{children:"★"},Ae):Ae===oe+1&&Se?l.jsx("span",{children:"☆"},Ae):l.jsx("span",{children:"☆"},Ae)),l.jsxs("span",{className:"avg-number",children:["(",X.toFixed(1),")"]})]})})(),V!==null&&l.jsxs("span",{className:"anime-rank",children:["# ",V]})]})}),ft&&l.jsxs("p",{className:"anime-alt-title",children:[l.jsx("strong",{children:"Alternative Title:"})," ",ft]}),l.jsxs("div",{className:"anime-details-row",children:[xi&&l.jsxs("div",{className:"anime-detail-item",children:[l.jsx("strong",{children:"Episodes:"})," ",xi]}),Wa&&l.jsxs("div",{className:"anime-detail-item",children:[l.jsx("strong",{children:"Season:"})," ",Wa]}),Pa&&l.jsxs("div",{className:"anime-detail-item",children:[l.jsx("strong",{children:"Release Date:"})," ",bn(Pa)]})]}),Qt&&l.jsx("p",{className:"anime-desc",children:Qt}),ea?l.jsx("button",{onClick:()=>Mt(!0),className:"watch-trailer-btn",children:"Watch Trailer"}):l.jsx("p",{className:"no-trailer",children:"Trailer not available"}),rt&&l.jsxs("p",{className:"anime-company",children:[l.jsx("strong",{children:"Company:"})," ",l.jsx(be,{to:`/company/${rt.companyId}`,className:"link",children:rt.name})]}),hl.length>0&&l.jsxs("p",{className:"anime-genres",children:[l.jsx("strong",{children:"Genres:"})," ",hl.map((X,oe)=>l.jsxs("span",{children:[l.jsx(be,{to:`/genre/${X.genreId}`,className:"link",children:X.name}),oe<hl.length-1&&", "]},X.genreId))]})]})]}),l.jsx("div",{className:"anime-tabs",children:l.jsxs("div",{className:"tab-nav",children:[l.jsx("button",{className:`tab-btn ${gt==="details"?"active":""}`,onClick:()=>It("details"),children:"Details"}),l.jsx("button",{className:`tab-btn ${gt==="episodes"?"active":""}`,onClick:()=>It("episodes"),children:"Episodes"})]})}),l.jsxs("div",{className:"tab-content",children:[gt==="details"&&l.jsxs("div",{className:"details-tab",children:[l.jsx("h3",{className:"cast-heading",children:"Cast & Voice Actors"}),yi.length>0?l.jsx("div",{className:"cast-grid",children:yi.map(({characterId:X,characterName:oe,vaId:Se,vaName:Ae,characterImageUrl:wt,vaImageUrl:ct})=>l.jsxs("div",{className:"cast-card",children:[l.jsx("div",{style:{textAlign:"center"},children:l.jsx("img",{src:wt||He,alt:oe,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"50%"},onError:Ve=>{Ve.target.onerror=null,Ve.target.src=He}})}),l.jsxs("div",{className:"cast-info",children:[l.jsx(be,{to:`/character/${X}`,className:"link",children:l.jsx("strong",{children:oe})}),Ae&&l.jsxs("div",{className:"va-info",children:[l.jsx("span",{children:"voiced by"}),l.jsxs(be,{to:`/va/${Se}`,className:"va-link",children:[l.jsx("div",{className:"va-thumb-container",children:l.jsx("img",{src:ct||He,alt:Ae,className:"va-thumb",onError:Ve=>{Ve.target.onerror=null,Ve.target.src=He}})}),l.jsx("span",{children:Ae})]})]})]})]},X))}):l.jsx("p",{className:"no-cast",children:"No cast information available."}),l.jsxs("div",{className:"anime-section",children:[l.jsxs("h3",{children:["Appears in ",ae?.pagination?.totalItems||0," List",ae?.pagination?.totalItems!==1?"s":""]}),ae?ae.loading&&ae.pagination?.currentPage===1?l.jsx("div",{className:"loading",children:"Loading lists..."}):ae.error?l.jsx("div",{className:"error",children:ae.error}):ae.data?.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"lists-grid",children:ae.data.map(X=>l.jsx(So,{list:X},X.id))}),ae.pagination.currentPage<ae.pagination.totalPages&&l.jsx("button",{className:"load-more-btn",onClick:W,disabled:ae.loading,children:ae.loading?"Loading...":"Load More"})]}):l.jsx("div",{className:"no-lists",children:"This anime doesn't appear in any lists yet."}):l.jsx("div",{className:"loading",children:"Loading lists..."})]}),l.jsxs("section",{className:"reviews-section",children:[l.jsx("h3",{children:"Reviews"}),l.jsxs("div",{className:"your-review-form",children:[l.jsx("h4",{children:"Your Review"}),d?l.jsxs("form",{onSubmit:Bs,children:[l.jsx("div",{className:"star-selection",children:[1,2,3,4,5].map(X=>l.jsx("span",{className:X<=P.rating?"star selected":"star",onClick:()=>ca(X),children:"★"},X))}),l.jsxs("label",{children:["Comment:",l.jsx("textarea",{name:"content",rows:"4",value:P.content,onChange:gi,disabled:I})]}),re&&l.jsx("div",{className:"review-error",children:re}),l.jsx("button",{type:"submit",disabled:I,children:F?"Update Review":"Submit Review"}),F&&l.jsx("button",{type:"button",className:"delete-review-btn",onClick:Hs,disabled:I,children:"Delete Review"})]}):l.jsxs("div",{className:"login-prompt",children:[l.jsx(be,{to:"/login",children:"Log in"})," to submit reviews and ratings."]})]}),l.jsxs("div",{className:"all-reviews-list",children:[l.jsx("h4",{children:"All Reviews"}),_.length===0?l.jsx("p",{className:"no-reviews",children:"No reviews yet. Be the first!"}):_.map(X=>l.jsxs("div",{className:"review-card",children:[l.jsxs("div",{className:"reviewer-info",children:[l.jsx("img",{src:X.avatar_url||ol,alt:`${X.username} avatar`,className:"reviewer-avatar"}),l.jsx(be,{to:`/profile/${X.user_id}`,className:"reviewer-name",children:X.username}),l.jsx("span",{className:"review-timestamp",children:new Date(X.created_at).toLocaleString()})]}),l.jsxs("div",{className:"review-body",children:[l.jsxs("span",{className:"review-rating",children:[Array.from({length:X.rating},(oe,Se)=>l.jsx("span",{children:"★"},Se)),Array.from({length:5-X.rating},(oe,Se)=>l.jsx("span",{children:"☆"},Se))]}),l.jsx("p",{className:"review-content",children:X.content})]})]},X.review_id))]})]})]}),gt==="episodes"&&l.jsxs("div",{className:"episodes-tab",children:[l.jsxs("h3",{className:"episodes-heading",children:["Episodes (",ge.length,")"]}),et?l.jsx("div",{className:"loading",children:"Loading episodes..."}):Oe?l.jsx("div",{className:"error",children:Oe}):ge.length>0?l.jsx("div",{className:"episodes-grid",children:ge.map(X=>l.jsxs("div",{className:"episode-card",children:[l.jsxs("div",{className:"episode-header",children:[l.jsxs("span",{className:"episode-number",children:["Episode ",X.episode_number]}),X.premium_only&&d&&d.subscription_status&&l.jsx("span",{className:"premium-indicator",children:"PRO"})]}),X.title&&l.jsx("h4",{className:"episode-title",children:X.title}),l.jsxs("div",{className:"episode-details",children:[l.jsxs("div",{className:"episode-detail",children:[l.jsx("span",{className:"detail-label",children:"Duration:"}),l.jsx("span",{className:"detail-value",children:Ia(X.duration_seconds)})]}),l.jsxs("div",{className:"episode-detail",children:[l.jsx("span",{className:"detail-label",children:"Air Date:"}),l.jsx("span",{className:"detail-value",children:qs(X.air_date)})]})]})]},X.episode_id))}):l.jsxs("div",{className:"no-episodes",children:[l.jsx("p",{children:"No episodes available for this anime yet."}),l.jsx("p",{children:"Check back later for updates!"})]})]})]}),sa&&l.jsx(Qm,{videoId:ea,onClose:()=>Mt(!1)})]})}function hy(){const{charId:r}=xn(),{token:o}=Je(),[d,c]=m.useState(null),[h,v]=m.useState(!0),[y,x]=m.useState(null),[g,f]=m.useState(!1),[b,A]=m.useState(!1);m.useEffect(()=>{fetch(`/api/characters/${r}`).then(T=>{if(!T.ok)throw new Error(T.status);return T.json()}).then(T=>{c(T),v(!1)}).catch(T=>{console.error("Fetch character error:",T),x("Failed to load character"),v(!1)})},[r]),m.useEffect(()=>{o&&fetch("/api/favorites",{headers:{Authorization:`Bearer ${o}`}}).then(T=>T.json()).then(T=>{f(T.some(Y=>Y.entityType==="character"&&+Y.entityId==+r))}).catch(console.error)},[r,o]);const D=()=>{o&&(A(!0),fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({entityType:"character",entityId:+r})}).then(T=>T.json()).then(T=>f(T.favorite)).catch(console.error).finally(()=>A(!1)))};if(h)return l.jsx("div",{className:"spinner-container",children:l.jsx("div",{className:"spinner"})});if(y)return l.jsx("div",{className:"char-error",children:y});if(!d)return l.jsx("div",{className:"char-error",children:"Character not found"});const{name:Q,description:C,vaId:L,vaName:R="Unknown",animeList:O=[],imageUrl:ee}=d;return l.jsxs("div",{className:"character-page",children:[l.jsxs("div",{className:"character-header-card",children:[l.jsx("div",{className:"character-photo-container",children:l.jsx("img",{src:ee||He,alt:Q,className:"character-photo",onError:T=>{T.target.onerror=null,T.target.src=He,T.target.style.objectFit="contain",T.target.style.padding="1rem"}})}),l.jsxs("div",{className:"character-meta",children:[l.jsxs("div",{className:"character-meta-header spaced-header",children:[l.jsx("h2",{className:"character-name wrap-name",children:Q}),l.jsxs("button",{className:`favorite-btn ${g?"favorited":""}`,onClick:D,disabled:b,children:[l.jsx("div",{className:"favorite-icon",children:g?"❤️":"🤍"}),l.jsx("div",{className:"favorite-text",children:b?"…":g?"Remove from Favorite":"Add to Favorites"})]})]}),C&&l.jsx("p",{className:"character-desc",children:C}),l.jsx("p",{className:"character-va",children:l.jsxs("span",{className:"va-info",style:{display:"flex",alignItems:"flex-start",gap:"0.5em"},children:[l.jsx("span",{children:"voiced by"}),L?l.jsxs(be,{to:`/va/${L}`,className:"va-link",style:{display:"flex",alignItems:"center",gap:"0.5em"},children:[l.jsx("span",{className:"va-thumb-container",style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:d.va_image_url||He,alt:R,className:"va-thumb",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},onError:T=>{T.target.onerror=null,T.target.src=He}})}),l.jsx("span",{children:R})]}):l.jsx("span",{className:"va-unknown",children:"Unknown"})]})})]})]}),l.jsx("h3",{className:"appearances-heading",children:"Appears In"}),O.length>0?l.jsx("div",{className:"appearances-grid",children:O.map(({animeId:T,animeTitle:Y,imageUrl:_})=>l.jsxs(be,{to:`/anime/${T}`,className:"appearance-card",children:[l.jsx("img",{src:_||He,alt:`${Y} cover`,className:"appearance-thumb",onError:z=>{z.target.onerror=null,z.target.src=He}}),l.jsx("p",{className:"appearance-title",children:Y})]},T))}):l.jsx("p",{className:"no-appearances",children:"No anime appearances found."})]})}function py(){const{vaId:r}=xn(),{token:o}=Je(),[d,c]=m.useState(null),[h,v]=m.useState(null),[y,x]=m.useState(!1),[g,f]=m.useState(!1);m.useEffect(()=>{fetch(`/api/voice-actors/${r}`).then(R=>{if(!R.ok)throw new Error(R.status);return R.json()}).then(c).catch(R=>{console.error("Fetch VA error:",R),v("Failed to load voice actor")})},[r]),m.useEffect(()=>{o&&fetch("/api/favorites",{headers:{Authorization:`Bearer ${o}`}}).then(R=>R.json()).then(R=>{x(R.some(O=>O.entityType==="voice_actor"&&+O.entityId==+r))}).catch(console.error)},[r,o]);const b=()=>{o&&(f(!0),fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({entityType:"voice_actor",entityId:+r})}).then(R=>R.json()).then(R=>x(R.favorite)).catch(console.error).finally(()=>f(!1)))};if(h)return l.jsx("div",{className:"va-error",children:h});if(!d)return l.jsx("div",{className:"spinner-container",children:l.jsx("div",{className:"spinner"})});const{name:A,bio:D,roles:Q=[],imageUrl:C}=d;console.log("Voice Actor Data:",{name:A,imageUrl:C});const L=!C||C==="null"||C==="undefined";return l.jsxs("div",{className:"va-page",children:[l.jsxs("div",{className:"va-header-card",children:[l.jsx("div",{className:"va-photo-container",children:l.jsx("img",{src:L?He:C,alt:L?`${A} - No Image Available`:A,className:"va-photo",style:{objectFit:L?"contain":"cover",padding:L?"1.5rem":"0",opacity:L?.7:1},onError:R=>{console.error("Error loading image:",C),R.target.onerror=null,R.target.src=He,R.target.style.objectFit="contain",R.target.style.padding="1.5rem",R.target.style.opacity=.7}})}),l.jsxs("div",{className:"va-info",children:[l.jsxs("div",{className:"va-info-header spaced-header",children:[l.jsx("h2",{className:"va-name wrap-name",children:A}),l.jsxs("button",{className:`favorite-btn ${y?"favorited":""}`,onClick:b,disabled:g,children:[l.jsx("div",{className:"favorite-icon",children:y?"❤️":"🤍"}),l.jsx("div",{className:"favorite-text",children:g?"…":y?"Remove from Favorite":"Add to Favorites"})]})]}),D&&l.jsx("p",{className:"va-bio",children:D})]})]}),l.jsx("h3",{className:"va-roles-heading",children:"Roles"}),Q.length>0?l.jsx("div",{className:"va-roles-grid",children:Q.map(({animeId:R,animeTitle:O,characterId:ee,characterName:T,animeImageUrl:Y,characterImageUrl:_})=>l.jsxs("div",{className:"va-role-card",children:[l.jsxs(be,{to:`/anime/${R}`,className:"role-anime-link",children:[l.jsx("div",{className:"role-anime-image",children:l.jsx("img",{src:Y||He,alt:O,onError:z=>{z.target.onerror=null,z.target.src=He}})}),l.jsx("strong",{children:O})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.3em",marginTop:"0.7em"},children:l.jsxs(be,{to:`/character/${ee}`,className:"role-char-link",style:{display:"flex",alignItems:"center",gap:"0.5em",marginTop:"0.2em"},children:[l.jsx("span",{className:"va-thumb-container",style:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("img",{src:_||He,alt:T,className:"va-thumb",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},onError:z=>{z.target.onerror=null,z.target.src=He}})}),l.jsx("span",{children:T})]})})]},`${R}-${ee}`))}):l.jsx("p",{className:"no-roles",children:"No roles found for this actor."})]})}function vy(){const{genreId:r}=xn(),o=_t(),{isDarkMode:d}=Wt(),[c,h]=m.useState(null),[v,y]=m.useState([]),[x,g]=m.useState(!0),[f,b]=m.useState(null);if(m.useEffect(()=>{(async()=>{try{g(!0);const C=await fetch(`/api/genre/${r}`);if(!C.ok)throw new Error(`Status ${C.status}`);const L=await C.json(),R=await fetch(`/api/animes?genre=${encodeURIComponent(L.name)}`);if(!R.ok)throw new Error(`Status ${R.status}`);const O=await R.json();h(L),y(Array.isArray(O)?O:[]),g(!1)}catch(C){console.error("Fetch error:",C),b("Failed to load genre data"),g(!1)}})()},[r,o]),x)return l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading genre data..."})]});if(f)return l.jsx("div",{className:"genre-error",children:f});if(!c)return l.jsx("div",{className:"genre-error",children:"Genre not found"});const{name:A,description:D}=c;return l.jsxs("div",{className:`genre-page ${d?"dark-mode":""}`,children:[l.jsx("div",{className:"genre-header-card",children:l.jsxs("div",{className:"genre-meta",children:[l.jsx("h2",{className:"genre-name",children:A}),D&&l.jsx("p",{className:"genre-desc",children:D})]})}),v.length>0?l.jsx("div",{className:"genre-anime-grid",children:v.map(Q=>l.jsxs(be,{to:`/anime/${Q.id||Q.anime_id}`,className:"company-anime-card",children:[l.jsx("img",{src:Q.imageUrl||He,alt:`${Q.title} placeholder`,className:"anime-thumb"}),l.jsx("p",{className:"anime-title",children:Q.title})]},Q.id||Q.anime_id))}):l.jsx("p",{className:"no-anime",children:"No anime found for this genre."})]})}function gy(){const{companyId:r}=xn(),{isDarkMode:o}=Wt(),[d,c]=m.useState(null),[h,v]=m.useState(!0),[y,x]=m.useState(null);if(m.useEffect(()=>{fetch(`/api/company/${r}`).then(D=>{if(!D.ok)throw new Error(`Status ${D.status}`);return D.json()}).then(D=>{c(D),v(!1)}).catch(D=>{console.error("Fetch company error:",D),x("Failed to load company"),v(!1)})},[r]),h)return l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading company data..."})]});if(y)return l.jsx("div",{className:"company-error",children:y});if(!d)return l.jsx("div",{className:"company-error",children:"Company not found"});const{name:g,country:f,founded:b,animeList:A=[]}=d;return l.jsxs("div",{className:`company-page ${o?"dark-mode":""}`,children:[l.jsx("div",{className:"company-header-card",children:l.jsxs("div",{className:"company-meta",children:[l.jsx("h2",{className:"company-name",children:g}),l.jsxs("p",{className:"company-info",children:[f&&l.jsxs(l.Fragment,{children:["Country: ",f,l.jsx("br",{})]}),b&&l.jsxs(l.Fragment,{children:["Founded: ",new Date(b).toLocaleDateString(),l.jsx("br",{})]})]})]})}),l.jsxs("h3",{className:"company-anime-heading",children:["Anime produced by ",g]}),A.length>0?l.jsx("div",{className:"company-anime-grid",children:A.map(({animeId:D,title:Q,imageUrl:C})=>l.jsxs(be,{to:`/anime/${D}`,className:"company-anime-card",children:[l.jsx("img",{src:C||He,alt:`${Q} placeholder`,className:"anime-thumb"}),l.jsx("p",{className:"anime-title",children:Q})]},D))}):l.jsx("p",{className:"no-anime",children:"No anime found for this company."})]})}function Vm({anime:r,initialFavoriteStatus:o=!1}){const{user:d,token:c}=Je(),[h,v]=m.useState(o),[y,x]=m.useState(null),[g,f]=m.useState(!1),[b,A]=m.useState(!1),[D,Q]=m.useState(!1),C=["Watching","Completed","Planned to Watch","Dropped","On Hold"];m.useEffect(()=>{d&&fetch(`/api/anime-library/${r.id}`,{headers:{Authorization:`Bearer ${c}`}}).then(O=>{if(!O.ok&&O.status!==404)throw new Error("Server error");return O.json()}).then(O=>x(O.status)).catch(console.error)},[r.id,d,c]);const L=async O=>{if(O.preventDefault(),!!c){Q(!0);try{const T=await(await fetch("/api/favorites",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({entityType:"anime",entityId:+r.id})})).json();v(T.favorite)}catch(ee){console.error("Error toggling favorite:",ee)}finally{Q(!1)}}},R=async(O,ee,T=null)=>{if(O.preventDefault(),!!d){A(!0);try{ee==="add"?(await fetch("/api/anime-library",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({animeId:r.id,status:"Planned to Watch"})}),x("Planned to Watch")):ee==="update"?(await fetch(`/api/anime-library/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({status:T})}),x(T)):ee==="remove"&&(await fetch(`/api/anime-library/${r.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${c}`}}),x(null))}catch(Y){console.error("Library action error:",Y)}finally{A(!1),f(!1)}}};return l.jsxs("div",{className:"anime-card",children:[l.jsxs(be,{to:`/anime/${r.id}`,className:"anime-card-content",children:[l.jsx("img",{src:r.imageUrl||He,alt:r.title,className:"anime-card-image"}),l.jsx("h3",{className:"anime-card-title",children:r.title}),l.jsxs("div",{className:"anime-card-info",children:[l.jsxs("p",{className:"anime-card-episodes",children:["Episodes: ",r.episodes||"Unknown"]}),l.jsxs("p",{className:"anime-card-genre",children:["Genre: ",r.genre||"Not specified"]}),l.jsxs("p",{className:"anime-card-season",children:["Season: ",r.season||"Unknown"]})]})]}),d&&l.jsxs("div",{className:"anime-card-controls",onClick:O=>O.preventDefault(),children:[l.jsx("button",{className:`favorite-btn ${h?"active":""}`,onClick:L,title:h?"Remove from favorites":"Add to favorites",disabled:D,children:h?"❤️":"🤍"}),l.jsx("div",{className:"library-controls",children:y?l.jsxs(l.Fragment,{children:[l.jsx("select",{value:y,onChange:O=>R(O,"update",O.target.value),className:"status-select",disabled:b,children:C.map(O=>l.jsx("option",{value:O,children:O},O))}),l.jsx("button",{className:"remove-btn",onClick:O=>R(O,"remove"),disabled:b,children:"Remove"})]}):l.jsx("button",{className:"add-btn",onClick:O=>R(O,"add"),disabled:b,children:"Add"})})]})]})}function yy(){const{token:r,user:o}=Je(),d=_t(),[c,h]=m.useState([]),[v,y]=m.useState(!1),[x,g]=m.useState(null),[f,b]=m.useState("name"),[A,D]=m.useState("asc"),[Q,C]=m.useState("name"),[L,R]=m.useState("asc"),[O,ee]=m.useState([]);m.useEffect(()=>{o&&o.is_admin&&d("/admin",{replace:!0})},[o,d]),m.useEffect(()=>{if(!r){ee([]);return}fetch("/api/favorites",{headers:{Authorization:`Bearer ${r}`}}).then(Y=>Y.json()).then(Y=>{ee(Y)}).catch(console.error)},[r]),m.useEffect(()=>{(async()=>{y(!0),g(null);try{const _=await fetch(`/api/animes?sortField=${f}&sortOrder=${A}`);if(!_.ok)throw new Error(`Status ${_.status}`);const z=await _.json();h(z)}catch(_){g(`Failed to fetch anime: ${_.message}`)}finally{y(!1)}})()},[f,A]);const T=()=>{b(Q),D(L)};return l.jsxs("div",{className:"home-page",children:[l.jsxs("div",{className:"welcome-section",children:[l.jsx("h2",{children:"Welcome to AnimeKo"}),l.jsx("p",{children:"Discover and explore your favorite anime series and movies!"})]}),l.jsxs("section",{className:"results-section",children:[l.jsx("h3",{children:"All Anime"}),l.jsxs("div",{className:"sort-controls-container",children:[l.jsxs("div",{className:"sort-controls",children:[l.jsx("label",{htmlFor:"sortField",children:"Sort by:"}),l.jsxs("select",{id:"sortField",value:Q,onChange:Y=>C(Y.target.value),children:[l.jsx("option",{value:"name",children:"Name"}),l.jsx("option",{value:"rating",children:"Rating"}),l.jsx("option",{value:"release_date",children:"Release Date"}),l.jsx("option",{value:"rank",children:"Rank"})]}),l.jsx("label",{htmlFor:"sortOrder",children:"Order:"}),l.jsxs("select",{id:"sortOrder",value:L,onChange:Y=>R(Y.target.value),children:[l.jsx("option",{value:"asc",children:"Ascending"}),l.jsx("option",{value:"desc",children:"Descending"})]})]}),l.jsx("button",{onClick:T,children:"Apply"})]}),v&&l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading anime..."})]}),x&&l.jsx("p",{className:"error-message",children:x}),!v&&!x&&c.length===0&&l.jsx("p",{className:"no-results",children:"No anime available."}),l.jsx("div",{className:"anime-grid",children:c.map(Y=>l.jsx(Vm,{anime:Y,initialFavoriteStatus:O.some(_=>_.entityType==="anime"&&+_.entityId==+Y.id)},Y.id))})]})]})}const xy=({characterId:r,name:o,imageUrl:d,vaName:c,vaId:h,va_image_url:v})=>l.jsxs("div",{className:"cast-card",children:[l.jsx("div",{style:{textAlign:"center"},children:l.jsx("img",{src:d||"/src/images/image_not_available.jpg",alt:o,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"50%"},onError:y=>{y.target.onerror=null,y.target.src="/src/images/image_not_available.jpg"}})}),l.jsxs("div",{className:"cast-info",children:[r?l.jsx(be,{to:`/character/${r}`,className:"link",children:l.jsx("strong",{children:o})}):l.jsx("strong",{children:o}),c&&l.jsxs("div",{className:"va-info",children:[l.jsx("span",{children:"voiced by"}),h?l.jsxs(be,{to:`/va/${h}`,className:"va-link",children:[l.jsx("div",{className:"va-thumb-container",children:l.jsx("img",{src:v||"/src/images/image_not_available.jpg",alt:c,className:"va-thumb",style:{width:"100%",height:"100%",objectFit:"cover"},onError:y=>{y.target.onerror=null,y.target.src="/src/images/image_not_available.jpg"}})}),l.jsx("span",{children:c})]}):l.jsx("span",{style:{marginLeft:4},children:c})]})]})]});function by(){const[r,o]=m.useState([]),[d,c]=m.useState(!1),[h,v]=m.useState(null),y=vt(),[x,g]=m.useState("name"),[f,b]=m.useState("asc"),[A,D]=m.useState("name"),[Q,C]=m.useState("asc"),R=new URLSearchParams(y.search).get("type")||"anime",O=()=>{g(A),b(Q)};m.useEffect(()=>{(async()=>{c(!0),v(null);const Y=new URLSearchParams(y.search);R==="anime"?(Y.set("sortField",x),Y.set("sortOrder",f)):(Y.delete("sortField"),Y.delete("sortOrder"));try{const _=await fetch(`/api/search?${Y.toString()}`);if(!_.ok)throw new Error(`Status ${_.status}`);const z=await _.json();o(z)}catch(_){v(`Failed to fetch search results: ${_.message}`)}finally{c(!1)}})()},[y.search,x,f]);const ee=()=>R==="anime"?l.jsx("div",{className:"anime-grid",children:r.map(T=>l.jsx(Vm,{anime:T},T.id))}):R==="list"?l.jsx("div",{className:"anime-grid",children:r.map(T=>l.jsx(So,{list:T},T.id))}):R==="character"?l.jsx("div",{className:"anime-grid",children:r.map(T=>l.jsx(xy,{characterId:T.id,name:T.name,imageUrl:T.imageUrl,vaName:T.vaName,vaId:T.vaId,va_image_url:T.va_image_url},T.id))}):R==="va"?l.jsx("div",{className:"anime-grid",children:r.map(T=>l.jsxs("div",{className:"simple-card",children:[l.jsx("div",{style:{textAlign:"center"},children:l.jsx("img",{src:T.imageUrl||"/src/images/image_not_available.jpg",alt:T.name,style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"50%"}})}),l.jsx("h4",{children:l.jsx("a",{href:`/va/${T.id}`,className:"va-link",children:T.name})})]},T.id))}):R==="user"?l.jsx("div",{className:"anime-grid",children:r.map(T=>l.jsxs("div",{className:"simple-card",children:[l.jsx("h4",{children:l.jsx(be,{to:`/profile/${T.id}`,children:T.username})}),T.display_name&&l.jsxs("p",{children:["Display: ",T.display_name]})]},T.id))}):null;return l.jsxs("div",{className:"home-page",children:[" ",l.jsxs("section",{className:"results-section",children:[l.jsx("h3",{children:"Search Results"}),R==="anime"&&l.jsxs("div",{className:"sort-controls-container",children:[l.jsxs("div",{className:"sort-controls",children:[l.jsx("label",{htmlFor:"sortField",children:"Sort by:"}),l.jsxs("select",{id:"sortField",value:A,onChange:T=>D(T.target.value),children:[l.jsx("option",{value:"name",children:"Name"}),l.jsx("option",{value:"rating",children:"Rating"}),l.jsx("option",{value:"release_date",children:"Release Date"}),l.jsx("option",{value:"rank",children:"Rank"})]}),l.jsx("label",{htmlFor:"sortOrder",children:"Order:"}),l.jsxs("select",{id:"sortOrder",value:Q,onChange:T=>C(T.target.value),children:[l.jsx("option",{value:"asc",children:"Ascending"}),l.jsx("option",{value:"desc",children:"Descending"})]})]}),l.jsx("button",{onClick:O,children:"Apply"})]}),d&&l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading search results..."})]}),h&&l.jsx("p",{className:"error-message",children:h}),!d&&!h&&r.length===0&&l.jsx("p",{className:"no-results",children:"No results found for your search criteria."}),ee()]})]})}function jy(){return l.jsx("div",{className:"not-found-page",children:l.jsxs("div",{className:"not-found-container",children:[l.jsx("div",{className:"error-code",children:l.jsx("h1",{children:"404"})}),l.jsxs("div",{className:"error-message",children:[l.jsx("h2",{children:"Page Not Found"}),l.jsx("p",{children:"Sorry, the page you're looking for doesn't exist."}),l.jsx("p",{children:"It might have been moved, deleted, or you entered the wrong URL."})]}),l.jsxs("div",{className:"error-actions",children:[l.jsx(be,{to:"/",className:"home-button",children:"Go Back Home"}),l.jsx("button",{onClick:()=>window.history.back(),className:"back-button",children:"Go Back"})]}),l.jsx("div",{className:"anime-themed-message",children:l.jsx("p",{children:"🎌 Even the best anime detectives can't find this page! 🕵️‍♂️"})})]})})}function Sy(){const[r,o]=m.useState([]),[d,c]=m.useState(""),{token:h}=m.useContext(vi),{isDarkMode:v}=Wt();m.useEffect(()=>{h&&(async()=>{try{const g=await fetch("/api/lists",{headers:{Authorization:`Bearer ${h}`}});if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const f=await g.json();console.log("Fetched lists:",f),Array.isArray(f)?o(f):(console.error("Unexpected list response format:",f),o([]))}catch(g){console.error("Error fetching lists:",g),o([])}})()},[h]);const y=async x=>{x.preventDefault();const g=d.trim();if(g)try{const f=await fetch("/api/lists",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({title:g})});if(!f.ok){const A=await f.json().catch(()=>({}));throw new Error(A.message||"Failed to create list")}const b=await f.json();window.location.href=`/lists/${b.id}`}catch(f){console.error("Error creating list:",f),alert(f.message||"Failed to create list")}};return l.jsxs("div",{className:`my-lists-container ${v?"dark-mode":""}`,children:[l.jsx("h2",{children:"My Anime Lists"}),l.jsxs("form",{className:`create-list-form ${v?"dark-mode":""}`,onSubmit:y,children:[l.jsx("input",{type:"text",placeholder:"New list title",value:d,onChange:x=>c(x.target.value),required:!0}),l.jsx("button",{type:"submit",children:"Create List"})]}),r.length===0&&l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading your lists..."})]}),l.jsx("div",{className:"lists-grid",children:r.map(x=>l.jsx(So,{list:x},x.id))})]})}const Am=["All","Watching","Completed","Planned to Watch","Dropped","On Hold"];function Ny(){const{token:r}=m.useContext(vi),[o,d]=m.useState([]),[c,h]=m.useState(!0),[v,y]=m.useState(null),[x,g]=m.useState("All"),[f,b]=m.useState("");m.useEffect(()=>{(async()=>{if(!r){y("You must be logged in to view your library."),h(!1);return}h(!0),y(null);try{let L="/api/anime-library";x!=="All"&&(L+=`?status=${x}`);const R=await fetch(L,{headers:{Authorization:`Bearer ${r}`}});if(!R.ok){const ee=await R.json();throw new Error(ee.message||"Failed to fetch library")}const O=await R.json();d(O)}catch(L){console.error("Error fetching library:",L),y(L.message||"Failed to load your anime library.")}finally{h(!1)}})()},[r,x]);const A=async(C,L)=>{if(r)try{const R=await fetch(`/api/anime-library/${C}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({status:L})});if(!R.ok){const O=await R.json();throw new Error(O.message||"Failed to update status")}d(O=>O.map(ee=>ee.anime_id===C?{...ee,status:L}:ee))}catch(R){console.error("Error updating status:",R),alert(R.message)}},D=async C=>{if(r&&window.confirm("Are you sure you want to remove this anime from your library?"))try{const L=await fetch(`/api/anime-library/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}});if(!L.ok){const R=await L.json();throw new Error(R.message||"Failed to remove anime")}d(R=>R.filter(O=>O.anime_id!==C))}catch(L){console.error("Error removing anime:",L),alert(L.message)}};if(c)return l.jsx("div",{className:"anime-library-container",children:l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading your library..."})]})});if(v)return l.jsx("div",{className:"anime-library-container",children:l.jsx("p",{className:"error-message",children:v})});const Q=o.filter(C=>{const L=x==="All"||C.status===x,R=C.title.toLowerCase().includes(f.toLowerCase());return L&&R});return l.jsxs("div",{className:"anime-library-container",children:[l.jsx("div",{className:"refresh-notice",children:"⚠️ To see status changes made here, refresh the page"}),l.jsx("h2",{children:"My Anime Library"}),l.jsxs("div",{className:"filter-controls",children:[l.jsxs("div",{className:"filter-group",children:[l.jsx("label",{htmlFor:"status-filter",children:"Filter by Status:"}),l.jsx("select",{id:"status-filter",value:x,onChange:C=>g(C.target.value),children:Am.map(C=>l.jsx("option",{value:C,children:C},C))})]}),l.jsx("input",{type:"text",placeholder:"Search anime by title...",value:f,onChange:C=>b(C.target.value),className:"search-input"})]}),Q.length===0?l.jsx("p",{children:"No anime found matching your criteria."}):l.jsx("div",{className:"library-grid",children:Q.map(C=>l.jsxs("div",{className:"library-item-card",children:[l.jsxs(be,{to:`/anime/${C.anime_id}`,children:[l.jsx("img",{src:C.image_url||He,alt:`${C.title} poster`,className:"library-item-poster"}),l.jsx("h3",{children:C.title})]}),l.jsxs("p",{children:["Status: ",C.status]}),l.jsxs("div",{className:"library-item-actions",children:[l.jsx("select",{value:C.status,onChange:L=>A(C.anime_id,L.target.value),children:Am.filter(L=>L!=="All").map(L=>l.jsx("option",{value:L,children:L},L))}),l.jsx("button",{onClick:()=>D(C.anime_id),className:"remove-btn",children:"Remove"})]})]},C.anime_id))})]})}function Ey(){const{id:r}=xn(),{token:o,user:d}=Je(),[c,h]=m.useState({id:null,title:"",created_at:"",user_id:null,items:[]}),[v,y]=m.useState(""),[x,g]=m.useState([]),[f,b]=m.useState(!1),[A,D]=m.useState(!1),[Q,C]=m.useState(!0),[L,R]=m.useState(null),[O,ee]=m.useState(!1);m.useEffect(()=>{if(!o)return;const I="http://localhost:5000";C(!0),R(null),fetch(`${I}/api/lists/${r}`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(async G=>{if(!G.ok)throw new Error(`Failed to fetch list: ${G.status} ${G.statusText}`);return G.json()}).then(G=>{console.log("Fetched list data:",G),h({...G,items:Array.isArray(G.items)?G.items:[]}),C(!1)}).catch(G=>{console.error("[ListDetail] Error fetching list:",G),R(G.message),C(!1)})},[r,o]);const T=d&&c.user_id===d.user_id;m.useEffect(()=>{if(!v||!o||!A)return;const I="http://localhost:5000",G=setTimeout(()=>{b(!0),fetch(`${I}/api/animes?title=${encodeURIComponent(v)}`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}).then(re=>{if(!re.ok)throw new Error(`HTTP error! status: ${re.status}`);return re.json()}).then(re=>{g(Array.isArray(re)?re:[])}).catch(re=>{console.error("Search error:",re),g([])}).finally(()=>{b(!1)})},400);return()=>clearTimeout(G)},[v,o,A]);const Y=I=>I.image_url||I.anime?.image_url||He,_=async I=>{if(!T||!o)return;const G="http://localhost:5000";try{if(new Set(c.items.map(ne=>ne.anime_id)).has(I))return;const ce={anime_id:I,rank:(c.items.length>0?Math.max(...c.items.map(ne=>ne.rank||0)):0)+1,note:""},le=[...c.items,ce],k=await fetch(`${G}/api/lists/${r}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({title:c.title,animeEntries:le})});if(!k.ok){const ne=await k.json().catch(()=>({}));throw new Error(ne.error||`Failed to add anime: ${k.status}`)}const H=await k.json();h({...H,items:Array.isArray(H.items)?H.items:[]})}catch(re){console.error("Error adding anime:",re),R(re.message)}},z=async I=>{if(!T||!o)return;const G="http://localhost:5000";try{const re=c.items.filter(k=>k.anime_id!==I),ce=await fetch(`${G}/api/lists/${r}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({title:c.title,animeEntries:re})});if(!ce.ok){const k=await ce.json().catch(()=>({}));throw new Error(k.error||`Failed to remove anime: ${ce.status}`)}const le=await ce.json();h({...le,items:Array.isArray(le.items)?le.items:[]})}catch(re){console.error("Error removing anime:",re),R(re.message)}},F=(I,G,re)=>{if(!T)return;const ce=c.items.map(le=>le.anime_id===I?{...le,[G]:re}:le);h({...c,items:ce})},E=async()=>{if(!T||!o)return;const I="http://localhost:5000";try{const G=[...c.items].sort((ce,le)=>{const k=ce.rank||0,H=le.rank||0;return k!==H?k-H:ce.anime_id-le.anime_id}),re=await fetch(`${I}/api/lists/${r}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({title:c.title,animeEntries:G})});if(!re.ok){const ce=await re.json().catch(()=>({}));throw new Error(ce.error||`Failed to save changes: ${re.status}`)}h(ce=>({...ce,items:G}))}catch(G){console.error("Error saving changes:",G),R(G.message);try{const re=await fetch(`${I}/api/lists/${r}`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(re.ok){const ce=await re.json();h({...ce,items:Array.isArray(ce.items)?ce.items:[]})}}catch(re){console.error("Failed to refresh list after error:",re)}}},P=I=>{I.key==="Enter"&&(I.preventDefault(),D(!0))},te=async()=>{if(!T||!o||!window.confirm("Are you sure you want to delete this list? This action cannot be undone."))return;ee(!0);const I="http://localhost:5000";try{const G=await fetch(`${I}/api/lists/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!G.ok){const re=await G.json().catch(()=>({}));throw new Error(re.error||`Failed to delete list: ${G.status}`)}window.location.href="/my-lists"}catch(G){ee(!1),alert(G.message||"Failed to delete list")}};return Q?l.jsx("div",{className:"list-detail-container",children:l.jsx("div",{className:"spinner-container",children:l.jsx("div",{className:"spinner"})})}):L?l.jsx("div",{className:"list-detail-container",children:l.jsxs("div",{className:"error-state",children:[l.jsx("h3",{children:"Error loading list"}),l.jsx("p",{children:L}),l.jsx("button",{onClick:()=>window.location.reload(),children:"Retry"})]})}):l.jsxs("div",{className:"list-detail-container",children:[l.jsxs("div",{className:"list-header",children:[l.jsx("h2",{children:c.title}),l.jsxs("p",{className:"list-meta",children:["Created: ",new Date(c.created_at).toLocaleDateString(),c.items.length>0&&` • ${c.items.length} items`]}),T&&l.jsx("button",{className:"delete-list-btn",onClick:te,disabled:O,children:O?"Deleting...":"Delete List"})]}),l.jsx("div",{className:"anime-items",children:Array.isArray(c.items)&&c.items.length>0?c.items.sort((I,G)=>(I.rank||999)-(G.rank||999)).map(I=>l.jsxs("div",{className:"anime-card animecard-row",children:[l.jsx("div",{className:"animecard-img-col",children:l.jsx(be,{to:`/anime/${I.anime_id}`,className:"anime-link",children:l.jsxs("div",{className:"anime-image-container",children:[l.jsx("img",{src:Y(I),alt:I.anime_title||I.title||"Anime",className:"anime-thumbnail",onError:G=>{G.target.src=He}}),I.rank&&l.jsxs("div",{className:"rank-badge",children:["#",I.rank]})]})})}),l.jsxs("div",{className:"animecard-info-col",children:[l.jsx(be,{to:`/anime/${I.anime_id}`,className:"anime-link",children:l.jsx("h3",{className:"anime-title",children:I.anime_title||I.title||"Unknown Title"})}),l.jsx("div",{className:"anime-info",children:T?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"input-group",children:l.jsxs("label",{children:["Rank:",l.jsx("input",{type:"number",value:I.rank||"",min:"1",onChange:G=>F(I.anime_id,"rank",G.target.value),className:"rank-input"})]})}),l.jsx("div",{className:"input-group",children:l.jsxs("label",{children:["Note:",l.jsx("textarea",{value:I.note||"",onChange:G=>F(I.anime_id,"note",G.target.value),className:"note-input",placeholder:"Add a note...",rows:"2"})]})}),l.jsx("button",{className:"remove-btn",onClick:()=>z(I.anime_id),children:"Remove"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"anime-rank-text",children:["Rank: #",I.rank||"N/A"]}),I.note&&l.jsxs("div",{className:"anime-note-text",children:["Note: ",I.note]})]})})]})]},I.anime_id)):l.jsxs("div",{className:"empty-state",children:[l.jsx("p",{children:"This list is empty."}),T&&l.jsx("p",{children:"Start by searching for anime below to add to your list!"})]})}),T&&c.items.length>0&&l.jsx("div",{className:"save-container",children:l.jsx("button",{className:"save-btn",onClick:E,children:"Save All Changes"})}),T&&l.jsxs("div",{className:"search-add-section",children:[l.jsx("h3",{children:"Add Anime to List"}),l.jsx("input",{type:"text",placeholder:"Search anime by title...",value:v,onChange:I=>{y(I.target.value),D(!1)},onKeyDown:P,className:"search-input",list:"anime-suggestions"}),l.jsx("datalist",{id:"anime-suggestions",children:x.map(I=>l.jsx("option",{value:I.title},I.id||I.anime_id))}),f&&l.jsx("p",{className:"loading-text",children:"Searching…"}),A&&v&&l.jsx("div",{className:"search-results",children:x.length===0&&!f?l.jsxs("p",{children:['No results found for "',v,'".']}):x.map(I=>{const G=I.id||I.anime_id,re=c.items.some(ce=>ce.anime_id===G);return l.jsxs("div",{className:"anime-card search-card",children:[l.jsx("img",{src:I.imageUrl||He,alt:I.title,className:"anime-thumbnail-small",onError:ce=>{ce.target.src=He}}),l.jsx("h4",{className:"anime-title-small",children:I.title}),l.jsx("button",{className:`add-btn ${re?"added":""}`,onClick:()=>_(G),disabled:re,children:re?"Already Added":"Add to List"})]},G)})})]})]})}function _y(){const[r,o]=m.useState([]),[d,c]=m.useState(!0),[h,v]=m.useState(null),[y,x]=m.useState(""),g=m.useCallback(async b=>{c(!0),v(null);const A=b?`/api/lists/search/${encodeURIComponent(b)}`:"/api/lists/recent";try{const D=await fetch(A);if(!D.ok)throw new Error(`HTTP error! status: ${D.status}`);const Q=await D.json();o(Array.isArray(Q)?Q:[])}catch(D){v(D.message),o([])}finally{c(!1)}},[]);m.useEffect(()=>{g("")},[g]);const f=b=>{b.preventDefault(),g(y.trim())};return l.jsxs("div",{className:"list-search-container",children:[l.jsx("h2",{children:"Find Anime Lists"}),l.jsxs("form",{onSubmit:f,className:"search-form",children:[l.jsx("input",{type:"text",placeholder:"Search by keyword...",value:y,onChange:b=>x(b.target.value),className:"search-input"}),l.jsx("button",{type:"submit",className:"search-button",children:"Search"})]}),d&&l.jsx("div",{className:"spinner-container",children:l.jsx("div",{className:"spinner"})}),h&&l.jsxs("p",{className:"error-message",children:["Error: ",h]}),!d&&!h&&l.jsx("div",{className:"lists-grid",children:r.length>0?r.map(b=>l.jsx("div",{className:"list-card",children:l.jsxs(be,{to:`/lists/${b.id}`,className:"list-link",children:[l.jsx("h3",{className:"list-title",children:b.title}),l.jsxs("p",{className:"list-owner",children:["by ",l.jsx(be,{to:`/profile/${b.user_id}`,children:b.owner_username})]}),l.jsxs("p",{className:"list-item-count",children:[b.item_count," items"]}),l.jsxs("p",{className:"list-created-date",children:["Created: ",new Date(b.created_at).toLocaleDateString()]})]})},b.id)):l.jsx("p",{children:"No lists found."})})]})}const wy=({searchQuery:r})=>{const{token:o}=Je(),{isDarkMode:d}=Wt(),[c,h]=m.useState([]),[v,y]=m.useState(!0),[x,g]=m.useState(""),[f,b]=m.useState({title:"",alternative_title:"",synopsis:"",release_date:"",episodes:"",season:"",trailer_url_yt_id:"",company_id:"",image_url:""}),[A,D]=m.useState(null),[Q,C]=m.useState(!1),[L,R]=m.useState([]),[O,ee]=m.useState(""),[T,Y]=m.useState(!1),[_,z]=m.useState([]),[F,E]=m.useState([]),[P,te]=m.useState(""),[I,G]=m.useState(!1),[re,ce]=m.useState(!1),[le,k]=m.useState(!1),H=m.useRef(null),ne=m.useRef(null);m.useEffect(()=>{ae(),fe(),xe();const S=W=>{H.current&&!H.current.contains(W.target)&&Y(!1),ne.current&&!ne.current.contains(W.target)&&G(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const xe=async()=>{try{const S=await fetch("http://localhost:5000/api/genre");if(S.ok){const W=await S.json(),ie=Array.isArray(W)?W.map(de=>({id:de.id||de.genre_id,genre_id:de.genre_id||de.id,name:de.name||de.genre_name||"Unnamed Genre"})):[];z(ie)}}catch(S){console.error("Error fetching genres:",S),Oe("Failed to load genres")}},N=S=>{E(W=>{const ie=S.genre_id||S.id;return W.some(We=>(We.genre_id||We.id)===ie)?W.filter(We=>(We.genre_id||We.id)!==ie):[...W,{id:S.id||S.genre_id,genre_id:S.genre_id||S.id,name:S.name||S.genre_name||"Unnamed Genre"}]})},V=S=>{E(W=>W.filter(ie=>(ie.genre_id||ie.id)!==S))},se=m.useCallback(S=>{if(S.genres)E(S.genres);else if(S.genre){const W=S.genre.split(",").map(de=>de.trim()),ie=_.filter(de=>W.includes(de.name));E(ie)}else E([])},[_]),ae=async()=>{try{console.log("Fetching anime list...");const S=await fetch("http://localhost:5000/api/animes/admin",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!S.ok){const ie=await S.text();throw new Error("Failed to fetch anime list: "+ie)}const W=await S.json();console.log(W),h(Array.isArray(W)?W:[])}catch(S){g(S.message||"Failed to fetch anime list"),console.error("Fetch error:",S)}finally{y(!1)}},fe=async()=>{try{console.log("Fetching companies...");const S=await fetch("http://localhost:5000/api/company");if(!S.ok){const de=await S.text();throw new Error("Failed to fetch companies: "+de)}const W=await S.json();Array.isArray(W)&&W.length>0&&console.log("Sample company data:",{id:W[0].id,company_id:W[0].company_id,name:W[0].name,raw_data:W[0]});const ie=Array.isArray(W)?W.map(de=>({...de,id:de.id||de.company_id,company_id:de.company_id||de.id})):[];console.log("Companies loaded:",{count:ie.length,sampleIds:ie.slice(0,3).map(de=>de.id)}),R(ie)}catch(S){console.error("Error fetching companies:",S),g("Failed to fetch companies")}},ge=S=>{const{name:W,value:ie}=S.target;b(de=>({...de,[W]:ie})),W==="image_url"&&k(!1)},he=()=>{ce(!1),k(!1)},et=()=>{ce(!1),k(!0)},De=()=>{f.image_url&&f.image_url.trim()&&(ce(!0),k(!1))},Oe=S=>{g(S),setTimeout(()=>{g("")},5e3)},Pt=S=>{g(""),g(`SUCCESS: ${S}`),setTimeout(()=>{g("")},3e3)},gt=async S=>{if(S.preventDefault(),y(!0),g(""),!f.title.trim()){Oe("Anime title is required"),y(!1);return}try{const W=A?`http://localhost:5000/api/animes/${A}`:"http://localhost:5000/api/animes",ie=A?"PUT":"POST",de={title:f.title,synopsis:f.synopsis,release_date:f.release_date||null,company_id:f.company_id||null,alternative_title:f.alternative_title||null,season:f.season||null,episodes:f.episodes?parseInt(f.episodes):null,trailer_url_yt_id:f.trailer_url_yt_id||null,image_url:f.image_url||null,genres:F.map(ca=>({genre_id:ca.genre_id||ca.id,name:ca.name}))},We=await fetch(W,{method:ie,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(de)});if(!We.ok){const ca=await We.json().catch(()=>({}));Oe(ca.message||(A?"Failed to update anime":"Failed to add anime")),y(!1);return}await ae(),Pt(A?"Anime updated successfully!":"Anime created successfully!"),A||Mt()}catch(W){Oe(W.message)}finally{y(!1)}},It=async S=>{if(!S)return;const W=S.anime_id||S.id;if(!W){Oe("Invalid anime data: missing ID");return}try{C(!0),window.scrollTo({top:0,behavior:"smooth"}),b({title:S.title||"",alternative_title:"",synopsis:"",release_date:"",episodes:"",season:S.season||"",trailer_url_yt_id:"",company_id:S.company_id?String(S.company_id):"",image_url:""}),D(W);const ie=await fetch(`http://localhost:5000/api/animes/${W}/details`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!ie.ok)throw new Error("Failed to fetch anime details");const de=await ie.json();b({title:de.title||"",alternative_title:de.alternative_title||"",synopsis:de.synopsis||"",release_date:de.release_date?de.release_date.split("T")[0]:"",episodes:de.episodes?String(de.episodes):"",season:de.season||"",trailer_url_yt_id:de.trailer_url_yt_id||"",company_id:de.company_id?String(de.company_id):"",image_url:de.imageUrl||""}),se(de)}catch(ie){console.error("Error loading anime details:",ie),Oe("Error loading anime details")}finally{C(!1)}},sa=async S=>{if(!S){Oe("Invalid anime ID");return}if(window.confirm("Are you sure you want to delete this anime?"))try{const W=Number(S);if(isNaN(W))throw new Error("Invalid anime ID format");const ie=await fetch(`http://localhost:5000/api/animes/${W}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!ie.ok){const de=await ie.json().catch(()=>({}));Oe(de.message||"Failed to delete anime");return}await ae(),g("")}catch(W){console.error("Delete error:",W),Oe(W.message||"Failed to delete anime")}},Mt=()=>{b({title:"",synopsis:"",release_date:"",company_id:"",alternative_title:"",season:"",episodes:"",trailer_url_yt_id:"",image_url:""}),D(null),g(""),E([]),k(!1),ce(!1)},ra=c.filter(S=>S.title.toLowerCase().includes(r.toLowerCase()));return v?l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading anime data..."})]}):l.jsxs("div",{className:"admin-tab-content",children:[l.jsxs("div",{className:"admin-form-section",children:[l.jsx("h2",{children:A?"Edit Anime":"Add New Anime"}),x&&l.jsx("div",{className:`alert mt-2 ${x.startsWith("SUCCESS:")?"alert-success":"alert-danger"}`,children:x.startsWith("SUCCESS:")?x.substring(8):x}),l.jsxs("form",{onSubmit:gt,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Title *"}),l.jsx("input",{type:"text",name:"title",className:"form-control",value:f.title,onChange:ge,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Alternative Title"}),l.jsx("input",{type:"text",name:"alternative_title",className:"form-control",value:f.alternative_title,onChange:ge})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Synopsis"}),l.jsx("textarea",{name:"synopsis",className:"form-control",value:f.synopsis,onChange:ge,rows:"4"})]}),l.jsxs("div",{className:"row align-items-start",children:[l.jsxs("div",{className:"col-md-8",children:[l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Episodes"}),l.jsx("input",{type:"number",name:"episodes",className:"form-control",value:f.episodes,onChange:ge,min:"1"})]})}),l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Season"}),l.jsx("input",{type:"text",name:"season",className:"form-control",value:f.season,onChange:ge,placeholder:"e.g., Fall 2023, Winter 2024"})]})})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"YouTube Trailer ID"}),l.jsx("input",{type:"text",name:"trailer_url_yt_id",className:"form-control",value:f.trailer_url_yt_id,onChange:ge,placeholder:"e.g., dQw4w9WgXcQ"})]})}),l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Release Date"}),l.jsx("input",{type:"date",name:"release_date",className:"form-control",value:f.release_date,onChange:ge})]})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Image URL"}),l.jsx("input",{type:"url",name:"image_url",className:"form-control",value:f.image_url,onChange:ge,placeholder:"https://example.com/anime-image.jpg"}),l.jsx("div",{className:"anime-url-hint",children:"Paste a direct link to an anime poster image (JPG, PNG, WEBP)"})]})]}),l.jsx("div",{className:"col-md-4",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Image Preview"}),l.jsx("div",{className:`anime-image-preview-compact ${f.image_url&&f.image_url.trim()&&!le?"has-image":""} ${le?"has-error":""}`,children:f.image_url&&f.image_url.trim()?re?l.jsx("div",{className:"anime-image-loading",children:"Loading image..."}):le?l.jsx("div",{className:"anime-image-error",children:"Failed to load image"}):l.jsx("img",{src:f.image_url,alt:"Anime preview",onLoad:he,onError:et,onLoadStart:De}):l.jsx("div",{className:"anime-image-placeholder",children:"Preview will appear here"})})]})})]}),l.jsxs("div",{className:"form-group admin-dropdown-wrapper",ref:H,children:[l.jsx("label",{children:"Production Company"}),l.jsxs("div",{className:"dropdown",children:[l.jsx("div",{className:`form-control admin-dropdown-trigger ${T?"open":""}`,onClick:()=>{Y(!T),ee("")},children:L.find(S=>S.id==f.company_id)?.name||"Select a company"}),T&&l.jsxs("div",{className:"admin-dropdown-menu",children:[l.jsx("div",{className:"admin-dropdown-search",children:l.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Search companies...",value:O,onChange:S=>ee(S.target.value),autoFocus:!0,onClick:S=>S.stopPropagation()})}),l.jsxs("div",{className:"admin-dropdown-list",children:[L.filter(S=>!O||S.name&&S.name.toLowerCase().includes(O.toLowerCase())).map(S=>l.jsx("button",{type:"button",className:"admin-dropdown-item",onClick:W=>{W.stopPropagation(),b(ie=>({...ie,company_id:S.id})),Y(!1)},children:S.name},S.id)),L.filter(S=>!O||S.name&&S.name.toLowerCase().includes(O.toLowerCase())).length===0&&l.jsx("div",{className:"admin-dropdown-item no-results",children:"No companies found"})]})]})]})]}),l.jsx("style",{jsx:!0,children:`
                        .dropdown {
                            position: relative;
                        }
                        .dropdown-menu {
                            position: absolute;
                            top: 100%;
                            left: 0;
                            z-index: 1000;
                            background: white;
                            border: 1px solid #ced4da;
                            border-radius: 0.25rem;
                            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
                            width: 100%;
                            box-sizing: border-box;
                        }
                        .dropdown-item {
                            display: block;
                            width: 100%;
                            padding: 0.25rem 1.5rem;
                            clear: both;
                            font-weight: 400;
                            color: #212529;
                            text-align: inherit;
                            white-space: nowrap;
                            background-color: transparent;
                            border: 0;
                            text-align: left;
                        }
                        .dropdown-item:hover {
                            background-color: #f8f9fa;
                            color: #16181b;
                            text-decoration: none;
                        }
                        .dropdown-item:active {
                            background-color: #e9ecef;
                        }
                    `}),l.jsxs("div",{className:"form-group",ref:ne,children:[l.jsx("label",{children:"Genres"}),l.jsxs("div",{className:"dropdown",children:[l.jsx("div",{className:"form-control",style:{minHeight:"38px",cursor:"pointer",display:"flex",flexWrap:"wrap",gap:"4px",alignItems:"center",position:"relative",zIndex:1},onClick:S=>{S.stopPropagation(),G(!I),te("")},children:F.length===0?l.jsx("span",{className:"text-muted",children:"Select genres"}):F.map(S=>l.jsxs("span",{className:"badge me-1 d-inline-flex align-items-center",style:{cursor:"pointer",backgroundColor:d?"#34495e":"#e0f2f7",color:d?"#ecf0f1":"#2c3e50",padding:"0.3em 0.6em",borderRadius:"0.25rem",fontSize:"0.85em",fontWeight:"500",border:`1px solid ${d?"#2c3e50":"#a7d9ed"}`},onClick:W=>{W.stopPropagation(),V(S.genre_id||S.id)},children:[S.name,l.jsx(ul,{size:14,className:"ms-1"})]},S.genre_id||S.id))}),I&&l.jsxs("div",{className:"dropdown-menu show p-2",style:{width:"100%"},children:[l.jsx("input",{type:"text",className:"form-control form-control-sm mb-2",placeholder:"Search genres...",value:P,onChange:S=>te(S.target.value),autoFocus:!0,onClick:S=>S.stopPropagation(),style:{width:"100%",boxSizing:"border-box"}}),l.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",padding:"8px"},onClick:S=>S.stopPropagation(),children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",padding:"4px",position:"relative",zIndex:2},children:[_.filter(S=>!P||S.name&&S.name.toLowerCase().includes(P.toLowerCase())).map(S=>{const W=F.some(ie=>(ie.genre_id||ie.id)===(S.genre_id||S.id));return l.jsxs("div",{onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),N(S)},onMouseDown:ie=>ie.preventDefault(),style:{cursor:"pointer",display:"flex",alignItems:"center",padding:"2px 8px",borderRadius:"4px",backgroundColor:W?d?"#495057":"#e9ecef":"transparent",border:"1px solid #dee2e6",fontSize:"0.9rem",flexShrink:0,userSelect:"none"},children:[l.jsx("span",{style:{marginRight:"6px"},children:S.name}),l.jsx("input",{type:"checkbox",className:"form-check-input",checked:W,onChange:ie=>{ie.stopPropagation(),N(S)},onClick:ie=>ie.stopPropagation(),style:{width:"14px",height:"14px",margin:0,cursor:"pointer"}})]},S.genre_id||S.id)}),_.filter(S=>!P||S.name&&S.name.toLowerCase().includes(P.toLowerCase())).length===0&&l.jsx("div",{className:"text-muted",style:{padding:"8px"},children:"No genres found"})]})})]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:v,children:[A?"Update":"Add"," Anime"]}),A&&l.jsx("button",{type:"button",onClick:Mt,className:"btn btn-secondary",children:"Cancel"})]})]})]}),l.jsxs("div",{className:"admin-list-section",children:[l.jsx("h2",{children:"Anime List"}),ra.length===0?l.jsx("p",{children:"No anime found."}):l.jsxs("div",{className:"admin-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{className:"col-title",children:"Title"}),l.jsx("div",{className:"col-season",children:"Season"}),l.jsx("div",{className:"col-company",children:"Company"}),l.jsx("div",{className:"col-actions",children:"Actions"})]}),ra.map(S=>l.jsxs("div",{className:"table-row",children:[l.jsx("div",{className:"col-title",children:S.title}),l.jsx("div",{className:"col-season",children:S.season||"N/A"}),l.jsx("div",{className:"col-company",children:S.company_name||"Unknown"}),l.jsxs("div",{className:"col-actions",children:[l.jsx("button",{type:"button",onClick:()=>It(S),className:"btn btn-edit btn-sm",disabled:v,children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>sa(S.anime_id),className:"btn btn-delete btn-sm",disabled:v,children:"Delete"})]})]},S.anime_id))]})]})]})},Ay=({searchQuery:r})=>{const{token:o}=Je(),[d,c]=m.useState([]),[h,v]=m.useState(!0),[y,x]=m.useState(""),[g,f]=m.useState({name:"",description:""}),[b,A]=m.useState(null);m.useEffect(()=>{D()},[]);const D=async()=>{console.log("Fetching genres..."),v(!0);try{const _=await fetch("/api/genre");if(console.log("Genres response status:",_.status),!_.ok){const E=await _.text();throw console.error("Failed to fetch genres:",E),new Error("Failed to fetch genres")}const z=await _.json();console.log("Fetched genres:",z);const F=Array.isArray(z)?z.map(E=>({...E,genre_id:E.genre_id||E.id,id:E.genre_id||E.id})):[];console.log("Formatted genres:",F),c(F),x("")}catch(_){console.error("Fetch error:",_),x(_.message||"Failed to load genres")}finally{v(!1)}},Q=_=>{const{name:z,value:F}=_.target;f(E=>({...E,[z]:F}))},C=_=>{x(_),setTimeout(()=>{x("")},5e3)},L=_=>{x(""),x(`SUCCESS: ${_}`),setTimeout(()=>{x("")},3e3)},R=async _=>{if(_.preventDefault(),console.log("Form submission started",{formData:g,editingId:b}),v(!0),x(""),!g.name.trim()){const E="Genre name is required";console.error("Validation error:",E),C(E),v(!1);return}const z=b?`/api/genre/${b}`:"/api/genre",F=b?"PUT":"POST";try{console.log(`Sending ${F} request to:`,z);const E={name:g.name.trim(),description:g.description||null};console.log("Request payload:",E);const P=await fetch(z,{method:F,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(E)}),te=await P.json().catch(()=>({}));if(console.log("API response:",{status:P.status,data:te}),!P.ok){const G=te.message||(b?"Failed to update genre":"Failed to add genre");throw console.error("API error:",G),new Error(G)}console.log("Genre operation successful, refreshing list..."),await D(),L(b?"Genre updated successfully!":"Genre created successfully!"),b||T(),console.log("Form handled and list refreshed")}catch(E){console.error("Error in handleSubmit:",E),C(E.message||"An error occurred")}finally{v(!1)}},O=_=>{if(console.log("Editing genre:",_),!_){console.error("No genre data provided");return}const z=_.genre_id||_.id;if(!z){const F="Invalid genre data: missing ID";console.error(F,_),C(F);return}window.scrollTo({top:0,behavior:"smooth"}),console.log("Setting form data for genre ID:",z),f({name:_.name||"",description:_.description||""}),A(z),document.querySelector(".admin-form-section")?.scrollIntoView({behavior:"smooth"})},ee=async _=>{if(console.log("Deleting genre ID:",_),!_){const z="Invalid genre ID";console.error(z),C(z);return}if(!window.confirm("Are you sure you want to delete this genre? This action cannot be undone.")){console.log("Deletion cancelled by user");return}try{const z=Number(_);if(isNaN(z))throw new Error("Invalid genre ID format");console.log(`Sending DELETE request for genre ID: ${z}`);const F=await fetch(`/api/genre/${z}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}}),E=await F.json().catch(()=>({}));if(console.log("Delete response:",{status:F.status,data:E}),!F.ok){const P=E.message||"Failed to delete genre";throw console.error("Delete failed:",P),new Error(P)}console.log("Genre deleted successfully, refreshing list..."),await D(),x(""),C("Genre deleted successfully")}catch(z){console.error("Delete error:",z),C(z.message||"Failed to delete genre")}},T=()=>{f({name:"",description:""}),A(null),x("")},Y=d.filter(_=>_.name.toLowerCase().includes(r.toLowerCase()));return h?l.jsx("div",{className:"loading",children:"Loading..."}):l.jsxs("div",{className:"admin-tab-content",children:[l.jsxs("div",{className:"admin-form-section",children:[l.jsx("h2",{children:b?"Edit Genre":"Add New Genre"}),y&&l.jsx("div",{className:`alert mt-2 ${y.startsWith("SUCCESS:")?"alert-success":"alert-danger"}`,children:y.startsWith("SUCCESS:")?y.substring(8):y}),l.jsxs("form",{onSubmit:R,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",className:"form-control",value:g.name,onChange:Q,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Description"}),l.jsx("textarea",{name:"description",className:"form-control",value:g.description,onChange:Q,rows:"3"})]}),l.jsxs("div",{className:"form-actions",children:[l.jsxs("button",{type:"submit",className:"btn btn-primary",children:[b?"Update":"Add"," Genre"]}),b&&l.jsx("button",{type:"button",onClick:T,className:"btn btn-secondary",children:"Cancel"})]})]})]}),l.jsxs("div",{className:"admin-list-section",children:[l.jsx("h2",{children:"Genre List"}),Y.length===0?l.jsx("p",{children:"No genres found."}):l.jsxs("div",{className:"admin-table genre-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{children:"Name"}),l.jsx("div",{children:"Description"}),l.jsx("div",{children:"Actions"})]}),Y.map(_=>l.jsxs("div",{className:"table-row",children:[l.jsx("div",{children:_.name}),l.jsx("div",{children:_.description||"No description"}),l.jsxs("div",{className:"table-actions",children:[l.jsx("button",{type:"button",onClick:()=>O(_),className:"btn btn-edit btn-sm",disabled:h,children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>ee(_.genre_id),className:"btn btn-delete btn-sm",disabled:h,children:"Delete"})]})]},_.genre_id))]})]})]})},Cy=({searchQuery:r})=>{const{token:o}=Je(),[d,c]=m.useState([]),[h,v]=m.useState(!0),[y,x]=m.useState(""),[g,f]=m.useState({name:"",country:"",founded:""}),[b,A]=m.useState(null);m.useEffect(()=>{D()},[]);const D=async()=>{try{const _=await fetch("http://localhost:5000/api/company");if(!_.ok)throw new Error("Failed to fetch companies");const z=await _.json(),F=Array.isArray(z)?z.map(E=>({...E,company_id:E.company_id||E.id,id:E.company_id||E.id})):[];c(F)}catch(_){x(_.message),console.error("Fetch error:",_)}finally{v(!1)}},Q=_=>{const{name:z,value:F}=_.target;f(E=>({...E,[z]:F}))},C=_=>{x(_),setTimeout(()=>{x("")},5e3)},L=_=>{x(""),x(`SUCCESS: ${_}`),setTimeout(()=>{x("")},3e3)},R=async _=>{if(_.preventDefault(),v(!0),x(""),!g.name.trim()){C("Company name is required"),v(!1);return}const z=b?`http://localhost:5000/api/company/${b}`:"http://localhost:5000/api/company",F=b?"PUT":"POST";try{const E=await fetch(z,{method:F,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({name:g.name.trim(),country:g.country.trim()||null,founded:g.founded||null})});if(!E.ok){const te=await E.json().catch(()=>({}));C(te.message||(b?"Failed to update company":"Failed to add company")),v(!1);return}await D(),L(b?"Company updated successfully!":"Company created successfully!"),b||T()}catch(E){C(E.message)}finally{v(!1)}},O=_=>{if(!_)return;const z=_.company_id||_.id;if(!z){C("Invalid company data: missing ID");return}window.scrollTo({top:0,behavior:"smooth"}),f({name:_.name||"",country:_.country||"",founded:_.founded?_.founded.split("T")[0]:""}),A(z)},ee=async _=>{if(!_){C("Invalid company ID");return}if(window.confirm("Are you sure you want to delete this company? This will remove the company record."))try{const z=Number(_);if(isNaN(z)){C("Invalid company ID format");return}const F=await fetch(`http://localhost:5000/api/company/${z}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`}});if(!F.ok){const E=await F.json().catch(()=>({}));C(E.message||"Failed to delete company");return}await D(),x("")}catch(z){C(z.message||"Failed to delete company")}},T=()=>{f({name:"",country:"",founded:""}),A(null),x("")},Y=d.filter(_=>_.name.toLowerCase().includes(r.toLowerCase()));return h?l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading company data..."})]}):l.jsxs("div",{className:"admin-tab-content",children:[y&&l.jsx("div",{className:`alert ${y.startsWith("SUCCESS:")?"alert-success":"alert-danger"}`,children:y.startsWith("SUCCESS:")?y.substring(8):y}),l.jsxs("div",{className:"admin-form-section",children:[l.jsx("h2",{children:b?"Edit Company":"Add New Company"}),l.jsxs("form",{onSubmit:R,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",className:"form-control",value:g.name,onChange:Q,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Country"}),l.jsx("input",{type:"text",name:"country",className:"form-control",value:g.country,onChange:Q})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Founded Date"}),l.jsx("input",{type:"date",name:"founded",className:"form-control",value:g.founded,onChange:Q})]}),l.jsxs("div",{className:"form-actions",children:[l.jsxs("button",{type:"submit",className:"btn btn-primary",children:[b?"Update":"Add"," Company"]}),b&&l.jsx("button",{type:"button",onClick:T,className:"btn btn-secondary",children:"Cancel"})]})]})]}),l.jsxs("div",{className:"admin-list-section",children:[l.jsx("h2",{children:"Company List"}),Y.length===0?l.jsx("p",{children:"No companies found."}):l.jsxs("div",{className:"admin-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{className:"col-name",children:"Name"}),l.jsx("div",{className:"col-country",children:"Country"}),l.jsx("div",{className:"col-founded",children:"Founded"}),l.jsx("div",{className:"col-actions",children:"Actions"})]}),Y.map(_=>l.jsxs("div",{className:"table-row",children:[l.jsx("div",{className:"col-name",children:_.name}),l.jsx("div",{className:"col-country",children:_.country||"N/A"}),l.jsx("div",{className:"col-founded",children:_.founded?new Date(_.founded).getFullYear():"N/A"}),l.jsxs("div",{className:"col-actions",children:[l.jsx("button",{type:"button",onClick:()=>O(_),className:"btn btn-edit btn-sm",disabled:h,children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>ee(_.company_id),className:"btn btn-delete btn-sm",disabled:h,children:"Delete"})]})]},_.company_id))]})]})]})},Ty=({searchQuery:r})=>{const{token:o}=Je(),[d,c]=m.useState([]),[h,v]=m.useState(!0),[y,x]=m.useState(""),[g,f]=m.useState({name:"",birth_date:"",nationality:"",image_url:""}),[b,A]=m.useState(null),[D,Q]=m.useState(!1),[C,L]=m.useState(!1);m.useEffect(()=>{R()},[]);const R=async()=>{try{v(!0);const G=await fetch("http://localhost:5000/api/voice-actors",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!G.ok){const le=await G.json().catch(()=>({}));throw new Error(le.message||"Failed to fetch voice actors")}const re=await G.json();console.log("Fetched voice actors:",re);const ce=Array.isArray(re)?re:re.results||re.voiceActors||[];c(ce),x("")}catch(G){console.error("Error fetching voice actors:",G),x(G.message||"Failed to load voice actors"),c([])}finally{v(!1)}},O=G=>{const{name:re,value:ce}=G.target;f(le=>({...le,[re]:ce})),re==="image_url"&&L(!1)},ee=()=>{Q(!1),L(!1)},T=()=>{Q(!1),L(!0)},Y=()=>{g.image_url&&g.image_url.trim()&&(Q(!0),L(!1))},_=G=>{x(G),setTimeout(()=>{x("")},5e3)},z=G=>{x(""),x(`SUCCESS: ${G}`),setTimeout(()=>{x("")},3e3)},F=async G=>{if(G.preventDefault(),v(!0),x(""),!g.name.trim()){_("Voice actor name is required"),v(!1);return}const re=b?`http://localhost:5000/api/voice-actors/${b}`:"http://localhost:5000/api/voice-actors",ce=b?"PUT":"POST";try{const le=await fetch(re,{method:ce,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({name:g.name.trim(),birthDate:g.birth_date||null,nationality:g.nationality.trim()||null,image_url:g.image_url||null})});if(!le.ok){const H=await le.json().catch(()=>({}));throw new Error(H.message||(b?"Failed to update voice actor":"Failed to add voice actor"))}await R(),z(b?"Voice actor updated successfully!":"Voice actor created successfully!"),b||te()}catch(le){_(le.message)}finally{v(!1)}},E=G=>{if(!G){_("No voice actor data provided");return}const re=G.id||G.voice_actor_id;if(!re){console.error("Voice actor data missing ID:",G),_("Invalid voice actor data: missing ID");return}try{window.scrollTo({top:0,behavior:"smooth"});let ce="";const le=G.birth_date||G.birthDate;if(le){const k=new Date(le);isNaN(k.getTime())||(ce=k.toISOString().split("T")[0])}f({name:G.name||"",birth_date:ce,nationality:G.nationality||"",image_url:G.imageUrl||""}),A(re)}catch(ce){console.error("Error formatting voice actor data:",ce),_("Error loading voice actor data")}},P=async G=>{if(!G){_("Invalid voice actor ID");return}if(window.confirm("Are you sure you want to delete this voice actor? This will remove all their associated roles."))try{const re=Number(G);if(isNaN(re)){_("Invalid voice actor ID format");return}v(!0);const ce=await fetch(`http://localhost:5000/api/voice-actors/${re}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!ce.ok){const le=await ce.json().catch(()=>({}));throw new Error(le.message||"Failed to delete voice actor")}await R(),x(""),x("Voice actor deleted successfully"),setTimeout(()=>x(""),3e3)}catch(re){console.error("Delete error:",re),_(re.message||"Failed to delete voice actor")}finally{v(!1)}},te=()=>{f({name:"",birth_date:"",nationality:"",image_url:""}),A(null),x(""),L(!1),Q(!1)},I=(d||[]).filter(G=>G?(G.name||"").toLowerCase().includes((r||"").toLowerCase()):!1);return h?l.jsx("div",{className:"loading",children:"Loading..."}):l.jsxs("div",{className:"admin-tab-content",children:[y&&l.jsx("div",{className:`alert ${y.startsWith("SUCCESS:")?"alert-success":"alert-danger"}`,children:y.startsWith("SUCCESS:")?y.substring(8):y}),l.jsxs("div",{className:"admin-form-section",children:[l.jsx("h2",{children:b?"Edit Voice Actor":"Add New Voice Actor"}),l.jsxs("form",{onSubmit:F,children:[l.jsxs("div",{className:"row align-items-start",children:[l.jsxs("div",{className:"col-md-8",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",className:"form-control",value:g.name,onChange:O,required:!0})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Birth Date"}),l.jsx("input",{type:"date",name:"birth_date",className:"form-control",value:g.birth_date,onChange:O})]})}),l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Nationality"}),l.jsx("input",{type:"text",name:"nationality",className:"form-control",value:g.nationality,onChange:O})]})})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Image URL"}),l.jsx("input",{type:"url",name:"image_url",className:"form-control",value:g.image_url,onChange:O,placeholder:"https://example.com/voice-actor-image.jpg"}),l.jsx("div",{className:"anime-url-hint",children:"Paste a direct link to a voice actor image (JPG, PNG, WEBP)"})]})]}),l.jsx("div",{className:"col-md-4",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Image Preview"}),l.jsx("div",{className:`anime-image-preview-compact ${g.image_url&&g.image_url.trim()&&!C?"has-image":""} ${C?"has-error":""}`,children:g.image_url&&g.image_url.trim()?D?l.jsx("div",{className:"anime-image-loading",children:"Loading image..."}):C?l.jsx("div",{className:"anime-image-error",children:"Failed to load image"}):l.jsx("img",{src:g.image_url,alt:"Voice Actor preview",onLoad:ee,onError:T,onLoadStart:Y}):l.jsx("div",{className:"anime-image-placeholder",children:"Preview will appear here"})})]})})]}),l.jsxs("div",{className:"form-actions",children:[l.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:h,children:[b?"Update":"Add"," Voice Actor"]}),b&&l.jsx("button",{type:"button",onClick:te,className:"btn btn-secondary",children:"Cancel"})]})]})]}),l.jsxs("div",{className:"admin-list-section",children:[l.jsx("h2",{children:"Voice Actor List"}),I.length===0?l.jsx("p",{children:"No voice actors found."}):l.jsxs("div",{className:"admin-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{className:"col-name",children:"Name"}),l.jsx("div",{className:"col-birth-date",children:"Birth Date"}),l.jsx("div",{className:"col-nationality",children:"Nationality"}),l.jsx("div",{className:"col-actions",children:"Actions"})]}),I.length===0?l.jsx("div",{className:"table-row",children:l.jsx("div",{className:"col-span-4",style:{gridColumn:"1 / -1",textAlign:"center",padding:"1rem"},children:h?"Loading voice actors...":"No voice actors found"})}):I.map(G=>{if(!G)return null;const re=G.id||G.voice_actor_id;return re?l.jsxs("div",{className:"table-row",children:[l.jsx("div",{className:"col-name",children:G.name||"N/A"}),l.jsx("div",{className:"col-birth-date",children:G.birth_date||G.birthDate?new Date(G.birth_date||G.birthDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}):"N/A"}),l.jsx("div",{className:"col-nationality",children:G.nationality||"N/A"}),l.jsxs("div",{className:"col-actions",children:[l.jsx("button",{type:"button",onClick:()=>E(G),className:"btn btn-edit btn-sm",disabled:h,"aria-label":`Edit ${G.name||"voice actor"}`,children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>P(re),className:"btn btn-delete btn-sm",disabled:h,"aria-label":`Delete ${G.name||"voice actor"}`,children:"Delete"})]})]},`va-${re}`):(console.error("Voice actor missing ID:",G),null)})]})]})]})},Dy=({searchQuery:r})=>{const{token:o}=Je(),{isDarkMode:d}=Wt(),[c,h]=m.useState([]),[v,y]=m.useState(!0),[x,g]=m.useState(""),[f,b]=m.useState({name:"",description:"",voiceActorId:"",image_url:""}),[A,D]=m.useState(null),[Q,C]=m.useState(!1),[L,R]=m.useState(!1),[O,ee]=m.useState([]),[T,Y]=m.useState(""),[_,z]=m.useState(!1),F=m.useRef(null),[E,P]=m.useState([]),[te,I]=m.useState([]),[G,re]=m.useState(""),[ce,le]=m.useState(!1),[k,H]=m.useState(!1),ne=m.useRef(null);m.useEffect(()=>{ae(),fe(),xe();const S=W=>{F.current&&!F.current.contains(W.target)&&z(!1),ne.current&&!ne.current.contains(W.target)&&le(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]);const xe=async()=>{try{const S=await fetch("http://localhost:5000/api/animes");if(S.ok){const W=await S.json();P(Array.isArray(W)?W:[])}}catch(S){console.error("Error fetching anime list:",S)}},N=S=>{I(W=>{const ie=S.anime_id||S.id;return W.some(We=>(We.anime_id||We.id)===ie)?W.filter(We=>(We.anime_id||We.id)!==ie):[...W,{anime_id:ie,id:ie,title:S.title}]})},V=S=>{I(W=>W.filter(ie=>(ie.anime_id||ie.id)!==S))},se=m.useCallback(S=>{S.animes?I(S.animes):I([])},[]),ae=async()=>{try{y(!0);const S=await fetch("http://localhost:5000/api/characters",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!S.ok){const ie=await S.json().catch(()=>({}));throw new Error(ie.message||"Failed to fetch characters")}const W=await S.json();h(Array.isArray(W)?W:[]),g("")}catch(S){console.error("Error fetching characters:",S),g(S.message||"Failed to load characters"),h([])}finally{y(!1)}},fe=async()=>{try{const S=await fetch("http://localhost:5000/api/voice-actors",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!S.ok)throw new Error("Failed to fetch voice actors");const W=await S.json();ee(Array.isArray(W)?W:[])}catch(S){console.error("Error fetching voice actors:",S)}},ge=S=>{const{name:W,value:ie}=S.target;b(de=>({...de,[W]:ie})),W==="image_url"&&R(!1)},he=()=>{C(!1),R(!1)},et=()=>{C(!1),R(!0)},De=()=>{f.image_url&&f.image_url.trim()&&(C(!0),R(!1))},Oe=S=>{g(S),setTimeout(()=>{g("")},5e3)},Pt=S=>{g(""),g(`SUCCESS: ${S}`),setTimeout(()=>{g("")},3e3)},gt=async S=>{if(S.preventDefault(),y(!0),g(""),!f.name.trim()){Oe("Character name is required"),y(!1);return}const W=A?`http://localhost:5000/api/characters/${A}`:"http://localhost:5000/api/characters",ie=A?"PUT":"POST";try{const de=await fetch(W,{method:ie,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({name:f.name.trim(),description:f.description.trim()||null,voiceActorId:f.voiceActorId||null,image_url:f.image_url||null,animes:te.map(yt=>({anime_id:yt.anime_id||yt.id,id:yt.anime_id||yt.id,title:yt.title}))})});if(!de.ok){const yt=await de.json().catch(()=>({}));throw new Error(yt.message||(A?"Failed to update character":"Failed to add character"))}await ae(),Pt(A?"Character updated successfully!":"Character created successfully!"),A||Mt()}catch(de){Oe(de.message)}finally{y(!1)}},It=async S=>{if(!S){Oe("No character data provided");return}const W=S.id||S.character_id;if(!W){console.error("Character data missing ID:",S),Oe("Invalid character data: missing ID");return}try{H(!0),window.scrollTo({top:0,behavior:"smooth"}),b({name:S.name||"",description:S.description||"",voiceActorId:S.vaId||"",image_url:S.imageUrl||""}),D(W);const ie=await fetch(`http://localhost:5000/api/characters/${W}/details`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!ie.ok)throw new Error("Failed to fetch character details");const de=await ie.json();se(de)}catch(ie){console.error("Error loading character details:",ie),Oe("Error loading character details")}finally{H(!1)}},sa=async S=>{if(!S){Oe("Invalid character ID");return}if(window.confirm("Are you sure you want to delete this character? This will remove all their associated data."))try{const W=Number(S);if(isNaN(W)){Oe("Invalid character ID format");return}y(!0);const ie=await fetch(`http://localhost:5000/api/characters/${W}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!ie.ok){const de=await ie.json().catch(()=>({}));throw new Error(de.message||"Failed to delete character")}await ae(),g(""),g("Character deleted successfully"),setTimeout(()=>g(""),3e3)}catch(W){console.error("Delete error:",W),Oe(W.message||"Failed to delete character")}finally{y(!1)}},Mt=()=>{b({name:"",description:"",voiceActorId:"",image_url:""}),I([]),D(null),g(""),R(!1),C(!1)},ra=(c||[]).filter(S=>{if(!S)return!1;const W=S.name||"",ie=S.description||"",de=(r||"").toLowerCase();return W.toLowerCase().includes(de)||ie.toLowerCase().includes(de)});return v?l.jsx("div",{className:"loading",children:"Loading..."}):l.jsxs("div",{className:"admin-tab-content",children:[x&&l.jsx("div",{className:`alert ${x.startsWith("SUCCESS:")?"alert-success":"alert-danger"}`,children:x.startsWith("SUCCESS:")?x.substring(8):x}),l.jsxs("div",{className:"admin-form-section",children:[l.jsx("h2",{children:A?"Edit Character":"Add New Character"}),l.jsxs("form",{onSubmit:gt,children:[l.jsxs("div",{className:"row align-items-start",children:[l.jsxs("div",{className:"col-md-8",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Name *"}),l.jsx("input",{type:"text",name:"name",className:"form-control",value:f.name,onChange:ge,required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Description"}),l.jsx("textarea",{name:"description",className:"form-control",rows:"3",value:f.description,onChange:ge})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Image URL"}),l.jsx("input",{type:"url",name:"image_url",className:"form-control",value:f.image_url,onChange:ge,placeholder:"https://example.com/character-image.jpg"}),l.jsx("div",{className:"anime-url-hint",children:"Paste a direct link to a character image (JPG, PNG, WEBP)"})]})]}),l.jsx("div",{className:"col-md-4",children:l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Image Preview"}),l.jsx("div",{className:`anime-image-preview-compact ${f.image_url&&f.image_url.trim()&&!L?"has-image":""} ${L?"has-error":""}`,children:f.image_url&&f.image_url.trim()?Q?l.jsx("div",{className:"anime-image-loading",children:"Loading image..."}):L?l.jsx("div",{className:"anime-image-error",children:"Failed to load image"}):l.jsx("img",{src:f.image_url,alt:"Character preview",onLoad:he,onError:et,onLoadStart:De}):l.jsx("div",{className:"anime-image-placeholder",children:"Preview will appear here"})})]})})]}),l.jsxs("div",{className:"form-group",ref:ne,style:{position:"relative"},children:[l.jsx("label",{children:"Animes"}),k?l.jsx("div",{className:"form-control",style:{padding:"8px 12px",color:"#6c757d",fontStyle:"italic"},children:"Loading anime associations..."}):l.jsxs("div",{className:"dropdown",style:{position:"relative"},children:[l.jsx("div",{className:"form-control",style:{minHeight:"38px",cursor:"pointer",display:"flex",flexWrap:"wrap",gap:"4px",alignItems:"center",position:"relative",zIndex:1},onClick:S=>{S.stopPropagation(),le(!ce),re("")},children:te.length===0?l.jsx("span",{className:"text-muted",children:"Select animes"}):te.map(S=>l.jsxs("span",{className:"badge me-1 d-inline-flex align-items-center",style:{cursor:"pointer",backgroundColor:d?"#34495e":"#e0f2f7",color:d?"#ecf0f1":"#2c3e50",padding:"0.3em 0.6em",borderRadius:"0.25rem",fontSize:"0.85em",fontWeight:"500",border:`1px solid ${d?"#2c3e50":"#a7d9ed"}`},onClick:W=>{W.stopPropagation(),V(S.anime_id||S.id)},children:[S.title,l.jsx(ul,{size:14,className:"ms-1"})]},S.anime_id||S.id))}),ce&&l.jsxs("div",{className:"dropdown-menu show p-2",style:{width:"100%",position:"absolute",top:"100%",left:0,zIndex:1e3,background:d?"#343a40":"white",border:`1px solid ${d?"#495057":"#ced4da"}`,borderRadius:"0.25rem",boxShadow:d?"0 0.5rem 1rem rgba(0, 0, 0, 0.3)":"0 0.5rem 1rem rgba(0, 0, 0, 0.15)"},children:[l.jsx("input",{type:"text",className:"form-control form-control-sm mb-2",placeholder:"Search animes...",value:G,onChange:S=>re(S.target.value),autoFocus:!0,onClick:S=>S.stopPropagation(),style:{width:"100%",boxSizing:"border-box"}}),l.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",padding:"8px"},onClick:S=>S.stopPropagation(),children:l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",padding:"4px",position:"relative",zIndex:2},children:[E.filter(S=>!G||S.title&&S.title.toLowerCase().includes(G.toLowerCase())).map(S=>{const W=te.some(ie=>(ie.anime_id||ie.id)===(S.anime_id||S.id));return l.jsxs("div",{onClick:ie=>{ie.preventDefault(),ie.stopPropagation(),N(S)},onMouseDown:ie=>ie.preventDefault(),style:{cursor:"pointer",display:"flex",alignItems:"center",padding:"2px 8px",borderRadius:"4px",backgroundColor:W?d?"#495057":"#e9ecef":"transparent",border:"1px solid #dee2e6",fontSize:"0.9rem",flexShrink:0,userSelect:"none"},children:[l.jsx("span",{style:{marginRight:"6px"},children:S.title||S.name||`Anime ${S.id||S.anime_id}`||"Unknown"}),l.jsx("input",{type:"checkbox",className:"form-check-input",checked:W,onChange:ie=>{ie.stopPropagation(),N(S)},onClick:ie=>ie.stopPropagation(),style:{width:"14px",height:"14px",margin:0,cursor:"pointer"}})]},S.anime_id||S.id)}),E.filter(S=>!G||S.title&&S.title.toLowerCase().includes(G.toLowerCase())).length===0&&l.jsx("div",{className:"text-muted",style:{padding:"8px"},children:"No animes found"})]})})]})]})]}),l.jsxs("div",{className:"form-group",ref:F,children:[l.jsx("label",{children:"Voice Actor"}),l.jsxs("div",{className:"admin-dropdown",children:[l.jsx("div",{className:"admin-dropdown-trigger",style:{cursor:"pointer"},onClick:()=>{z(!_),Y("")},children:O.find(S=>S.id==f.voiceActorId||S.voice_actor_id==f.voiceActorId)?.name||"Select a voice actor"}),_&&l.jsxs("div",{className:"admin-dropdown-menu",children:[l.jsx("input",{type:"text",className:"admin-dropdown-search",placeholder:"Search voice actors...",value:T,onChange:S=>Y(S.target.value),autoFocus:!0,onClick:S=>S.stopPropagation()}),l.jsxs("div",{className:"admin-dropdown-content",children:[O.filter(S=>!T||S.name&&S.name.toLowerCase().includes(T.toLowerCase())).map(S=>l.jsx("button",{className:"admin-dropdown-item",type:"button",onClick:W=>{W.stopPropagation(),b(ie=>({...ie,voiceActorId:S.id||S.voice_actor_id})),z(!1)},children:S.name},S.id||S.voice_actor_id)),O.filter(S=>!T||S.name&&S.name.toLowerCase().includes(T.toLowerCase())).length===0&&l.jsx("div",{className:"admin-dropdown-empty",children:"No voice actors found"})]})]})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsxs("button",{type:"submit",className:"btn btn-primary",disabled:v,children:[A?"Update":"Add"," Character"]}),A&&l.jsx("button",{type:"button",onClick:Mt,className:"btn btn-secondary",children:"Cancel"})]})]})]}),l.jsxs("div",{className:"admin-list-section",children:[l.jsx("h2",{children:"Character List"}),ra.length===0?l.jsx("p",{children:"No characters found."}):l.jsxs("div",{className:"admin-table character-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{className:"col-name",children:"Name"}),l.jsx("div",{className:"col-description",children:"Description"}),l.jsx("div",{className:"col-va",children:"Voice Actor"}),l.jsx("div",{className:"col-actions",children:"Actions"})]}),ra.map(S=>{if(!S)return null;const W=S.id||S.character_id;return W?l.jsxs("div",{className:"table-row",children:[l.jsx("div",{className:"col-name",children:S.name||"N/A"}),l.jsx("div",{className:"col-description",children:S.description?S.description.length>50?`${S.description.substring(0,50)}...`:S.description:"N/A"}),l.jsx("div",{className:"col-va",children:S.vaName||"N/A"}),l.jsxs("div",{className:"col-actions",children:[l.jsx("button",{type:"button",onClick:()=>It(S),className:"btn btn-edit btn-sm",disabled:v,"aria-label":`Edit ${S.name||"character"}`,children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>sa(W),className:"btn btn-delete btn-sm",disabled:v,"aria-label":`Delete ${S.name||"character"}`,children:"Delete"})]})]},`char-${W}`):(console.error("Character missing ID:",S),null)})]})]})]})},Ry=({searchQuery:r})=>{const{token:o}=Je(),{isDarkMode:d}=Wt(),[c,h]=m.useState([]),[v,y]=m.useState(!0),[x,g]=m.useState(""),[f,b]=m.useState({anime_id:"",episode_number:"",title:"",duration_seconds:"",air_date:"",episode_url_yt_id:"",premium_only:!1}),[A,D]=m.useState(null),[Q,C]=m.useState(!1),[L,R]=m.useState([]),[O,ee]=m.useState(""),[T,Y]=m.useState(!1),_=m.useRef(null);m.useEffect(()=>{z(),F();const H=ne=>{_.current&&!_.current.contains(ne.target)&&Y(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]);const z=async()=>{try{y(!0);const H=await fetch("http://localhost:5000/api/episodes/admin",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!H.ok)throw new Error("Failed to fetch episodes");const ne=await H.json();h(ne)}catch(H){console.error("Error fetching episodes:",H),E("Failed to fetch episodes")}finally{y(!1)}},F=async()=>{try{const H=await fetch("http://localhost:5000/api/animes/admin",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!H.ok)throw new Error("Failed to fetch animes");const ne=await H.json();R(ne)}catch(H){console.error("Error fetching animes:",H),E("Failed to fetch animes")}},E=m.useCallback(H=>{g(H),setTimeout(()=>g(""),5e3)},[]),P=m.useCallback(H=>{g(""),g(`SUCCESS: ${H}`),setTimeout(()=>{g("")},3e3)},[]),te=H=>{const{name:ne,value:xe,type:N,checked:V}=H.target;b(se=>({...se,[ne]:N==="checkbox"?V:xe}))},I=H=>{b(ne=>({...ne,anime_id:H.id})),ee(H.title),Y(!1)},G=async H=>{if(H.preventDefault(),y(!0),g(""),!f.anime_id||!f.episode_number){E("Anime and episode number are required"),y(!1);return}try{const ne=A?`http://localhost:5000/api/episodes/${A}`:"http://localhost:5000/api/episodes",xe=A?"PUT":"POST",N={anime_id:parseInt(f.anime_id),episode_number:parseInt(f.episode_number),title:f.title||null,duration_seconds:f.duration_seconds?parseInt(f.duration_seconds):null,air_date:f.air_date||null,episode_url_yt_id:f.episode_url_yt_id||null,premium_only:f.premium_only},V=await fetch(ne,{method:xe,headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify(N)});if(!V.ok){const ae=await V.json().catch(()=>({}));E(ae.message||(A?"Failed to update episode":"Failed to add episode")),y(!1);return}await z(),P(A?"Episode updated successfully!":"Episode created successfully!"),A||le()}catch(ne){E(ne.message)}finally{y(!1)}},re=async H=>{if(!H)return;const ne=H.id;if(!ne){E("Invalid episode data: missing ID");return}try{C(!0),window.scrollTo({top:0,behavior:"smooth"}),b({anime_id:H.anime_id?String(H.anime_id):"",episode_number:H.episode_number?String(H.episode_number):"",title:H.title||"",duration_seconds:"",air_date:"",episode_url_yt_id:"",premium_only:H.premium_only||!1}),D(ne);const xe=L.find(se=>se.id===H.anime_id);xe&&ee(xe.title);const N=await fetch(`http://localhost:5000/api/episodes/${ne}/details`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!N.ok)throw new Error("Failed to fetch episode details");const V=await N.json();b({anime_id:V.anime_id?String(V.anime_id):"",episode_number:V.episode_number?String(V.episode_number):"",title:V.title||"",duration_seconds:V.duration_seconds?String(V.duration_seconds):"",air_date:V.air_date?V.air_date.split("T")[0]:"",episode_url_yt_id:V.episode_url_yt_id||"",premium_only:V.premium_only||!1})}catch(xe){console.error("Error loading episode details:",xe),E("Error loading episode details")}finally{C(!1)}},ce=async H=>{if(!H){E("Invalid episode ID");return}if(window.confirm("Are you sure you want to delete this episode?"))try{const ne=Number(H);if(isNaN(ne))throw new Error("Invalid episode ID format");const xe=await fetch(`http://localhost:5000/api/episodes/${ne}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!xe.ok){const N=await xe.json().catch(()=>({}));throw new Error(N.message||"Failed to delete episode")}await z()}catch(ne){E(ne.message||"Failed to delete episode")}},le=()=>{b({anime_id:"",episode_number:"",title:"",duration_seconds:"",air_date:"",episode_url_yt_id:"",premium_only:!1}),D(null),g(""),ee("")},k=c.filter(H=>H.title&&H.title.toLowerCase().includes(r.toLowerCase())||H.anime_title&&H.anime_title.toLowerCase().includes(r.toLowerCase()));return v&&c.length===0?l.jsxs("div",{className:"spinner-container",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading episodes data..."})]}):l.jsxs("div",{className:"admin-tab-content",children:[x&&l.jsx("div",{className:`alert ${x.startsWith("SUCCESS:")?"alert-success":"alert-danger"}`,children:x.startsWith("SUCCESS:")?x.substring(8):x}),Q&&l.jsxs("div",{className:"loading-overlay",children:[l.jsx("div",{className:"spinner"}),l.jsx("p",{children:"Loading episode details..."})]}),l.jsxs("div",{className:"admin-form-section",children:[l.jsx("h2",{children:A?"Edit Episode":"Add New Episode"}),l.jsxs("form",{onSubmit:G,children:[l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",ref:_,children:[l.jsx("label",{children:"Anime *"}),l.jsxs("div",{className:"admin-dropdown",children:[l.jsx("div",{className:"admin-dropdown-trigger",style:{cursor:"pointer"},onClick:()=>{Y(!T),ee("")},children:O||"Select an anime..."}),T&&l.jsxs("div",{className:"admin-dropdown-menu",children:[l.jsx("input",{type:"text",className:"admin-dropdown-search",placeholder:"Search animes...",value:O,onChange:H=>ee(H.target.value),autoFocus:!0,onClick:H=>H.stopPropagation()}),l.jsxs("div",{className:"admin-dropdown-content",children:[L.filter(H=>!O||H.title.toLowerCase().includes(O.toLowerCase())).map(H=>l.jsx("button",{className:"admin-dropdown-item",type:"button",onClick:ne=>{ne.stopPropagation(),I(H)},children:H.title},H.id)),L.filter(H=>!O||H.title.toLowerCase().includes(O.toLowerCase())).length===0&&l.jsx("div",{className:"admin-dropdown-empty",children:"No animes found"})]})]})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Episode Number *"}),l.jsx("input",{type:"number",name:"episode_number",className:"form-control",value:f.episode_number,onChange:te,min:"1",required:!0})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Episode Title"}),l.jsx("input",{type:"text",name:"title",className:"form-control",value:f.title,onChange:te,placeholder:"Episode title"})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Duration (seconds)"}),l.jsx("input",{type:"number",name:"duration_seconds",className:"form-control",value:f.duration_seconds,onChange:te,min:"0",placeholder:"Duration in seconds"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"Air Date"}),l.jsx("input",{type:"date",name:"air_date",className:"form-control",value:f.air_date,onChange:te})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:"YouTube Video ID"}),l.jsx("input",{type:"text",name:"episode_url_yt_id",className:"form-control",value:f.episode_url_yt_id,onChange:te,placeholder:"YouTube Video ID"})]}),l.jsx("div",{className:"form-group",children:l.jsxs("label",{className:"checkbox-label",children:[l.jsx("span",{children:"Premium Only"}),l.jsx("input",{type:"checkbox",name:"premium_only",checked:f.premium_only,onChange:te})]})}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v,children:v?"Processing...":A?"Update Episode":"Add Episode"}),l.jsx("button",{type:"button",onClick:le,className:"btn btn-secondary",children:A?"Cancel":"Clear"})]})]})]}),l.jsxs("div",{className:"admin-list-section",children:[l.jsx("h2",{children:"Episodes List"}),k.length===0?l.jsx("p",{children:"No episodes found."}):l.jsxs("div",{className:"admin-table episodes-table",children:[l.jsxs("div",{className:"table-header",children:[l.jsx("div",{className:"col-anime",children:"Anime"}),l.jsx("div",{className:"col-episode",children:"Episode #"}),l.jsx("div",{className:"col-title",children:"Title"}),l.jsx("div",{className:"col-premium",children:"Premium"}),l.jsx("div",{className:"col-actions",children:"Actions"})]}),k.map(H=>l.jsxs("div",{className:"table-row",children:[l.jsx("div",{className:"col-anime",children:H.anime_title}),l.jsxs("div",{className:"col-episode",children:["#",H.episode_number]}),l.jsx("div",{className:"col-title",children:H.title||"No title"}),l.jsx("div",{className:"col-premium",children:H.premium_only?"Yes":"No"}),l.jsxs("div",{className:"col-actions",children:[l.jsx("button",{type:"button",onClick:()=>re(H),className:"btn btn-edit btn-sm",disabled:v,children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>ce(H.id),className:"btn btn-delete btn-sm",disabled:v,children:"Delete"})]})]},H.id))]})]})]})};function Oy(){const{user:r}=Je(),{isDarkMode:o}=Wt(),[d,c]=m.useState("anime"),[h,v]=m.useState(!1),[y,x]=m.useState(""),[g,f]=m.useState(""),[b,A]=m.useState(""),D=()=>{switch(d){case"anime":return l.jsx(wy,{searchQuery:b});case"genre":return l.jsx(Ay,{searchQuery:b});case"company":return l.jsx(Cy,{searchQuery:b});case"va":return l.jsx(Ty,{searchQuery:b});case"characters":return l.jsx(Dy,{searchQuery:b});case"episodes":return l.jsx(Ry,{searchQuery:b});default:return l.jsx("div",{children:"Select a tab to begin"})}};return l.jsxs("div",{className:`admin-container ${o?"dark-mode":""}`,children:[l.jsx("h1",{children:"Admin Dashboard"}),l.jsxs("div",{className:"admin-tabs",children:[l.jsx("button",{className:`tab-btn ${d==="anime"?"active":""}`,onClick:()=>c("anime"),children:"Anime"}),l.jsx("button",{className:`tab-btn ${d==="genre"?"active":""}`,onClick:()=>c("genre"),children:"Genres"}),l.jsx("button",{className:`tab-btn ${d==="company"?"active":""}`,onClick:()=>c("company"),children:"Companies"}),l.jsx("button",{className:`tab-btn ${d==="va"?"active":""}`,onClick:()=>c("va"),children:"Voice Actors"}),l.jsx("button",{className:`tab-btn ${d==="characters"?"active":""}`,onClick:()=>c("characters"),children:"Characters"}),l.jsx("button",{className:`tab-btn ${d==="episodes"?"active":""}`,onClick:()=>c("episodes"),children:"Episodes"})]}),l.jsx("div",{className:"admin-search",children:l.jsx("input",{type:"text",className:"form-control",placeholder:d==="episodes"?"Search episodes by anime or title...":`Search ${d}...`,value:b,onChange:Q=>A(Q.target.value)})}),y&&l.jsx("div",{className:"alert alert-success",children:y}),g&&l.jsx("div",{className:"alert alert-danger",children:g}),l.jsx("div",{className:"admin-content",children:h?l.jsx("div",{className:"spinner-container",children:l.jsx("div",{className:"spinner"})}):D()})]})}const zy=()=>{const r=_t(),{currentUser:o,loading:d,token:c}=m.useContext(vi),{isDarkMode:h}=Wt(),[v,y]=m.useState(null),[x,g]=m.useState(!0);m.useEffect(()=>{(async()=>{if(c)try{const A=await fetch("/api/subscriptions/current",{headers:{Authorization:`Bearer ${c}`}});if(A.ok){const D=await A.json();y(D)}}catch(A){console.error("Error fetching subscription details:",A)}finally{g(!1)}})()},[c]);const f=async b=>{let A;switch(b){case"Monthly":A=9.99;break;case"Yearly":A=99.99;break;case"Lifetime":A=399.99;break;default:A=0}try{const Q=await(await fetch("https://test-project-production-bf2e.up.railway.app/api/create-trx",{method:"POST",headers:{"Content-Type":"application/json",apikey:"13acc245-b584-4767-b80a-5c9a1fe9d71e"},body:JSON.stringify({username:"scariful",amount:parseFloat(A)})})).json();if(Q.valid){const C=Q.transactionid;try{const O={subscriptionType:b,amount:parseFloat(A),transactionId:C};console.log("Sending request to create transaction:",O),console.log("Using token:",c?"Token present":"No token");const ee=await fetch("/api/subscriptions/create-transaction",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(O)});if(!ee.ok){const T=await ee.json();if(console.error("Failed to create transaction record:",T.message),console.error("Response status:",ee.status),console.error("Response details:",T),ee.status===400&&T.subscriptionDetails){const Y=T.subscriptionDetails.subscriptionType==="Lifetime"?"Lifetime Access":T.subscriptionDetails.endDate?new Date(T.subscriptionDetails.endDate).toLocaleDateString():"N/A";alert(`You already have an active subscription! 
Subscription Type: ${T.subscriptionDetails.subscriptionType}
Valid Until: ${Y}`),window.location.reload()}else alert(`Failed to initialize payment: ${T.message}`);return}}catch(O){console.error("Error creating transaction record:",O),alert("An error occurred while initializing payment. Please try again.");return}const L=encodeURIComponent(`${window.location.origin}/payment-confirmation?transactionId=${C}`),R=`https://tpg-six.vercel.app/gateway?transactionid=${C}&redirectURL=${L}`;window.location.href=R}else console.error("Failed to create transaction:",Q.message),alert("Failed to initiate payment. Please try again.")}catch(D){console.error("Error creating transaction:",D),alert("An error occurred while initiating payment. Please try again.")}};return l.jsx("div",{className:`subscription-container ${h?"dark-mode":""}`,children:x?l.jsxs("div",{className:"loading-message",children:[l.jsx("h1",{children:"Loading..."}),l.jsx("p",{children:"Loading subscription details..."})]}):l.jsxs(l.Fragment,{children:[v&&v.hasSubscription?l.jsxs(l.Fragment,{children:[l.jsx("h1",{children:"Your Subscription"}),l.jsxs("div",{className:"subscription-message",children:[l.jsx("h2",{children:"Active Subscription"}),l.jsx("p",{children:"You already have an active subscription. Thank you for your continued support!"}),l.jsxs("div",{className:"subscription-details",children:[l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Subscription Type:"})," ",v.subscriptionType]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Transaction ID:"})," ",v.transactionId]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Purchased On:"})," ",v.purchasedOn?new Date(v.purchasedOn).toLocaleDateString():"N/A"]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Valid Until:"})," ",v.subscriptionType==="Lifetime"?"Lifetime Access":v.endDate?new Date(v.endDate).toLocaleDateString():"N/A"]})]})]})]}):v&&v.isExpired?l.jsxs(l.Fragment,{children:[l.jsx("h1",{children:"Renew Your Subscription"}),l.jsxs("div",{className:"subscription-message expired",children:[l.jsx("h2",{children:"Subscription Expired"}),l.jsx("p",{children:"Your subscription has expired. Please renew to continue enjoying premium features."}),l.jsxs("div",{className:"subscription-details",children:[l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Previous Subscription:"})," ",v.subscriptionType]}),l.jsxs("div",{className:"detail-item",children:[l.jsx("strong",{children:"Expired On:"})," ",v.endDate?new Date(v.endDate).toLocaleDateString():"N/A"]})]}),l.jsxs("div",{className:"subscription-options",children:[l.jsxs("div",{className:"subscription-plan",children:[l.jsx("h2",{children:"Monthly"}),l.jsx("p",{className:"price",children:"$9.99/month"}),l.jsx("button",{onClick:()=>f("Monthly"),children:"Renew Monthly"})]}),l.jsxs("div",{className:"subscription-plan",children:[l.jsx("h2",{children:"Yearly"}),l.jsx("p",{className:"price",children:"$99.99/year"}),l.jsx("button",{onClick:()=>f("Yearly"),children:"Renew Yearly"})]}),l.jsxs("div",{className:"subscription-plan",children:[l.jsx("h2",{children:"Lifetime"}),l.jsx("p",{className:"price",children:"$299.99"}),l.jsx("button",{onClick:()=>f("Lifetime"),children:"Upgrade to Lifetime"})]})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{children:"Choose Your Subscription Plan"}),l.jsxs("div",{className:"subscription-options",children:[l.jsxs("div",{className:"subscription-plan",children:[l.jsx("h2",{children:"Monthly"}),l.jsx("p",{className:"price",children:"$9.99/month"}),l.jsx("button",{onClick:()=>f("monthly"),children:"Continue to Payment"})]}),l.jsxs("div",{className:"subscription-plan",children:[l.jsx("h2",{children:"Yearly"}),l.jsx("p",{className:"price",children:"$99.99/year"}),l.jsx("button",{onClick:()=>f("yearly"),children:"Continue to Payment"})]}),l.jsxs("div",{className:"subscription-plan",children:[l.jsx("h2",{children:"Lifetime"}),l.jsx("p",{className:"price",children:"$299.99"}),l.jsx("button",{onClick:()=>f("lifetime"),children:"Continue to Payment"})]})]})]}),l.jsx("div",{className:"subscription-actions",children:l.jsx("button",{onClick:()=>r("/"),className:"home-button",children:"Go to Homepage"})})]})})},My=()=>{const[r,o]=m.useState("pending"),[d,c]=m.useState(null),h=vt(),v=_t(),y=new URLSearchParams(h.search).get("transactionId"),{isDarkMode:x}=Wt();return m.useEffect(()=>{(async()=>{if(!y){o("failed");return}let f=0;const b=10,D=setInterval(async()=>{if(f++,f>b){clearInterval(D),o("failed"),console.error("Max polling attempts reached. Transaction status unknown.");return}try{const C=await(await fetch(`https://test-project-production-bf2e.up.railway.app/api/get-trx-details/${y}`,{headers:{apikey:"13acc245-b584-4767-b80a-5c9a1fe9d71e"}})).json();if(C.valid)if(c(C.transactionDetails),C.transactionDetails.status&&C.transactionDetails.status.toLowerCase().trim()==="completed"){o("success"),clearInterval(D);try{const L=await fetch("/api/subscriptions/confirm-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transactionId:y,isPaid:!0,completedOn:C.transactionDetails.completed_on})});if(!L.ok){const R=await L.json();console.error("Failed to confirm payment with backend:",R.message)}}catch(L){console.error("Error confirming payment with backend:",L)}}else C.transactionDetails.status&&C.transactionDetails.status.toLowerCase().trim()==="failed"&&(o("failed"),clearInterval(D));else console.error("Failed to get transaction details:",C.message)}catch(Q){console.error("Error polling transaction status:",Q)}},3e3);return()=>clearInterval(D)})()},[y]),l.jsxs("div",{className:`payment-confirmation-container ${x?"dark-mode":""}`,children:[r==="pending"&&l.jsxs("div",{className:"pending-container",children:[l.jsx("h2",{children:"Processing your payment..."}),l.jsx("div",{className:"spinner-container",children:l.jsx("div",{className:"spinner"})}),d&&l.jsxs("p",{children:["Status: ",d.status]})]}),r==="success"&&l.jsxs("div",{className:"success-container",children:[l.jsx("h2",{children:"Payment Successful!"}),l.jsx("p",{children:"Thank you for your purchase. Your subscription is now active."}),d&&l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:["Recipient: ",d.recipient]}),l.jsxs("p",{children:["Amount: $",d.subamount]}),l.jsxs("p",{children:["Fees: $",d.feesamount]}),l.jsxs("p",{children:["Completed On: ",new Date(d.completed_on).toLocaleString()]})]}),l.jsx("div",{className:"action-buttons",children:l.jsx("button",{onClick:()=>v("/"),className:"home-button",children:"Return to Homepage"})})]}),r==="failed"&&l.jsxs("div",{className:"failed-container",children:[l.jsx("h2",{children:"Payment Failed"}),l.jsx("p",{children:"Unfortunately, we were unable to process your payment. Please try again."}),d&&l.jsxs("p",{children:["Status: ",d.status]}),l.jsxs("div",{className:"action-buttons",children:[l.jsx("button",{onClick:()=>v("/subscription"),className:"retry-button",children:"Try Again"}),l.jsx("button",{onClick:()=>v("/"),className:"home-button",children:"Return to Homepage"})]})]})]})};function Ly(){const{token:r}=Je();_t();const[o,d]=m.useState([]),[c,h]=m.useState([]),[v,y]=m.useState([]),[x,g]=m.useState(""),[f,b]=m.useState([]),[A,D]=m.useState(""),[Q,C]=m.useState(!0),[L,R]=m.useState("");m.useEffect(()=>{if(!r)return;(async()=>{try{C(!0),R("");const[F,E,P]=await Promise.all([fetch("/api/friends/requests",{headers:{Authorization:`Bearer ${r}`}}),fetch("/api/friends",{headers:{Authorization:`Bearer ${r}`}}),fetch("/api/friends/requests/sent",{headers:{Authorization:`Bearer ${r}`}})]);if(!F.ok)throw new Error("Failed to load friend requests");if(!E.ok)throw new Error("Failed to load friends list");if(!P.ok)throw new Error("Failed to load sent requests");const[te,I,G]=await Promise.all([F.json(),E.json(),P.json()]);d(Array.isArray(te)?te:[]),y(Array.isArray(I)?I:[]),h(Array.isArray(G)?G:[])}catch(F){console.error("Error fetching friend data:",F),R(F.message||"Failed to load friend data")}finally{C(!1)}})()},[r]),m.useEffect(()=>{let z=!0;const F=async()=>{const P=x.trim();if(!P){b([]);return}try{const te=await fetch(`/api/users/search?q=${encodeURIComponent(P)}`,{headers:{Authorization:`Bearer ${r}`}});if(!te.ok)throw new Error("Search failed");const I=await te.json();if(!z)return;if(!Array.isArray(I)){console.error("Invalid search results format:",I),R("Invalid response format from server"),b([]);return}b(I)}catch(te){if(!z)return;console.error("Search error:",te),R("Failed to connect to server"),b([])}},E=setTimeout(()=>{F()},300);return()=>{z=!1,clearTimeout(E)}},[x,r]);const O=async(z,F)=>{try{const E=await fetch(`/api/friends/requests/${z}/${F}`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},credentials:"include"}),P=await E.json().catch(()=>({}));if(!E.ok)throw new Error(P.message||"Failed to respond to friend request");if(d(te=>te.filter(I=>I.user_id!==z)),F==="accept"){const te=await fetch("/api/friends",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},credentials:"include"});if(te.ok){const I=await te.json();y(I)}}}catch(E){console.error("Error responding to friend request:",E),R(E.message||"Failed to respond to friend request")}},ee=async z=>{try{const F=await fetch("/api/friends/requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},credentials:"include",body:JSON.stringify({addresseeId:z})}),E=await F.json().catch(()=>({}));if(!F.ok)throw new Error(E.message||"Failed to send friend request");b(P=>P.map(te=>te.user_id===z?{...te,friendship_status:"request_sent"}:te)),D("Friend request sent!"),setTimeout(()=>D(""),3e3)}catch(F){console.error("Error sending friend request:",F),R(F.message||"Failed to send friend request")}},T=async z=>{if(window.confirm("Are you sure you want to remove this friend?"))try{const F=await fetch(`/api/friends/${z}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},credentials:"include"}),E=await F.json().catch(()=>({}));if(!F.ok)throw new Error(E.message||`Server responded with ${F.status}`);const P=await fetch("/api/friends",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},credentials:"include"});if(P.ok){const te=await P.json();y(te),D("Friend removed successfully"),setTimeout(()=>D(""),3e3)}}catch(F){console.error("Remove friend failed:",F),R(F.message||"Failed to remove friend")}},Y=async z=>{if(window.confirm("Are you sure you want to cancel this friend request?"))try{const F=await fetch(`/api/friends/requests/${z}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},credentials:"include"}),E=await F.json().catch(()=>({}));if(!F.ok)throw new Error(E.message||`Server responded with ${F.status}`);b(P=>P.map(te=>te.user_id===z?{...te,friendship_status:"none"}:te)),h(P=>P.filter(te=>te.user_id!==z)),D("Friend request canceled successfully!"),setTimeout(()=>D(""),3e3)}catch(F){console.error("Error canceling friend request:",F),R(F.message||"Failed to cancel friend request")}},_=z=>{switch(z.friendship_status){case"friend":return l.jsx("span",{className:"status-badge friend",children:"Friends"});case"request_sent":return l.jsx("button",{className:"btn-small reject",onClick:()=>Y(z.user_id),children:"Cancel Request"});case"request_received":return l.jsxs("div",{children:[l.jsx("button",{className:"btn-small accept",onClick:()=>O(z.user_id,"accept"),children:"Accept"}),l.jsx("button",{className:"btn-small reject",onClick:()=>O(z.user_id,"reject"),children:"Reject"})]});default:return l.jsx("button",{onClick:()=>ee(z.user_id),className:"btn-small",children:"Add Friend"})}};return Q?l.jsx("div",{className:"spinner-container",children:l.jsx("div",{className:"spinner"})}):L?l.jsx("div",{className:"error-message",children:L}):l.jsxs("div",{className:"my-friends-page",children:[l.jsx("h1",{children:"My Friends"}),l.jsxs("section",{className:"friend-requests",children:[l.jsx("h2",{children:"Incoming Friend Requests"}),l.jsx("div",{className:"scroll-box incoming-requests-grid",children:o.length>0?o.map(z=>l.jsxs("div",{className:"friend-request",children:[l.jsxs("div",{className:"request-info",children:[l.jsx("img",{src:z.profile_picture_url||ol,alt:z.display_name||"User",className:"friend-avatar"}),l.jsxs("div",{children:[l.jsx("div",{className:"user-name",children:z.display_name}),l.jsx("div",{className:"user-username",children:l.jsxs(be,{to:`/profile/${z.user_id}`,children:["@",z.username]})})]})]}),l.jsxs("div",{className:"request-actions",children:[l.jsx("button",{className:"btn-small accept",onClick:()=>O(z.user_id,"accept"),children:"Accept"}),l.jsx("button",{className:"btn-small reject",onClick:()=>O(z.user_id,"reject"),children:"Reject"})]})]},z.user_id)):l.jsx("p",{children:"No pending friend requests"})})]}),l.jsxs("section",{className:"friend-requests",children:[l.jsx("h2",{children:"Sent Friend Requests"}),l.jsx("div",{className:"scroll-box sent-requests-grid",children:c.length>0?c.map(z=>l.jsxs("div",{className:"friend-request",children:[l.jsxs("div",{className:"request-info",children:[l.jsx("img",{src:z.profile_picture_url||ol,alt:z.display_name||"User",className:"friend-avatar"}),l.jsxs("div",{children:[l.jsx("div",{className:"user-name",children:z.display_name}),l.jsx("div",{className:"user-username",children:l.jsxs(be,{to:`/profile/${z.user_id}`,children:["@",z.username]})})]})]}),l.jsx("div",{className:"request-actions",children:l.jsx("button",{className:"btn-small reject",onClick:()=>Y(z.user_id),children:"Cancel Request"})})]},z.user_id)):l.jsx("p",{children:"No sent friend requests"})})]}),l.jsxs("section",{className:"friends-list-section",children:[l.jsx("h2",{children:"Your Friends"}),l.jsx("div",{className:"scroll-box friends-grid",children:v.length>0?v.map(z=>l.jsxs("div",{className:"friend-card",children:[l.jsx("div",{className:"friend-avatar-container",children:l.jsx("img",{src:z.profile_picture_url||ol,alt:z.display_name||"Friend",className:"friend-avatar"})}),l.jsxs("div",{className:"friend-info",children:[l.jsx("h3",{children:z.display_name||z.username}),l.jsx("p",{children:l.jsxs(be,{to:`/profile/${z.user_id}`,children:["@",z.username]})})]}),l.jsx("button",{className:"btn-small unfriend",onClick:()=>T(z.user_id),children:"Unfriend"})]},z.user_id)):l.jsx("p",{children:"You don't have any friends yet"})})]}),l.jsxs("section",{className:"find-friends",children:[l.jsx("h2",{children:"Find Friends"}),l.jsxs("div",{className:"search-container",children:[l.jsx("input",{type:"text",placeholder:"Search by username or display name...",value:x,onChange:z=>g(z.target.value),className:"search-input"}),A&&l.jsx("div",{className:"success-message",children:A})]}),x&&f.length===0&&l.jsx("p",{className:"no-results-message",children:"No users found matching your search."}),f.length>0&&l.jsx("div",{className:"search-results",children:f.map(z=>l.jsxs("div",{className:"search-result-item",children:[l.jsxs("div",{className:"user-info",children:[l.jsx("img",{src:z.profile_picture_url||ol,alt:z.display_name||"User",className:"user-avatar"}),l.jsxs("div",{children:[l.jsx("div",{className:"user-name",children:z.display_name||"No display name"}),l.jsx("div",{className:"user-username",children:l.jsxs(be,{to:`/profile/${z.user_id}`,children:["@",z.username]})})]})]}),_(z)]},z.user_id))})]})]})}function Uy(){return l.jsx($g,{children:l.jsx(Yg,{children:l.jsx(Gg,{children:l.jsxs(Cg,{children:[l.jsx(ty,{}),l.jsx(Ig,{}),l.jsxs("div",{className:"App",children:[l.jsx("header",{className:"App-header",children:l.jsx("div",{className:"header-content",children:l.jsx(Pg,{})})}),l.jsx("main",{className:"main-content",children:l.jsxs(lg,{children:[l.jsx(Ke,{path:"/",element:l.jsx(yy,{})}),l.jsx(Ke,{path:"/search-results",element:l.jsx(by,{})}),l.jsx(Ke,{path:"/login",element:l.jsx(ay,{})}),l.jsx(Ke,{path:"/register",element:l.jsx(ny,{})}),l.jsx(Ke,{path:"/admin",element:l.jsx(Xg,{children:l.jsx(Oy,{})})}),l.jsx(Ke,{path:"/anime/:animeId",element:l.jsx(my,{})}),l.jsx(Ke,{path:"/character/:charId",element:l.jsx(hy,{})}),l.jsx(Ke,{path:"/va/:vaId",element:l.jsx(py,{})}),l.jsx(Ke,{path:"/genre/:genreId",element:l.jsx(vy,{})}),l.jsx(Ke,{path:"/company/:companyId",element:l.jsx(gy,{})}),l.jsx(Ke,{path:"/my-lists",element:l.jsx(Ea,{children:l.jsx(Sy,{})})}),l.jsx(Ke,{path:"/anime-library",element:l.jsx(Ea,{children:l.jsx(Ny,{})})}),l.jsx(Ke,{path:"/lists/:id",element:l.jsx(Ea,{children:l.jsx(Ey,{})})}),l.jsx(Ke,{path:"/profile",element:l.jsx(Ea,{children:l.jsx(wm,{})})}),l.jsx(Ke,{path:"/profile/:userId",element:l.jsx(Ea,{children:l.jsx(wm,{})})}),l.jsx(Ke,{path:"/search-lists",element:l.jsx(Ea,{children:l.jsx(_y,{})})}),l.jsx(Ke,{path:"*",element:l.jsx(jy,{})}),l.jsx(Ke,{path:"/subscription",element:l.jsx(Ea,{children:l.jsx(zy,{})})}),l.jsx(Ke,{path:"/payment-confirmation",element:l.jsx(Ea,{children:l.jsx(My,{})})}),l.jsx(Ke,{path:"/my-friends",element:l.jsx(Ea,{children:l.jsx(Ly,{})})})]})})]})]})})})})}const ky=hv.createRoot(document.getElementById("root"));ky.render(l.jsx(Os.StrictMode,{children:l.jsx(Uy,{})}));
